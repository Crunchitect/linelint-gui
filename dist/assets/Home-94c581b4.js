import{o as se,c as Pe,a as At,F as Os,r as sh,n as HP,b as Xu,d as ah,e as br,f as Qt,g as Hr,w as Ts,u as In,h as uh,t as qu,i as Is,j as Vr,K as A_,k as C_,l as VP,m as M_,p as UP,q as $P,s as lh,v as QP,x as ZP,y as JP,z as ch,A as R_,B as fh,C as KP,D as tk,E as O_,G as ek,__tla as nk}from"./index-8aaa768c.js";let T_,rk=Promise.all([(()=>{try{return nk}catch{}})()]).then(async()=>{const Ps=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},I_={},P_={class:"w-1/6 h-[90vh] bg-base"},k_=At("h1",{class:"text-primary text-3xl font-bold p-2 sticky"},"Inspector",-1),B_=[k_];function G_(t,e){return se(),Pe("div",P_,B_)}const L_=Ps(I_,[["render",G_]]);var F_=typeof global=="object"&&global&&global.Object===Object&&global;const z_=F_;var N_=typeof self=="object"&&self&&self.Object===Object&&self,j_=z_||N_||Function("return this")();const ks=j_;var W_=ks.Symbol;const xi=W_;var hh=Object.prototype,Y_=hh.hasOwnProperty,X_=hh.toString,mo=xi?xi.toStringTag:void 0;function q_(t){var e=Y_.call(t,mo),n=t[mo];try{t[mo]=void 0;var r=!0}catch{}var i=X_.call(t);return r&&(e?t[mo]=n:delete t[mo]),i}var H_=Object.prototype,V_=H_.toString;function U_(t){return V_.call(t)}var $_="[object Null]",Q_="[object Undefined]",dh=xi?xi.toStringTag:void 0;function Hu(t){return t==null?t===void 0?Q_:$_:dh&&dh in Object(t)?q_(t):U_(t)}function Bs(t){return t!=null&&typeof t=="object"}var Z_="[object Symbol]";function J_(t){return typeof t=="symbol"||Bs(t)&&Hu(t)==Z_}function K_(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var t1=Array.isArray;const e1=t1;var n1=/\s/;function r1(t){for(var e=t.length;e--&&n1.test(t.charAt(e)););return e}var i1=/^\s+/;function o1(t){return t&&t.slice(0,r1(t)+1).replace(i1,"")}function _o(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ph=0/0,s1=/^[-+]0x[0-9a-f]+$/i,a1=/^0b[01]+$/i,u1=/^0o[0-7]+$/i,l1=parseInt;function vh(t){if(typeof t=="number")return t;if(J_(t))return ph;if(_o(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_o(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=o1(t);var n=a1.test(t);return n||u1.test(t)?l1(t.slice(2),n?2:8):s1.test(t)?ph:+t}function gh(t){return t}var c1="[object AsyncFunction]",f1="[object Function]",h1="[object GeneratorFunction]",d1="[object Proxy]";function mh(t){if(!_o(t))return!1;var e=Hu(t);return e==f1||e==h1||e==c1||e==d1}var p1=ks["__core-js_shared__"];const Vu=p1;var _h=function(){var t=/[^.]+$/.exec(Vu&&Vu.keys&&Vu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function v1(t){return!!_h&&_h in t}var g1=Function.prototype,m1=g1.toString;function _1(t){if(t!=null){try{return m1.call(t)}catch{}try{return t+""}catch{}}return""}var y1=/[\\^$.*+?()[\]{}|]/g,b1=/^\[object .+?Constructor\]$/,x1=Function.prototype,w1=Object.prototype,S1=x1.toString,E1=w1.hasOwnProperty,D1=RegExp("^"+S1.call(E1).replace(y1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function A1(t){if(!_o(t)||v1(t))return!1;var e=mh(t)?D1:b1;return e.test(_1(t))}function C1(t,e){return t==null?void 0:t[e]}function Uu(t,e){var n=C1(t,e);return A1(n)?n:void 0}function M1(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var R1=800,O1=16,T1=Date.now;function I1(t){var e=0,n=0;return function(){var r=T1(),i=O1-(r-n);if(n=r,i>0){if(++e>=R1)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function P1(t){return function(){return t}}var k1=function(){try{var t=Uu(Object,"defineProperty");return t({},"",{}),t}catch{}}();const yh=k1;var B1=yh?function(t,e){return yh(t,"toString",{configurable:!0,enumerable:!1,value:P1(e),writable:!0})}:gh,G1=I1(B1);const L1=G1;function F1(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function z1(t){return t!==t}function N1(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function j1(t,e,n){return e===e?N1(t,e,n):F1(t,z1,n)}function W1(t,e){var n=t==null?0:t.length;return!!n&&j1(t,e,0)>-1}function Y1(t,e){return t===e||t!==t&&e!==e}var bh=Math.max;function X1(t,e,n){return e=bh(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=bh(r.length-e,0),u=Array(s);++i<s;)u[i]=r[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=r[i];return l[e]=n(u),M1(t,this,l)}}function q1(t,e){return L1(X1(t,e,gh),t+"")}var H1=9007199254740991;function V1(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=H1}function U1(t){return t!=null&&V1(t.length)&&!mh(t)}var $1="[object Arguments]";function xh(t){return Bs(t)&&Hu(t)==$1}var wh=Object.prototype,Q1=wh.hasOwnProperty,Z1=wh.propertyIsEnumerable,J1=xh(function(){return arguments}())?xh:function(t){return Bs(t)&&Q1.call(t,"callee")&&!Z1.call(t,"callee")};const K1=J1;function ty(t){return function(e){return t(e)}}var ey=Uu(Object,"create");const yo=ey;function ny(){this.__data__=yo?yo(null):{},this.size=0}function ry(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var iy="__lodash_hash_undefined__",oy=Object.prototype,sy=oy.hasOwnProperty;function ay(t){var e=this.__data__;if(yo){var n=e[t];return n===iy?void 0:n}return sy.call(e,t)?e[t]:void 0}var uy=Object.prototype,ly=uy.hasOwnProperty;function cy(t){var e=this.__data__;return yo?e[t]!==void 0:ly.call(e,t)}var fy="__lodash_hash_undefined__";function hy(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=yo&&e===void 0?fy:e,this}function Ur(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ur.prototype.clear=ny,Ur.prototype.delete=ry,Ur.prototype.get=ay,Ur.prototype.has=cy,Ur.prototype.set=hy;function dy(){this.__data__=[],this.size=0}function Gs(t,e){for(var n=t.length;n--;)if(Y1(t[n][0],e))return n;return-1}var py=Array.prototype,vy=py.splice;function gy(t){var e=this.__data__,n=Gs(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():vy.call(e,n,1),--this.size,!0}function my(t){var e=this.__data__,n=Gs(e,t);return n<0?void 0:e[n][1]}function _y(t){return Gs(this.__data__,t)>-1}function yy(t,e){var n=this.__data__,r=Gs(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function wi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wi.prototype.clear=dy,wi.prototype.delete=gy,wi.prototype.get=my,wi.prototype.has=_y,wi.prototype.set=yy;var by=Uu(ks,"Map");const xy=by;function wy(){this.size=0,this.__data__={hash:new Ur,map:new(xy||wi),string:new Ur}}function Sy(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Ls(t,e){var n=t.__data__;return Sy(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Ey(t){var e=Ls(this,t).delete(t);return this.size-=e?1:0,e}function Dy(t){return Ls(this,t).get(t)}function Ay(t){return Ls(this,t).has(t)}function Cy(t,e){var n=Ls(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function Si(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Si.prototype.clear=wy,Si.prototype.delete=Ey,Si.prototype.get=Dy,Si.prototype.has=Ay,Si.prototype.set=Cy;function My(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var Sh=xi?xi.isConcatSpreadable:void 0;function Ry(t){return e1(t)||K1(t)||!!(Sh&&t&&t[Sh])}function Eh(t,e,n,r,i){var s=-1,u=t.length;for(n||(n=Ry),i||(i=[]);++s<u;){var l=t[s];e>0&&n(l)?e>1?Eh(l,e-1,n,r,i):My(i,l):r||(i[i.length]=l)}return i}var Oy="__lodash_hash_undefined__";function Ty(t){return this.__data__.set(t,Oy),this}function Iy(t){return this.__data__.has(t)}function Fs(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Si;++e<n;)this.add(t[e])}Fs.prototype.add=Fs.prototype.push=Ty,Fs.prototype.has=Iy;function Py(t,e){return t.has(e)}var ky=function(){return ks.Date.now()};const $u=ky;var By="Expected a function",Gy=Math.max,Ly=Math.min;function Fy(t,e,n){var r,i,s,u,l,c,f=0,d=!1,p=!1,v=!0;if(typeof t!="function")throw new TypeError(By);e=vh(e)||0,_o(n)&&(d=!!n.leading,p="maxWait"in n,s=p?Gy(vh(n.maxWait)||0,e):s,v="trailing"in n?!!n.trailing:v);function g(A){var T=r,O=i;return r=i=void 0,f=A,u=t.apply(O,T),u}function m(A){return f=A,l=setTimeout(x,e),d?g(A):u}function _(A){var T=A-c,O=A-f,I=e-T;return p?Ly(I,s-O):I}function b(A){var T=A-c,O=A-f;return c===void 0||T>=e||T<0||p&&O>=s}function x(){var A=$u();if(b(A))return w(A);l=setTimeout(x,_(A))}function w(A){return l=void 0,v&&r?g(A):(r=i=void 0,u)}function E(){l!==void 0&&clearTimeout(l),f=0,r=c=i=l=void 0}function D(){return l===void 0?u:w($u())}function M(){var A=$u(),T=b(A);if(r=arguments,i=this,c=A,T){if(l===void 0)return m(c);if(p)return clearTimeout(l),l=setTimeout(x,e),g(c)}return l===void 0&&(l=setTimeout(x,e)),u}return M.cancel=E,M.flush=D,M}function Qu(t){return Bs(t)&&U1(t)}function zy(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Ny=200;function jy(t,e,n,r){var i=-1,s=W1,u=!0,l=t.length,c=[],f=e.length;if(!l)return c;n&&(e=K_(e,ty(n))),r?(s=zy,u=!1):e.length>=Ny&&(s=Py,u=!1,e=new Fs(e));t:for(;++i<l;){var d=t[i],p=n==null?d:n(d);if(d=r||d!==0?d:0,u&&p===p){for(var v=f;v--;)if(e[v]===p)continue t;c.push(d)}else s(e,p,r)||c.push(d)}return c}function Wy(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Yy=q1(function(t,e){var n=Wy(e);return Qu(n)&&(n=void 0),Qu(t)?jy(t,Eh(e,1,Qu,!0),void 0,n):[]});const Xy=Yy;var zs={},$r=typeof Map=="function"?new Map:null,Yn="swap",Qr="move",qy="synchronize",xr="layoutStart",Dh="layoutEnd",Ah="layoutAbort",Ch="add",Mh="remove",Hy="showStart",Vy="showEnd",bo="hideStart",Uy="hideEnd",Rh="filter",Oh="sort",Ns="move",js="send",wr="beforeSend",Ws="receive",Ys="beforeReceive",$y="dragInit",Qy="dragStart",Zy="dragMove",Jy="dragScroll",Ky="dragEnd",tb="dragReleaseStart",xo="dragReleaseEnd",eb="destroy",Th="ontouchstart"in window,Zu=!!window.PointerEvent,Ju=!!window.navigator.msPointerEnabled,nb=16777216;function mn(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}mn.prototype.on=function(t,e){if(!this._events||!t||!e)return this;var n=this._events[t];return n||(n=this._events[t]=[]),n.push(e),this},mn.prototype.off=function(t,e){if(!this._events||!t||!e)return this;var n=this._events[t];if(!n||!n.length)return this;for(var r;(r=n.indexOf(e))!==-1;)n.splice(r,1);return this},mn.prototype.clear=function(t){if(!this._events||!t)return this;var e=this._events[t];return e&&(e.length=0,delete this._events[t]),this},mn.prototype.emit=function(t){if(!this._events||!t)return this._clearOnEmit=!1,this;var e=this._events[t];if(!e||!e.length)return this._clearOnEmit=!1,this;var n=this._queue,r=n.length,i=arguments.length-1,s;i>3&&(s=[],s.push.apply(s,arguments),s.shift()),n.push.apply(n,e),this._clearOnEmit&&(e.length=0,this._clearOnEmit=!1),++this._counter;for(var u=r,l=n.length;u<l;u++)if(i===0?n[u]():i===1?n[u](arguments[1]):i===2?n[u](arguments[1],arguments[2]):i===3?n[u](arguments[1],arguments[2],arguments[3]):n[u].apply(null,s),!this._events)return this;return--this._counter,this._counter||(n.length=0),this},mn.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this},mn.prototype.countListeners=function(t){if(!this._events)return 0;var e=this._events[t];return e?e.length:0},mn.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var Xs=Zu?"pointerout":Ju?"MSPointerOut":"",rb=100;function Sr(t){Xs&&(this._dragger=t,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}Sr.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(Xs,this._onOut))},Sr.prototype._removeBehaviour=function(){this._isActive&&(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(Xs,this._onOut),this._resetData(),this._isActive=!1)},Sr.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null},Sr.prototype._onStart=function(t){t.pointerType!=="mouse"&&this._addBehaviour()},Sr.prototype._onOut=function(t){this._dragger._getTrackedTouch(t)&&(this._resetData(),this._outEvent=t,this._timeout=window.setTimeout(this._onTimeout,rb))},Sr.prototype._onTimeout=function(){var t=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(t)},Sr.prototype.destroy=function(){Xs&&(this._dragger.off("start",this._onStart),this._removeBehaviour())};var Ku=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],Ih={};function qs(t,e){var n=Ih[e]||"";if(n)return n;for(var r=e[0].toUpperCase()+e.slice(1),i=0;i<Ku.length;){if(n=Ku[i]?Ku[i]+r:e,n in t)return Ih[e]=n,n;++i}return""}function Ph(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassive",null,e),window.removeEventListener("testPassive",null,e)}catch{}return t}var Hs=window.navigator.userAgent.toLowerCase(),ib=Hs.indexOf("edge")>-1,ob=Hs.indexOf("trident")>-1,sb=Hs.indexOf("firefox")>-1,ab=Hs.indexOf("android")>-1,Er=Ph()?{passive:!0}:!1,kh="touchAction",Vs=qs(document.documentElement.style,kh),ub="auto";function J(t,e){this._element=t,this._emitter=new mn,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(ib||ob)&&(Zu||Ju)&&(this._edgeHack=new Sr(this)),this.setCssProps(e),this._touchAction||this.setTouchAction(ub),t.addEventListener("dragstart",J._preventDefault,!1),t.addEventListener(J._inputEvents.start,this._onStart,Er)}J._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"},J._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"},J._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"},J._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"},J._inputEvents=function(){return Th?J._touchEvents:Zu?J._pointerEvents:Ju?J._msPointerEvents:J._mouseEvents}(),J._emitter=new mn,J._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"},J._activeInstances=[],J._preventDefault=function(t){t.preventDefault&&t.cancelable!==!1&&t.preventDefault()},J._activateInstance=function(t){var e=J._activeInstances.indexOf(t);e>-1||(J._activeInstances.push(t),J._emitter.on(J._emitterEvents.move,t._onMove),J._emitter.on(J._emitterEvents.cancel,t._onCancel),J._emitter.on(J._emitterEvents.end,t._onEnd),J._activeInstances.length===1&&J._bindListeners())},J._deactivateInstance=function(t){var e=J._activeInstances.indexOf(t);e!==-1&&(J._activeInstances.splice(e,1),J._emitter.off(J._emitterEvents.move,t._onMove),J._emitter.off(J._emitterEvents.cancel,t._onCancel),J._emitter.off(J._emitterEvents.end,t._onEnd),J._activeInstances.length||J._unbindListeners())},J._bindListeners=function(){window.addEventListener(J._inputEvents.move,J._onMove,Er),window.addEventListener(J._inputEvents.end,J._onEnd,Er),J._inputEvents.cancel&&window.addEventListener(J._inputEvents.cancel,J._onCancel,Er)},J._unbindListeners=function(){window.removeEventListener(J._inputEvents.move,J._onMove,Er),window.removeEventListener(J._inputEvents.end,J._onEnd,Er),J._inputEvents.cancel&&window.removeEventListener(J._inputEvents.cancel,J._onCancel,Er)},J._getEventPointerId=function(t){return typeof t.pointerId=="number"?t.pointerId:t.changedTouches?t.changedTouches[0]?t.changedTouches[0].identifier:null:1},J._getTouchById=function(t,e){if(typeof t.pointerId=="number")return t.pointerId===e?t:null;if(t.changedTouches){for(var n=0;n<t.changedTouches.length;n++)if(t.changedTouches[n].identifier===e)return t.changedTouches[n];return null}return t},J._onMove=function(t){J._emitter.emit(J._emitterEvents.move,t)},J._onCancel=function(t){J._emitter.emit(J._emitterEvents.cancel,t)},J._onEnd=function(t){J._emitter.emit(J._emitterEvents.end,t)},J.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,J._deactivateInstance(this)},J.prototype._createEvent=function(t,e){var n=this._getTrackedTouch(e);return{type:t,srcEvent:e,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:t===J._emitterEvents.start?0:this.getDeltaTime(),isFirst:t===J._emitterEvents.start,isFinal:t===J._emitterEvents.end||t===J._emitterEvents.cancel,pointerType:e.pointerType||(e.touches?"touch":"mouse"),identifier:this._pointerId,screenX:n.screenX,screenY:n.screenY,clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,target:n.target}},J.prototype._emit=function(t,e){this._emitter.emit(t,this._createEvent(t,e))},J.prototype._getTrackedTouch=function(t){return this._pointerId===null?null:J._getTouchById(t,this._pointerId)},J.prototype._onStart=function(t){if(!this._isDestroyed&&this._pointerId===null&&(this._pointerId=J._getEventPointerId(t),this._pointerId!==null)){var e=this._getTrackedTouch(t);this._startX=this._currentX=e.clientX,this._startY=this._currentY=e.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(J._emitterEvents.start,t),this._isActive&&J._activateInstance(this)}},J.prototype._onMove=function(t){var e=this._getTrackedTouch(t);e&&(this._currentX=e.clientX,this._currentY=e.clientY,this._emit(J._emitterEvents.move,t))},J.prototype._onCancel=function(t){this._getTrackedTouch(t)&&(this._emit(J._emitterEvents.cancel,t),this._reset())},J.prototype._onEnd=function(t){this._getTrackedTouch(t)&&(this._emit(J._emitterEvents.end,t),this._reset())},J.prototype.isActive=function(){return this._isActive},J.prototype.setTouchAction=function(t){this._touchAction=t,Vs&&(this._cssProps[Vs]="",this._element.style[Vs]=t),Th&&(this._element.removeEventListener(J._touchEvents.start,J._preventDefault,!0),(this._element.style[Vs]!==t||sb&&ab)&&this._element.addEventListener(J._touchEvents.start,J._preventDefault,!0))},J.prototype.setCssProps=function(t){if(t){var e=this._cssProps,n=this._element,r,i;for(r in e)n.style[r]=e[r],delete e[r];for(r in t)if(t[r]){if(r===kh){this.setTouchAction(t[r]);continue}i=qs(n.style,r),i&&(e[i]="",n.style[i]=t[r])}}},J.prototype.getDeltaX=function(){return this._currentX-this._startX},J.prototype.getDeltaY=function(){return this._currentY-this._startY},J.prototype.getDistance=function(){var t=this.getDeltaX(),e=this.getDeltaY();return Math.sqrt(t*t+e*e)},J.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0},J.prototype.on=function(t,e){this._emitter.on(t,e)},J.prototype.off=function(t,e){this._emitter.off(t,e)},J.prototype.destroy=function(){if(!this._isDestroyed){var t=this._element;this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),t.removeEventListener(J._inputEvents.start,this._onStart,Er),t.removeEventListener("dragstart",J._preventDefault,!1),t.removeEventListener(J._touchEvents.start,J._preventDefault,!0);for(var e in this._cssProps)t.style[e]=this._cssProps[e],delete this._cssProps[e];this._element=null,this._isDestroyed=!0}};var lb=1e3/60,cb=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return this.setTimeout(function(){t(Date.now())},lb)}).bind(window);function Us(t){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var e=0;e<t;e++)this._lanes.push(new tl)}Us.prototype._step=function(t){var e=this._lanes,n=this._stepQueue,r=this._stepCallbacks,i,s,u,l,c,f;for(this._nextStep=null,i=0;i<e.length;i++){for(l=e[i].queue,c=e[i].callbacks,f=e[i].indices,s=0;s<l.length;s++)u=l[s],u&&(n.push(u),r[u]=c[u],delete c[u],delete f[u]);l.length=0}for(i=0;i<n.length;i++)u=n[i],r[u]&&r[u](t),delete r[u];n.length=0},Us.prototype.add=function(t,e,n){this._lanes[t].add(e,n),this._nextStep||(this._nextStep=cb(this._step))},Us.prototype.remove=function(t,e){this._lanes[t].remove(e)};function tl(){this.queue=[],this.indices={},this.callbacks={}}tl.prototype.add=function(t,e){var n=this.indices[t];n!==void 0&&(this.queue[n]=void 0),this.queue.push(t),this.callbacks[t]=e,this.indices[t]=this.queue.length-1},tl.prototype.remove=function(t){var e=this.indices[t];e!==void 0&&(this.queue[e]=void 0,delete this.callbacks[t],delete this.indices[t])};var Bh="layoutRead",Gh="layoutWrite",Lh="visibilityRead",Fh="visibilityWrite",zh="dragStartRead",Nh="dragStartWrite",jh="dragMoveRead",Wh="dragMoveWrite",Yh="dragScrollRead",Xh="dragScrollWrite",qh="dragSortRead",Hh="placeholderLayoutRead",Vh="placeholderLayoutWrite",Uh="placeholderResizeWrite",$h="autoScrollRead",Qh="autoScrollWrite",Zh="debounceRead",Fe=0,Jh=1,ze=2,qt=new Us(3);function fb(t,e,n){qt.add(Fe,Bh+t,e),qt.add(ze,Gh+t,n)}function Kh(t){qt.remove(Fe,Bh+t),qt.remove(ze,Gh+t)}function hb(t,e,n){qt.add(Fe,Lh+t,e),qt.add(ze,Fh+t,n)}function td(t){qt.remove(Fe,Lh+t),qt.remove(ze,Fh+t)}function db(t,e,n){qt.add(Fe,zh+t,e),qt.add(ze,Nh+t,n)}function ed(t){qt.remove(Fe,zh+t),qt.remove(ze,Nh+t)}function pb(t,e,n){qt.add(Fe,jh+t,e),qt.add(ze,Wh+t,n)}function nd(t){qt.remove(Fe,jh+t),qt.remove(ze,Wh+t)}function vb(t,e,n){qt.add(Fe,Yh+t,e),qt.add(ze,Xh+t,n)}function rd(t){qt.remove(Fe,Yh+t),qt.remove(ze,Xh+t)}function $s(t,e){qt.add(Jh,qh+t,e)}function gb(t){qt.remove(Jh,qh+t)}function mb(t,e,n){qt.add(Fe,Hh+t,e),qt.add(ze,Vh+t,n)}function id(t){qt.remove(Fe,Hh+t),qt.remove(ze,Vh+t)}function _b(t,e){qt.add(ze,Uh+t,e)}function yb(t){qt.remove(ze,Uh+t)}function od(t,e){qt.add(Fe,$h,t),qt.add(ze,Qh,e)}function bb(){qt.remove(Fe,$h),qt.remove(ze,Qh)}function xb(t,e){qt.add(Fe,Zh+t,e)}function wb(t){qt.remove(Fe,Zh+t)}var pe=1,Oe=2,Ei=4,el=8,wo=pe|el,So=pe|Ei,Eo=Oe|el,Qs=Oe|Ei,Sb="function";function Lt(t){return typeof t===Sb}var Zs=typeof WeakMap=="function"?new WeakMap:null;function Je(t,e){var n=Zs&&Zs.get(t);return n||(n=window.getComputedStyle(t,null),Zs&&Zs.set(t,n)),n.getPropertyValue(e)}function _n(t,e){return parseFloat(Je(t,e))||0}var Zr=document.documentElement,Eb=document.body,Js={value:0,offset:0};function sd(t){return t===window||t===Zr||t===Eb?window:t}function Do(t){return t===window?t.pageXOffset:t.scrollLeft}function Ao(t){return t===window?t.pageYOffset:t.scrollTop}function ad(t){return t===window?Zr.scrollWidth-Zr.clientWidth:t.scrollWidth-t.clientWidth}function ud(t){return t===window?Zr.scrollHeight-Zr.clientHeight:t.scrollHeight-t.clientHeight}function ld(t,e){if(e=e||{},t===window)e.width=Zr.clientWidth,e.height=Zr.clientHeight,e.left=0,e.right=e.width,e.top=0,e.bottom=e.height;else{var n=t.getBoundingClientRect(),r=t.clientLeft||_n(t,"border-left-width"),i=t.clientTop||_n(t,"border-top-width");e.width=t.clientWidth,e.height=t.clientHeight,e.left=n.left+r,e.right=e.left+e.width,e.top=n.top+i,e.bottom=e.top+e.height}return e}function Co(t){return t._drag._getGrid()._settings.dragAutoScroll}function Db(t){t._drag&&t._drag._prepareScroll()}function Ab(t){if(!(!t._drag||!t._isActive)){var e=t._drag;e._scrollDiffX=e._scrollDiffY=0,t._setTranslate(e._left,e._top)}}function nl(t,e,n,r){return Js.value=Math.min(r/2,t),Js.offset=Math.max(0,n+Js.value*2+r*e-r)/2,Js}function tr(){this.reset()}tr.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null},tr.prototype.hasReachedEnd=function(){return Ei&this.direction?this.value>=this.maxValue:this.value<=0},tr.prototype.computeCurrentScrollValue=function(){return this.value===null?pe&this.direction?Do(this.element):Ao(this.element):Math.max(0,Math.min(this.value,this.maxValue))},tr.prototype.computeNextScrollValue=function(t){var e=this.speed*(t/1e3),n=Ei&this.direction?this.value+e:this.value-e;return Math.max(0,Math.min(n,this.maxValue))},tr.prototype.computeSpeed=function(){var t={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1};return function(e){var n=this.item,r=Co(n).speed;return Lt(r)?(t.direction=this.direction,t.threshold=this.threshold,t.distance=this.distance,t.value=this.value,t.maxValue=this.maxValue,t.duration=this.duration,t.speed=this.speed,t.deltaTime=e,t.isEnding=this.isEnding,r(n,this.element,t)):r}}(),tr.prototype.tick=function(t){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(t),this.value=this.computeNextScrollValue(t),this.duration+=t,this.value},tr.prototype.onStart=function(){var t=this.item,e=Co(t).onStart;Lt(e)&&e(t,this.element,this.direction)},tr.prototype.onStop=function(){var t=this.item,e=Co(t).onStop;Lt(e)&&e(t,this.element,this.direction),t._drag&&t._drag.sort()};function Di(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}Di.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0},Di.prototype.addRequest=function(t){pe&t.direction?(this.removeRequest(this.requestX),this.requestX=t):(this.removeRequest(this.requestY),this.requestY=t),t.action=this},Di.prototype.removeRequest=function(t){t&&(this.requestX===t?(this.requestX=null,t.action=null):this.requestY===t&&(this.requestY=null,t.action=null))},Di.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:Do(this.element),this.scrollTop=this.requestY?this.requestY.value:Ao(this.element)},Di.prototype.scroll=function(){var t=this.element;t&&(t.scrollTo?t.scrollTo(this.scrollLeft,this.scrollTop):(t.scrollLeft=this.scrollLeft,t.scrollTop=this.scrollTop))};function Mo(t,e){this.pool=[],this.createItem=t,this.releaseItem=e}Mo.prototype.pick=function(){return this.pool.pop()||this.createItem()},Mo.prototype.release=function(t){this.releaseItem(t),this.pool.indexOf(t)===-1&&this.pool.push(t)},Mo.prototype.reset=function(){this.pool.length=0};function Cb(t,e){return!(t.left+t.width<=e.left||e.left+e.width<=t.left||t.top+t.height<=e.top||e.top+e.height<=t.top)}function Mb(t,e){if(!Cb(t,e))return 0;var n=Math.min(t.left+t.width,e.left+e.width)-Math.max(t.left,e.left),r=Math.min(t.top+t.height,e.top+e.height)-Math.max(t.top,e.top);return n*r}function Ks(t,e){var n=Mb(t,e);if(!n)return 0;var r=Math.min(t.width,e.width)*Math.min(t.height,e.height);return n/r*100}var cd={width:0,height:0,left:0,right:0,top:0,bottom:0},fd={width:0,height:0,left:0,right:0,top:0,bottom:0};function Ht(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[pe]={},this._requests[Oe]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new Mo(function(){return new tr},function(t){t.reset()}),this._actionPool=new Mo(function(){return new Di},function(t){t.reset()}),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}Ht.AXIS_X=pe,Ht.AXIS_Y=Oe,Ht.FORWARD=Ei,Ht.BACKWARD=el,Ht.LEFT=wo,Ht.RIGHT=So,Ht.UP=Eo,Ht.DOWN=Qs,Ht.smoothSpeed=function(t,e,n){return function(r,i,s){var u=0;if(!s.isEnding)if(s.threshold>0){var l=s.threshold-Math.max(0,s.distance);u=t/s.threshold*l}else u=t;var c=s.speed,f=u;return c===u?f:c<u?(f=c+e*(s.deltaTime/1e3),Math.min(u,f)):(f=c-n*(s.deltaTime/1e3),Math.max(u,f))}},Ht.pointerHandle=function(t){var e={left:0,top:0,width:0,height:0},n=t||1;return function(r,i,s,u,l,c,f){return e.left=c-n*.5,e.top=f-n*.5,e.width=n,e.height=n,e}},Ht.prototype._readTick=function(t){this._isDestroyed||(t&&this._tickTime?(this._tickDeltaTime=t-this._tickTime,this._tickTime=t,this._updateRequests(),this._updateActions()):(this._tickTime=t,this._tickDeltaTime=0))},Ht.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),od(this._readTick,this._writeTick))},Ht.prototype._startTicking=function(){this._isTicking=!0,od(this._readTick,this._writeTick)},Ht.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,bb()},Ht.prototype._getItemHandleRect=function(t,e,n){var r=t._drag;if(e){var i=r._dragMoveEvent||r._dragStartEvent,s=e(t,r._clientX,r._clientY,t._width,t._height,i.clientX,i.clientY);n.left=s.left,n.top=s.top,n.width=s.width,n.height=s.height}else n.left=r._clientX,n.top=r._clientY,n.width=t._width,n.height=t._height;return n.right=n.left+n.width,n.bottom=n.top+n.height,n},Ht.prototype._requestItemScroll=function(t,e,n,r,i,s,u){var l=this._requests[e],c=l[t._id];c?(c.element!==n||c.direction!==r)&&c.reset():c=this._requestPool.pick(),c.item=t,c.element=n,c.direction=r,c.threshold=i,c.distance=s,c.maxValue=u,l[t._id]=c},Ht.prototype._cancelItemScroll=function(t,e){var n=this._requests[e],r=n[t._id];r&&(r.action&&r.action.removeRequest(r),this._requestPool.release(r),delete n[t._id])},Ht.prototype._checkItemOverlap=function(t,e,n){var r=Co(t),i=Lt(r.targets)?r.targets(t):r.targets,s=r.threshold,u=r.safeZone;if(!i||!i.length){e&&this._cancelItemScroll(t,pe),n&&this._cancelItemScroll(t,Oe);return}var l=this._dragDirections[t._id],c=l[0],f=l[1];if(!c&&!f){e&&this._cancelItemScroll(t,pe),n&&this._cancelItemScroll(t,Oe);return}for(var d=this._getItemHandleRect(t,r.handle,cd),p=fd,v=null,g=null,m=!0,_=!0,b=0,x=0,w=null,E=null,D=0,M=0,A=0,T=null,O=-1/0,I=0,k=0,N=null,z=0,G=0,Y=null,X=-1/0,K=0,tt=0,U=null,rt=0,nt=0,H=0;H<i.length;H++)v=i[H],m=e&&c&&v.axis!==Oe,_=n&&f&&v.axis!==pe,x=v.priority||0,!((!m||x<O)&&(!_||x<X))&&(g=sd(v.element||v),M=m?ad(g):-1,A=_?ud(g):-1,!(!M&&!A)&&(p=ld(g,p),b=Ks(d,p),!(b<=0)&&(m&&x>=O&&M>0&&(x>O||b>k)&&(E=null,w=nl(typeof v.threshold=="number"?v.threshold:s,u,d.width,p.width),c===So?(D=p.right+w.offset-d.right,D<=w.value&&Do(g)<M&&(E=So)):c===wo&&(D=d.left-(p.left-w.offset),D<=w.value&&Do(g)>0&&(E=wo)),E!==null&&(T=g,O=x,I=w.value,k=b,N=E,z=D,G=M)),_&&x>=X&&A>0&&(x>X||b>tt)&&(E=null,w=nl(typeof v.threshold=="number"?v.threshold:s,u,d.height,p.height),f===Qs?(D=p.bottom+w.offset-d.bottom,D<=w.value&&Ao(g)<A&&(E=Qs)):f===Eo&&(D=d.top-(p.top-w.offset),D<=w.value&&Ao(g)>0&&(E=Eo)),E!==null&&(Y=g,X=x,K=w.value,tt=b,U=E,rt=D,nt=A)))));e&&(T?this._requestItemScroll(t,pe,T,N,I,z,G):this._cancelItemScroll(t,pe)),n&&(Y?this._requestItemScroll(t,Oe,Y,U,K,rt,nt):this._cancelItemScroll(t,Oe))},Ht.prototype._updateScrollRequest=function(t){for(var e=t.item,n=Co(e),r=Lt(n.targets)?n.targets(e):n.targets,i=r&&r.length||0,s=n.threshold,u=n.safeZone,l=this._getItemHandleRect(e,n.handle,cd),c=fd,f=null,d=null,p=!1,v=null,g=null,m=null,_=null,b=null,x=null,w=0;w<i;w++)if(f=r[w],d=sd(f.element||f),d===t.element){if(p=!!(pe&t.direction),p){if(f.axis===Oe)continue}else if(f.axis===pe)continue;if(b=p?ad(d):ud(d),b<=0||(c=ld(d,c),v=Ks(l,c),v<=0)||(g=nl(typeof f.threshold=="number"?f.threshold:s,u,p?l.width:l.height,p?c.width:c.height),t.direction===wo?m=l.left-(c.left-g.offset):t.direction===So?m=c.right+g.offset-l.right:t.direction===Eo?m=l.top-(c.top-g.offset):m=c.bottom+g.offset-l.bottom,m>g.value)||(_=p?Do(d):Ao(d),x=Ei&t.direction?_>=b:_<=0,x))break;return t.maxValue=b,t.threshold=g.value,t.distance=m,t.isEnding=!1,!0}return n.smoothStop===!0&&t.speed>0?(x===null&&(x=t.hasReachedEnd()),t.isEnding=!x):t.isEnding=!1,t.isEnding},Ht.prototype._updateRequests=function(){for(var t=this._items,e=this._requests[pe],n=this._requests[Oe],r,i,s,u,l,c,f,d=0;d<t.length;d++)r=t[d],u=this._requestOverlapCheck[r._id],l=u>0&&this._tickTime-u>this._overlapCheckInterval,c=!0,i=e[r._id],i&&i.isActive&&(c=!this._updateScrollRequest(i),c&&(l=!0,this._cancelItemScroll(r,pe))),f=!0,s=n[r._id],s&&s.isActive&&(f=!this._updateScrollRequest(s),f&&(l=!0,this._cancelItemScroll(r,Oe))),l&&(this._requestOverlapCheck[r._id]=0,this._checkItemOverlap(r,c,f))},Ht.prototype._requestAction=function(t,e){for(var n=this._actions,r=e===pe,i=null,s=0;s<n.length;s++){if(i=n[s],t.element!==i.element){i=null;continue}if(r?i.requestX:i.requestY){this._cancelItemScroll(t.item,e);return}break}i||(i=this._actionPool.pick()),i.element=t.element,i.addRequest(t),t.tick(this._tickDeltaTime),n.push(i)},Ht.prototype._updateActions=function(){var t=this._items,e=this._requests,n=this._actions,r,i,s,u;for(u=0;u<t.length;u++)r=t[u]._id,i=e[pe][r],s=e[Oe][r],i&&this._requestAction(i,pe),s&&this._requestAction(s,Oe);for(u=0;u<n.length;u++)n[u].computeScrollValues()},Ht.prototype._applyActions=function(){var t=this._actions,e=this._items,n;if(t.length){for(n=0;n<t.length;n++)t[n].scroll(),this._actionPool.release(t[n]);for(t.length=0,n=0;n<e.length;n++)Db(e[n]);for(n=0;n<e.length;n++)Ab(e[n])}},Ht.prototype._updateDragDirection=function(t){var e=this._dragPositions[t._id],n=this._dragDirections[t._id],r=t._drag._left,i=t._drag._top;if(e.length){var s=e[0],u=e[1];n[0]=r>s?So:r<s?wo:n[0]||0,n[1]=i>u?Qs:i<u?Eo:n[1]||0}e[0]=r,e[1]=i},Ht.prototype.addItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);e===-1&&(this._items.push(t),this._requestOverlapCheck[t._id]=this._tickTime,this._dragDirections[t._id]=[0,0],this._dragPositions[t._id]=[],this._isTicking||this._startTicking())}},Ht.prototype.updateItem=function(t){this._isDestroyed||this._dragDirections[t._id]&&(this._updateDragDirection(t),this._requestOverlapCheck[t._id]||(this._requestOverlapCheck[t._id]=this._tickTime))},Ht.prototype.removeItem=function(t){if(!this._isDestroyed){var e=this._items.indexOf(t);if(e!==-1){var n=t._id,r=this._requests[pe][n];r&&(this._cancelItemScroll(t,pe),delete this._requests[pe][n]);var i=this._requests[Oe][n];i&&(this._cancelItemScroll(t,Oe),delete this._requests[Oe][n]),delete this._requestOverlapCheck[n],delete this._dragPositions[n],delete this._dragDirections[n],this._items.splice(e,1),this._isTicking&&!this._items.length&&this._stopTicking()}}},Ht.prototype.isItemScrollingX=function(t){var e=this._requests[pe][t._id];return!!(e&&e.isActive)},Ht.prototype.isItemScrollingY=function(t){var e=this._requests[Oe][t._id];return!!(e&&e.isActive)},Ht.prototype.isItemScrolling=function(t){return this.isItemScrollingX(t)||this.isItemScrollingY(t)},Ht.prototype.destroy=function(){if(!this._isDestroyed){for(var t=this._items.slice(0),e=0;e<t.length;e++)this.removeItem(t[e]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var Ai=window.Element.prototype,Rb=Ai.matches||Ai.matchesSelector||Ai.webkitMatchesSelector||Ai.mozMatchesSelector||Ai.msMatchesSelector||Ai.oMatchesSelector||function(){return!1};function ta(t,e){return Rb.call(t,e)}function ln(t,e){e&&(t.classList?t.classList.add(e):ta(t,"."+e)||(t.className+=" "+e))}var hd=[],Ob="number";function rl(t,e,n){var r=typeof n===Ob?n:-1;r<0&&(r=t.length-r+1),t.splice.apply(t,hd.concat(r,0,e)),hd.length=0}function Ci(t,e,n){var r=Math.max(0,t.length-1+(n||0));return e>r?r:e<0?Math.max(r+e+1,0):e}function dd(t,e,n){if(!(t.length<2)){var r=Ci(t,e),i=Ci(t,n);r!==i&&t.splice(i,0,t.splice(r,1)[0])}}function pd(t,e,n){if(!(t.length<2)){var r=Ci(t,e),i=Ci(t,n),s;r!==i&&(s=t[r],t[r]=t[i],t[i]=s)}}var Xn=qs(document.documentElement.style,"transform")||"transform",Tb=/([A-Z])/g,Ib=/^(webkit-|moz-|ms-|o-)/,Pb=/^(-m-s-)/;function il(t){var e=t.replace(Tb,"-$1").toLowerCase();return e=e.replace(Ib,"-$1"),e=e.replace(Pb,"-ms-"),e}var vd=il(Xn),kb="none",Bb="inline",Gb="none",Lb="display";function Fb(t){var e=Je(t,vd);if(!e||e===kb)return!1;var n=Je(t,Lb);return!(n===Bb||n===Gb)}function ol(t){for(var e=document,n=t||e;n&&n!==e&&Je(n,"position")==="static"&&!Fb(n);)n=n.parentElement||e;return n}var sl={},al={},Ro={};function gd(t,e){var n=e||{},r;return n.left=0,n.top=0,t===document||(n.left=window.pageXOffset||0,n.top=window.pageYOffset||0,t.self===window.self)||(r=t.getBoundingClientRect(),n.left+=r.left,n.top+=r.top,n.left+=_n(t,"border-left-width"),n.top+=_n(t,"border-top-width")),n}function Mi(t,e,n){return Ro.left=0,Ro.top=0,t===e||n&&(t=ol(t),e=ol(e),t===e)||(gd(t,sl),gd(e,al),Ro.left=al.left-sl.left,Ro.top=al.top-sl.top),Ro}function ul(t){return t==="auto"||t==="scroll"||t==="overlay"}function zb(t){return ul(Je(t,"overflow"))||ul(Je(t,"overflow-x"))||ul(Je(t,"overflow-y"))}function md(t,e){for(e=e||[];t&&t!==document;){if(t.getRootNode&&t instanceof DocumentFragment){t=t.getRootNode().host;continue}zb(t)&&e.push(t),t=t.parentNode}return e.push(window),e}var Ri={},Nb="none",jb=/^matrix3d/,Wb=/([^,]*,){4}/,Yb=/([^,]*,){12}/,Xb=/[^,]*,/;function er(t){Ri.x=0,Ri.y=0;var e=Je(t,vd);if(!e||e===Nb)return Ri;var n=jb.test(e),r=e.replace(n?Yb:Wb,""),i=r.replace(Xb,"");return Ri.x=parseFloat(r)||0,Ri.y=parseFloat(i)||0,Ri}function Ne(t,e){e&&(t.classList?t.classList.remove(e):ta(t,"."+e)&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").trim()))}var qb=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,ea=0,ll=1,na=2,_d=Ph()?{passive:!0}:!1;function Ct(t){var e=t._element,n=t.getGrid(),r=n._settings;this._item=t,this._gridId=n._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=Lt(r.dragStartPredicate)?r.dragStartPredicate:Ct.defaultStartPredicate,this._startPredicateState=ea,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=r.dragHandle&&e.querySelector(r.dragHandle)||e,this._dragger=new J(this._handle,r.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}Ct.autoScroller=new Ht,Ct.defaultStartPredicate=function(t,e,n){var r=t._drag;if(e.isFirst&&e.srcEvent.button||!qb&&e.isFirst&&e.srcEvent.isTrusted===!0&&e.srcEvent.defaultPrevented===!1&&e.srcEvent.cancelable===!1)return!1;if(e.isFinal){r._finishStartPredicate(e);return}var i=r._startPredicateData;if(!i){var s=n||r._getGrid()._settings.dragStartPredicate||{};r._startPredicateData=i={distance:Math.max(s.distance,0)||0,delay:Math.max(s.delay,0)||0}}return i.delay&&(i.event=e,i.delayTimer||(i.delayTimer=window.setTimeout(function(){i.delay=0,r._resolveStartPredicate(i.event)&&(r._forceResolveStartPredicate(i.event),r._resetStartPredicate())},i.delay))),r._resolveStartPredicate(e)},Ct.defaultSortPredicate=function(){var t={},e={},n={},r=[],i=1,s=100;function u(l,c,f){var d=null,p=c._settings.dragSort,v=-1,g,m,_,b,x,w,E,D,M,A;if(p===!0?(r[0]=c,m=r):Lt(p)&&(m=p.call(c,l)),!m||!Array.isArray(m)||!m.length)return d;for(A=0;A<m.length;A++)if(_=m[A],!_._isDestroyed){for(_._updateBoundingRect(),w=Math.max(0,_._left),E=Math.max(0,_._top),D=Math.min(window.innerWidth,_._right),M=Math.min(window.innerHeight,_._bottom),b=_._element.parentNode;b&&b!==document&&b!==document.documentElement&&b!==document.body;){if(b.getRootNode&&b instanceof DocumentFragment){b=b.getRootNode().host;continue}if(Je(b,"overflow")!=="visible"&&(x=b.getBoundingClientRect(),w=Math.max(w,x.left),E=Math.max(E,x.top),D=Math.min(D,x.right),M=Math.min(M,x.bottom)),Je(b,"position")==="fixed")break;b=b.parentNode}w>=D||E>=M||(e.left=w,e.top=E,e.width=D-w,e.height=M-E,g=Ks(t,e),g>f&&g>v&&(v=g,d=_))}return r.length=0,d}return function(l,c){var f=l._drag,d=f._getGrid(),p=c&&typeof c.threshold=="number"?c.threshold:50,v=c&&c.action===Yn?Yn:Qr,g=c&&c.migrateAction===Yn?Yn:Qr;p=Math.min(Math.max(p,i),s),t.width=l._width,t.height=l._height,t.left=f._clientX,t.top=f._clientY;var m=u(l,d,p);if(!m)return null;var _=l.getGrid()!==m,b=0,x=0,w=0,E=-1,D=!1,M,A,T;for(m===d?(t.left=f._gridX+l._marginLeft,t.top=f._gridY+l._marginTop):(m._updateBorders(1,0,1,0),b=m._left+m._borderLeft,x=m._top+m._borderTop),T=0;T<m._items.length;T++)M=m._items[T],!(!M._isActive||M===l)&&(D=!0,e.width=M._width,e.height=M._height,e.left=M._left+M._marginLeft+b,e.top=M._top+M._marginTop+x,A=Ks(t,e),A>w&&(E=T,w=A));return _&&w<p&&(E=D?E:0,w=p),w>=p?(n.grid=m,n.index=E,n.action=_?g:v,n):null}}(),Ct.prototype.stop=function(){if(this._isActive){if(this._isMigrating){this._finishMigration();return}var t=this._item,e=t._id;if(Ct.autoScroller.removeItem(t),ed(e),nd(e),rd(e),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var n=t._element,r=this._getGrid(),i=r._settings.itemDraggingClass;n.parentNode!==r._element&&(r._element.appendChild(n),t._setTranslate(this._gridX,this._gridY),i&&n.clientWidth),Ne(n,i)}this._reset()}},Ct.prototype.sort=function(t){var e=this._item;this._isActive&&e._isActive&&this._dragMoveEvent&&(t===!0?this._handleSort():$s(e._id,this._handleSort))},Ct.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),Ct.autoScroller.removeItem(this._item),this._isDestroyed=!0)},Ct.prototype._getGrid=function(){return zs[this._gridId]||null},Ct.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0},Ct.prototype._bindScrollListeners=function(){var t=this._getGrid()._element,e=this._container,n=this._scrollers,r,i;if(n.length=0,md(this._item._element.parentNode,n),e!==t)for(r=[],md(t,r),i=0;i<r.length;i++)n.indexOf(r[i])<0&&n.push(r[i]);for(i=0;i<n.length;i++)n[i].addEventListener("scroll",this._onScroll,_d)},Ct.prototype._unbindScrollListeners=function(){var t=this._scrollers,e;for(e=0;e<t.length;e++)t[e].removeEventListener("scroll",this._onScroll,_d);t.length=0},Ct.prototype._resolveStartPredicate=function(t){var e=this._startPredicateData;if(!(t.distance<e.distance||e.delay))return this._resetStartPredicate(),!0},Ct.prototype._forceResolveStartPredicate=function(t){!this._isDestroyed&&this._startPredicateState===ll&&(this._startPredicateState=na,this._onStart(t))},Ct.prototype._finishStartPredicate=function(t){var e=this._item._element,n=Math.abs(t.deltaX)<2&&Math.abs(t.deltaY)<2&&t.deltaTime<200;this._resetStartPredicate(),n&&Hb(e)},Ct.prototype._resetHeuristics=function(t,e){this._blockedSortIndex=null,this._sortX1=this._sortX2=t,this._sortY1=this._sortY2=e},Ct.prototype._checkHeuristics=function(t,e){var n=this._getGrid()._settings.dragSortHeuristics,r=n.minDragDistance;if(r<=0)return this._blockedSortIndex=null,!0;var i=t-this._sortX2,s=e-this._sortY2,u=r>3&&n.minBounceBackAngle>0;if(u||(this._blockedSortIndex=null),Math.abs(i)>r||Math.abs(s)>r){if(u){var l=Math.atan2(i,s),c=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),f=Math.atan2(Math.sin(l-c),Math.cos(l-c));Math.abs(f)>n.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=t,this._sortY2=e,!0}return!1},Ct.prototype._resetStartPredicate=function(){var t=this._startPredicateData;t&&(t.delayTimer&&(t.delayTimer=window.clearTimeout(t.delayTimer)),this._startPredicateData=null)},Ct.prototype._handleSort=function(){if(this._isActive){var t=this._getGrid()._settings;if(!t.dragSort||!t.dragAutoScroll.sortDuringScroll&&Ct.autoScroller.isItemScrolling(this._item)){this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer));return}var e=this._checkHeuristics(this._gridX,this._gridY);if(!(!this._isSortNeeded&&!e)){var n=t.dragSortHeuristics.sortInterval;n<=0||this._isSortNeeded?(this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):this._sortTimer===void 0&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,n))}}},Ct.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,$s(this._item._id,this._handleSort)},Ct.prototype._cancelSort=function(){this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),gb(this._item._id)},Ct.prototype._finishSort=function(){var t=this._getGrid()._settings.dragSort,e=t&&(this._isSortNeeded||this._sortTimer!==void 0);this._cancelSort(),e&&this._checkOverlap()},Ct.prototype._checkOverlap=function(){if(this._isActive){var t=this._item,e=this._getGrid()._settings,n,r,i,s,u,l,c,f;Lt(e.dragSortPredicate)?n=e.dragSortPredicate(t,this._dragMoveEvent):n=Ct.defaultSortPredicate(t,e.dragSortPredicate),!(!n||typeof n.index!="number")&&(c=n.action===Yn?Yn:Qr,r=t.getGrid(),s=n.grid||r,f=r!==s,i=r._items.indexOf(t),u=Ci(s._items,n.index,f&&c===Qr?1:0),!(!f&&u===this._blockedSortIndex)&&(f?(this._blockedSortIndex=null,l=s._items[u],r._hasListeners(wr)&&r._emit(wr,{item:t,fromGrid:r,fromIndex:i,toGrid:s,toIndex:u}),s._hasListeners(Ys)&&s._emit(Ys,{item:t,fromGrid:r,fromIndex:i,toGrid:s,toIndex:u}),t._gridId=s._id,this._isMigrating=t._gridId!==this._gridId,r._items.splice(i,1),rl(s._items,t,u),t._sortData=null,r._hasListeners(js)&&r._emit(js,{item:t,fromGrid:r,fromIndex:i,toGrid:s,toIndex:u}),s._hasListeners(Ws)&&s._emit(Ws,{item:t,fromGrid:r,fromIndex:i,toGrid:s,toIndex:u}),c===Yn&&l&&l.isActive()&&s._items.indexOf(l)>-1&&s.send(l,r,i,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),r.layout(),s.layout()):i!==u&&(this._blockedSortIndex=i,(c===Yn?pd:dd)(r._items,i,u),r._hasListeners(Ns)&&r._emit(Ns,{item:t,fromIndex:i,toIndex:u,action:c}),r.layout())))}},Ct.prototype._finishMigration=function(){var t=this._item,e=t._dragRelease,n=t._element,r=t._isActive,i=t.getGrid(),s=i._element,u=i._settings,l=u.dragContainer||s,c=this._getGrid()._settings,f=n.parentNode,d=r?c.itemVisibleClass:c.itemHiddenClass,p=r?u.itemVisibleClass:u.itemHiddenClass,v,g;this._isMigrating=!1,this.destroy(),c.itemClass!==u.itemClass&&(Ne(n,c.itemClass),ln(n,u.itemClass)),d!==p&&(Ne(n,d),ln(n,p)),l!==f&&(l.appendChild(n),g=Mi(f,l,!0),v=er(n),v.x-=g.left,v.y-=g.top),t._refreshDimensions(),g=Mi(l,s,!0),e._containerDiffX=g.left,e._containerDiffY=g.top,t._drag=u.dragEnabled?new Ct(t):null,l!==f&&t._setTranslate(v.x,v.y),t._visibility.setStyles(r?u.visibleStyles:u.hiddenStyles),e.start()},Ct.prototype._preStartCheck=function(t){this._startPredicateState===ea&&(this._startPredicateState=ll),this._startPredicateState===ll?(this._startPredicateResult=this._startPredicate(this._item,t),this._startPredicateResult===!0?(this._startPredicateState=na,this._onStart(t)):this._startPredicateResult===!1&&(this._resetStartPredicate(t),this._dragger._reset(),this._startPredicateState=ea)):this._startPredicateState===na&&this._isActive&&this._onMove(t)},Ct.prototype._preEndCheck=function(t){var e=this._startPredicateState===na;this._startPredicate(this._item,t),this._startPredicateState=ea,!(!e||!this._isActive)&&(this._isStarted?this._onEnd(t):this.stop())},Ct.prototype._onStart=function(t){var e=this._item;e._isActive&&(this._isActive=!0,this._dragStartEvent=t,Ct.autoScroller.addItem(e),db(e._id,this._prepareStart,this._applyStart))},Ct.prototype._prepareStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,n=this._getGrid(),r=n._settings,i=n._element,s=r.dragContainer||i,u=ol(s),l=er(e),c=e.getBoundingClientRect(),f=s!==i;if(this._container=s,this._containingBlock=u,this._clientX=c.left,this._clientY=c.top,this._left=this._gridX=l.x,this._top=this._gridY=l.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),f){var d=Mi(u,i);this._containerDiffX=d.left,this._containerDiffY=d.top}}}},Ct.prototype._applyStart=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid(),n=t._element,r=t._dragRelease,i=t._migrate,s=this._container!==e._element;t.isPositioning()&&t._layout.stop(!0,this._left,this._top),i._isActive&&(this._left-=i._containerDiffX,this._top-=i._containerDiffY,this._gridX-=i._containerDiffX,this._gridY-=i._containerDiffY,i.stop(!0,this._left,this._top)),t.isReleasing()&&r._reset(),e._settings.dragPlaceholder.enabled&&t._dragPlaceholder.create(),this._isStarted=!0,e._emit($y,t,this._dragStartEvent),s&&(n.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(n),t._setTranslate(this._left,this._top))),ln(n,e._settings.itemDraggingClass),this._bindScrollListeners(),e._emit(Qy,t,this._dragStartEvent)}}},Ct.prototype._onMove=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._dragMoveEvent=t,pb(e._id,this._prepareMove,this._applyMove),$s(e._id,this._handleSort)},Ct.prototype._prepareMove=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=this._getGrid()._settings,n=e.dragAxis,r=this._dragMoveEvent,i=this._dragPrevMoveEvent||this._dragStartEvent||r;if(n!=="y"){var s=r.clientX-i.clientX;this._left=this._left-this._moveDiffX+s,this._gridX=this._gridX-this._moveDiffX+s,this._clientX=this._clientX-this._moveDiffX+s,this._moveDiffX=s}if(n!=="x"){var u=r.clientY-i.clientY;this._top=this._top-this._moveDiffY+u,this._gridY=this._gridY-this._moveDiffY+u,this._clientY=this._clientY-this._moveDiffY+u,this._moveDiffY=u}this._dragPrevMoveEvent=r}}},Ct.prototype._applyMove=function(){if(this._isActive){var t=this._item;t._isActive&&(this._moveDiffX=this._moveDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(Zy,t,this._dragMoveEvent),Ct.autoScroller.updateItem(t))}},Ct.prototype._onScroll=function(t){var e=this._item;if(!e._isActive){this.stop();return}this._scrollEvent=t,vb(e._id,this._prepareScroll,this._applyScroll),$s(e._id,this._handleSort)},Ct.prototype._prepareScroll=function(){if(this._isActive){var t=this._item;if(t._isActive){var e=t._element,n=this._getGrid(),r=n._element,i=e.getBoundingClientRect();if(this._container!==r){var s=Mi(this._containingBlock,r);this._containerDiffX=s.left,this._containerDiffY=s.top}var u=this._clientX-this._moveDiffX-i.left;this._left=this._left-this._scrollDiffX+u,this._scrollDiffX=u;var l=this._clientY-this._moveDiffY-i.top;this._top=this._top-this._scrollDiffY+l,this._scrollDiffY=l,this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}},Ct.prototype._applyScroll=function(){if(this._isActive){var t=this._item;t._isActive&&(this._scrollDiffX=this._scrollDiffY=0,t._setTranslate(this._left,this._top),this._getGrid()._emit(Jy,t,this._scrollEvent))}},Ct.prototype._onEnd=function(t){var e=this._item,n=e._element,r=this._getGrid(),i=r._settings,s=e._dragRelease;if(!e._isActive){this.stop();return}ed(e._id),nd(e._id),rd(e._id),this._finishSort(),this._unbindScrollListeners(),s._containerDiffX=this._containerDiffX,s._containerDiffY=this._containerDiffY,this._reset(),Ne(n,i.itemDraggingClass),Ct.autoScroller.removeItem(e),r._emit(Ky,e,t),this._isMigrating?this._finishMigration():s.start()};function Hb(t){if(t.tagName.toLowerCase()==="a"){var e=t.getAttribute("href");if(e){var n=t.getAttribute("target");n&&n!=="_self"?window.open(e,n):window.location.href=e}}}function yd(t,e){var n={},r,i;if(Array.isArray(e))for(i=0;i<e.length;i++)r=e[i],n[r]=Je(t,il(r));else for(r in e)n[r]=Je(t,il(r));return n}var Vb=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,bd={};function Ub(t){var e=bd[t];return e||(e=t.replace(Vb,""),e!==t&&(e=e[0].toLowerCase()+e.slice(1)),bd[t]=e,e)}var $b="[native code]";function Qb(t){var e=window.Symbol;return!!(t&&Lt(e)&&Lt(e.toString)&&e(t).toString().indexOf($b)>-1)}function Oi(t,e){for(var n in e)t.style[n]=e[n]}var Zb=!!(Element&&Lt(Element.prototype.animate)),xd=!!(Element&&Qb(Element.prototype.animate));function qn(t){this._element=t,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}qn.prototype.start=function(t,e,n){if(!this._isDestroyed){var r=this._element,i=n||{};if(!Zb){Oi(r,e),this._callback=Lt(i.onFinish)?i.onFinish:null,this._onFinish();return}var s=this._animation,u=this._props,l=this._values,c=i.duration||300,f=i.easing||"ease",d=!1,p,v,g;if(s&&(v=0,(c!==this._duration||f!==this._easing)&&(d=!0),!d)){for(p in e)if(++v,g=u.indexOf(p),g===-1||e[p]!==l[g]){d=!0;break}v!==u.length&&(d=!0)}if(d&&s.cancel(),this._callback=Lt(i.onFinish)?i.onFinish:null,!(s&&!d)){u.length=l.length=0;for(p in e)u.push(p),l.push(e[p]);this._duration=c,this._easing=f,this._animation=r.animate([wd(t,xd),wd(e,xd)],{duration:c,easing:f}),this._animation.onfinish=this._onFinish,Oi(r,e)}}},qn.prototype.stop=function(){this._isDestroyed||!this._animation||(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)},qn.prototype.getCurrentStyles=function(){return yd(element,currentProps)},qn.prototype.isAnimating=function(){return!!this._animation},qn.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)},qn.prototype._onFinish=function(){var t=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,t&&t()};function wd(t,e){var n={};for(var r in t)n[e?r:Ub(r)]=t[r];return n}function Dr(t,e){return"translateX("+t+"px) translateY("+e+"px)"}function je(t){this._item=t,this._animation=new qn,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}je.prototype._updateDimensions=function(){this.isActive()&&Oi(this._element,{width:this._item._width+"px",height:this._item._height+"px"})},je.prototype._onLayoutStart=function(t,e){var n=this._item;if(t.indexOf(n)===-1){this.reset();return}var r=n._left,i=n._top,s=this._left,u=this._top;if(this._left=r,this._top=i,!(!e&&!this._didMigrate&&s===r&&u===i)){var l=r+n._marginLeft,c=i+n._marginTop,f=n.getGrid(),d=!e&&f._settings.layoutDuration>0;if(!d||this._didMigrate){id(n._id),this._element.style[Xn]=Dr(l,c),this._animation.stop(),this._didMigrate&&(f.getElement().appendChild(this._element),this._didMigrate=!1);return}this._nextTransX=l,this._nextTransY=c,mb(n._id,this._setupAnimation,this._startAnimation)}},je.prototype._setupAnimation=function(){if(this.isActive()){var t=er(this._element);this._transX=t.x,this._transY=t.y}},je.prototype._startAnimation=function(){if(this.isActive()){var t=this._animation,e=this._transX,n=this._transY,r=this._nextTransX,i=this._nextTransY;if(e===r&&n===i){t.isAnimating()&&(this._element.style[Xn]=Dr(r,i),t.stop());return}var s=this._item.getGrid()._settings,u={},l={};u[Xn]=Dr(e,n),l[Xn]=Dr(r,i),t.start(u,l,{duration:s.layoutDuration,easing:s.layoutEasing,onFinish:this._onLayoutEnd})}},je.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()},je.prototype._onReleaseEnd=function(t){if(t._id===this._item._id){if(!this._animation.isAnimating()){this.reset();return}this._resetAfterLayout=!0}},je.prototype._onMigrate=function(t){if(t.item===this._item){var e=this._item.getGrid(),n=t.toGrid;e.off(xo,this._onReleaseEnd),e.off(xr,this._onLayoutStart),e.off(wr,this._onMigrate),e.off(bo,this._onHide),n.on(xo,this._onReleaseEnd),n.on(xr,this._onLayoutStart),n.on(wr,this._onMigrate),n.on(bo,this._onHide),this._didMigrate=!0}},je.prototype._onHide=function(t){t.indexOf(this._item)>-1&&this.reset()},je.prototype.create=function(){if(this.isActive()){this._resetAfterLayout=!1;return}var t=this._item,e=t.getGrid(),n=e._settings,r=this._animation;this._left=t._left,this._top=t._top;var i;Lt(n.dragPlaceholder.createElement)?i=n.dragPlaceholder.createElement(t):i=document.createElement("div"),this._element=i,r._element=i,this._className=n.itemPlaceholderClass||"",this._className&&ln(i,this._className),Oi(i,{position:"absolute",left:"0px",top:"0px",width:t._width+"px",height:t._height+"px"}),i.style[Xn]=Dr(t._left+t._marginLeft,t._top+t._marginTop),e.on(xr,this._onLayoutStart),e.on(xo,this._onReleaseEnd),e.on(wr,this._onMigrate),e.on(bo,this._onHide),Lt(n.dragPlaceholder.onCreate)&&n.dragPlaceholder.onCreate(t,i),e.getElement().appendChild(i)},je.prototype.reset=function(){if(this.isActive()){var t=this._element,e=this._item,n=e.getGrid(),r=n._settings,i=this._animation;this._resetAfterLayout=!1,id(e._id),yb(e._id),i.stop(),i._element=null,n.off(xo,this._onReleaseEnd),n.off(xr,this._onLayoutStart),n.off(wr,this._onMigrate),n.off(bo,this._onHide),this._className&&(Ne(t,this._className),this._className=""),t.parentNode.removeChild(t),this._element=null,Lt(r.dragPlaceholder.onRemove)&&r.dragPlaceholder.onRemove(e,t)}},je.prototype.isActive=function(){return!!this._element},je.prototype.getElement=function(){return this._element},je.prototype.updateDimensions=function(){this.isActive()&&_b(this._item._id,this._updateDimensions)},je.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null};function Ar(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}Ar.prototype.start=function(){if(!(this._isDestroyed||this._isActive)){var t=this._item,e=t.getGrid(),n=e._settings;this._isActive=!0,ln(t._element,n.itemReleasingClass),n.dragRelease.useDragContainer||this._placeToGrid(),e._emit(tb,t),e._nextLayoutData||t._layout.start(!1)}},Ar.prototype.stop=function(t,e,n){if(!(this._isDestroyed||!this._isActive)){var r=this._item,i=r.getGrid();!t&&(e===void 0||n===void 0)&&(e=r._left,n=r._top);var s=this._placeToGrid(e,n);this._reset(s),t||i._emit(xo,r)}},Ar.prototype.isJustReleased=function(){return this._isActive&&this._isPositioningStarted===!1},Ar.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)},Ar.prototype._placeToGrid=function(t,e){if(!this._isDestroyed){var n=this._item,r=n._element,i=n.getGrid()._element,s=!1;if(r.parentNode!==i){if(t===void 0||e===void 0){var u=er(r);t=u.x-this._containerDiffX,e=u.y-this._containerDiffY}i.appendChild(r),n._setTranslate(t,e),s=!0}return this._containerDiffX=0,this._containerDiffY=0,s}},Ar.prototype._reset=function(t){if(!this._isDestroyed){var e=this._item,n=e.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,n&&(t&&e._element.clientWidth,Ne(e._element,n))}};var Sd=2;function nr(t){var e=t._element,n=e.style;this._item=t,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},n.left="0px",n.top="0px",t._setTranslate(0,0),this._animation=new qn(e),this._queue="layout-"+t._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}nr.prototype.start=function(t,e){if(!this._isDestroyed){var n=this._item,r=n._dragRelease,i=n.getGrid()._settings,s=this._isActive,u=r.isJustReleased(),l=u?i.dragRelease.duration:i.layoutDuration,c=u?i.dragRelease.easing:i.layoutEasing,f=!t&&!this._skipNextAnimation&&l>0;if(s&&(Kh(n._id),n._emitter.burst(this._queue,!0,n)),u&&(r._isPositioningStarted=!0),Lt(e)&&n._emitter.on(this._queue,e),this._skipNextAnimation=!1,!f){this._updateOffsets(),n._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=c,this._animOptions.duration=l,this._isInterrupted=s,fb(n._id,this._setupAnimation,this._startAnimation)}},nr.prototype.stop=function(t,e,n){if(!(this._isDestroyed||!this._isActive)){var r=this._item;if(Kh(r._id),this._animation.isAnimating()){if(e===void 0||n===void 0){var i=er(r._element);e=i.x,n=i.y}r._setTranslate(e,n),this._animation.stop()}Ne(r._element,r.getGrid()._settings.itemPositioningClass),this._isActive=!1,t&&r._emitter.burst(this._queue,!0,r)}},nr.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),t[Xn]="",t.left="",t.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}},nr.prototype._updateOffsets=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,n=t._dragRelease;this._offsetLeft=n._isActive?n._containerDiffX:e._isActive?e._containerDiffX:0,this._offsetTop=n._isActive?n._containerDiffY:e._isActive?e._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}},nr.prototype._finish=function(){if(!this._isDestroyed){var t=this._item,e=t._migrate,n=t._dragRelease;t._tX=this._nextLeft,t._tY=this._nextTop,this._isActive&&(this._isActive=!1,Ne(t._element,t.getGrid()._settings.itemPositioningClass)),n._isActive&&n.stop(),e._isActive&&e.stop(),t._emitter.burst(this._queue,!1,t)}},nr.prototype._setupAnimation=function(){var t=this._item;if(t._tX===void 0||t._tY===void 0){var e=er(t._element);t._tX=e.x,t._tY=e.y}},nr.prototype._startAnimation=function(){var t=this._item,e=t.getGrid()._settings,n=this._animOptions.duration<=0;this._updateOffsets();var r=Math.abs(t._left-(t._tX-this._offsetLeft)),i=Math.abs(t._top-(t._tY-this._offsetTop));if(n||r<Sd&&i<Sd){(r||i||this._isInterrupted)&&t._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._isInterrupted||ln(t._element,e.itemPositioningClass),this._currentStyles[Xn]=Dr(t._tX,t._tY),this._targetStyles[Xn]=Dr(this._nextLeft,this._nextTop),t._tX=t._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)};function Oo(t){this._item=t,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}Oo.prototype.start=function(t,e,n){if(!this._isDestroyed){var r=this._item,i=r._element,s=r.isActive(),u=r.isVisible(),l=r.getGrid(),c=l._settings,f=t._settings,d=t._element,p=t._items,v=l._items.indexOf(r),g=n||document.body,m,_,b,x,w,E,D,M,A,T;if(typeof e=="number")m=Ci(p,e,1);else{if(_=t.getItem(e),!_)return;m=p.indexOf(_)}(r.isPositioning()||this._isActive||r.isReleasing())&&(E=er(i),D=E.x,M=E.y),r.isPositioning()&&r._layout.stop(!0,D,M),this._isActive&&(D-=this._containerDiffX,M-=this._containerDiffY,this.stop(!0,D,M)),r.isReleasing()&&(D-=r._dragRelease._containerDiffX,M-=r._dragRelease._containerDiffY,r._dragRelease.stop(!0,D,M)),r._visibility.stop(!0),r._drag&&r._drag.destroy(),l._hasListeners(wr)&&l._emit(wr,{item:r,fromGrid:l,fromIndex:v,toGrid:t,toIndex:m}),t._hasListeners(Ys)&&t._emit(Ys,{item:r,fromGrid:l,fromIndex:v,toGrid:t,toIndex:m}),c.itemClass!==f.itemClass&&(Ne(i,c.itemClass),ln(i,f.itemClass)),A=u?c.itemVisibleClass:c.itemHiddenClass,T=u?f.itemVisibleClass:f.itemHiddenClass,A!==T&&(Ne(i,A),ln(i,T)),l._items.splice(v,1),rl(p,r,m),r._gridId=t._id,s?(b=i.parentNode,g!==b&&(g.appendChild(i),x=Mi(g,b,!0),E||(E=er(i),D=E.x,M=E.y),r._setTranslate(D+x.left,M+x.top))):d.appendChild(i),r._visibility.setStyles(u?f.visibleStyles:f.hiddenStyles),s&&(w=Mi(g,d,!0)),r._refreshDimensions(),r._sortData=null,r._drag=f.dragEnabled?new Ct(r):null,s?(this._isActive=!0,this._container=g,this._containerDiffX=w.left,this._containerDiffY=w.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),l._hasListeners(js)&&l._emit(js,{item:r,fromGrid:l,fromIndex:v,toGrid:t,toIndex:m}),t._hasListeners(Ws)&&t._emit(Ws,{item:r,fromGrid:l,fromIndex:v,toGrid:t,toIndex:m})}},Oo.prototype.stop=function(t,e,n){if(!(this._isDestroyed||!this._isActive)){var r=this._item,i=r._element,s=r.getGrid(),u=s._element,l;this._container!==u&&((e===void 0||n===void 0)&&(t?(l=er(i),e=l.x-this._containerDiffX,n=l.y-this._containerDiffY):(e=r._left,n=r._top)),u.appendChild(i),r._setTranslate(e,n)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}},Oo.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};function Pn(t){var e=t._isActive,n=t._element,r=n.children[0],i=t.getGrid()._settings;if(!r)throw new Error("No valid child element found within item element.");this._item=t,this._isDestroyed=!1,this._isHidden=!e,this._isHiding=!1,this._isShowing=!1,this._childElement=r,this._currentStyleProps=[],this._animation=new qn(r),this._queue="visibility-"+t._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),n.style.display=e?"":"none",ln(n,e?i.itemVisibleClass:i.itemHiddenClass),this.setStyles(e?i.visibleStyles:i.hiddenStyles)}Pn.prototype.show=function(t,e){if(!this._isDestroyed){var n=this._item,r=n._element,i=Lt(e)?e:null,s=n.getGrid(),u=s._settings;if(!this._isShowing&&!this._isHidden){i&&i(!1,n);return}if(this._isShowing&&!t){i&&n._emitter.on(this._queue,i);return}this._isShowing||(n._emitter.burst(this._queue,!0,n),Ne(r,u.itemHiddenClass),ln(r,u.itemVisibleClass),this._isHiding||(r.style.display="")),i&&n._emitter.on(this._queue,i),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,t,this._finishShow)}},Pn.prototype.hide=function(t,e){if(!this._isDestroyed){var n=this._item,r=n._element,i=Lt(e)?e:null,s=n.getGrid(),u=s._settings;if(!this._isHiding&&this._isHidden){i&&i(!1,n);return}if(this._isHiding&&!t){i&&n._emitter.on(this._queue,i);return}this._isHiding||(n._emitter.burst(this._queue,!0,n),ln(r,u.itemHiddenClass),Ne(r,u.itemVisibleClass)),i&&n._emitter.on(this._queue,i),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,t,this._finishHide)}},Pn.prototype.stop=function(t){if(!this._isDestroyed&&!(!this._isHiding&&!this._isShowing)){var e=this._item;td(e._id),this._animation.stop(),t&&e._emitter.burst(this._queue,!0,e)}},Pn.prototype.setStyles=function(t){var e=this._childElement,n=this._currentStyleProps;this._removeCurrentStyles();for(var r in t)n.push(r),e.style[r]=t[r]},Pn.prototype.destroy=function(){if(!this._isDestroyed){var t=this._item,e=t._element,n=t.getGrid(),r=n._settings;this.stop(!0),t._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),Ne(e,r.itemVisibleClass),Ne(e,r.itemHiddenClass),e.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}},Pn.prototype._startAnimation=function(t,e,n){if(!this._isDestroyed){var r=this._item,i=this._animation,s=this._childElement,u=r.getGrid()._settings,l=t?u.visibleStyles:u.hiddenStyles,c=t?u.showDuration:u.hideDuration,f=t?u.showEasing:u.hideEasing,d=e||c<=0,p;if(!l){n&&n();return}if(td(r._id),d){Oi(s,l),i.stop(),n&&n();return}i.isAnimating()&&(i._animation.onfinish=null),hb(r._id,function(){p=yd(s,l)},function(){i.start(p,l,{duration:c,easing:f,onFinish:n})})}},Pn.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))},Pn.prototype._finishHide=function(){if(this._isHidden){var t=this._item;this._isHiding=!1,t._layout.stop(!0,0,0),t._element.style.display="none",t._emitter.burst(this._queue,!1,t)}},Pn.prototype._removeCurrentStyles=function(){for(var t=this._childElement,e=this._currentStyleProps,n=0;n<e.length;n++)t.style[e[n]]="";e.length=0};var Jb=0;function Ed(){return++Jb}function ce(t,e,n){var r=t._settings;if($r){if($r.has(e))throw new Error("You can only create one Muuri Item per element!");$r.set(e,this)}this._id=Ed(),this._gridId=t._id,this._element=e,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new mn,e.parentNode!==t._element&&t._element.appendChild(e),ln(e,r.itemClass),typeof n!="boolean"&&(n=Je(e,"display")!=="none"),this._isActive=n,this._visibility=new Pn(this),this._layout=new nr(this),this._migrate=new Oo(this),this._drag=r.dragEnabled?new Ct(this):null,this._dragRelease=new Ar(this),this._dragPlaceholder=new je(this)}ce.prototype.getGrid=function(){return zs[this._gridId]},ce.prototype.getElement=function(){return this._element},ce.prototype.getWidth=function(){return this._width},ce.prototype.getHeight=function(){return this._height},ce.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}},ce.prototype.getPosition=function(){return{left:this._left,top:this._top}},ce.prototype.isActive=function(){return this._isActive},ce.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden},ce.prototype.isShowing=function(){return!!(this._visibility&&this._visibility._isShowing)},ce.prototype.isHiding=function(){return!!(this._visibility&&this._visibility._isHiding)},ce.prototype.isPositioning=function(){return!!(this._layout&&this._layout._isActive)},ce.prototype.isDragging=function(){return!!(this._drag&&this._drag._isActive)},ce.prototype.isReleasing=function(){return!!(this._dragRelease&&this._dragRelease._isActive)},ce.prototype.isDestroyed=function(){return this._isDestroyed},ce.prototype._refreshDimensions=function(t){if(!this._isDestroyed&&!(t!==!0&&this._visibility._isHidden)){var e=this._element,n=this._dragPlaceholder,r=e.getBoundingClientRect();this._width=r.width,this._height=r.height,this._marginLeft=Math.max(0,_n(e,"margin-left")),this._marginRight=Math.max(0,_n(e,"margin-right")),this._marginTop=Math.max(0,_n(e,"margin-top")),this._marginBottom=Math.max(0,_n(e,"margin-bottom")),n&&n.updateDimensions()}},ce.prototype._refreshSortData=function(){if(!this._isDestroyed){var t=this._sortData={},e=this.getGrid()._settings.sortData,n;for(n in e)t[n]=e[n](this,this._element)}},ce.prototype._addToLayout=function(t,e){this._isActive!==!0&&(this._isActive=!0,this._left=t||0,this._top=e||0)},ce.prototype._removeFromLayout=function(){this._isActive!==!1&&(this._isActive=!1,this._left=0,this._top=0)},ce.prototype._canSkipLayout=function(t,e){return this._left===t&&this._top===e&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()},ce.prototype._setTranslate=function(t,e){return this._tX===t&&this._tY===e?!1:(this._tX=t,this._tY=e,this._element.style[Xn]=Dr(t,e),!0)},ce.prototype._destroy=function(t){if(!this._isDestroyed){var e=this._element,n=this.getGrid(),r=n._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),Ne(e,r.itemClass),t&&e.parentNode.removeChild(e),$r&&$r.delete(e),this._isActive=!1,this._isDestroyed=!0}};function Dd(t){var e=1,n=2,r=4,i=8,s=16,u=.001,l=.5;function c(_){return((_*1e3+.5<<0)/10<<0)/100}function f(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(f.prototype.computeLayout=function(_,b){var x=_.items,w=_.slots,E=!!(b&e),D=!!(b&n),M=!!(b&r),A=!!(b&i),T=!!(b&s),O=typeof x[0]=="number",I,k,N,z,G,Y;if(!x.length)return _;for(k=O?2:1,I=0;I<x.length;I+=k)O?(z=x[I],G=x[I+1]):(N=x[I],z=N._width+N._marginLeft+N._marginRight,G=N._height+N._marginTop+N._marginBottom),T&&(z=c(z),G=c(G)),Y=this.computeNextSlot(_,z,G,E,D),D?Y.left+Y.width>_.width&&(_.width=Y.left+Y.width):Y.top+Y.height>_.height&&(_.height=Y.top+Y.height),w[++this.slotIndex]=Y.left,w[++this.slotIndex]=Y.top,(M||A)&&this.slotSizes.push(Y.width,Y.height);if(M)for(I=0;I<w.length;I+=2)w[I]=_.width-(w[I]+this.slotSizes[I]);if(A)for(I=1;I<w.length;I+=2)w[I]=_.height-(w[I]+this.slotSizes[I]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectStore.length=0,this.rectId=0,this.slotIndex=-1,_},f.prototype.computeNextSlot=function(_,b,x,w,E){var D=this.slotData,M=this.currentRects,A=this.nextRects,T=!1,O,I,k,N,z;for(A.length=0,D.left=null,D.top=null,D.width=b,D.height=x,N=0;N<M.length;N++)if(I=M[N],!!I&&(O=this.getRect(I),D.width<=O.width+u&&D.height<=O.height+u)){D.left=O.left,D.top=O.top;break}if(D.left===null&&(E?(D.left=_.width,D.top=0):(D.left=0,D.top=_.height),w||(T=!0)),!E&&D.top+D.height>_.height+u&&(D.left>l&&A.push(this.addRect(0,_.height,D.left,1/0)),D.left+D.width<_.width-l&&A.push(this.addRect(D.left+D.width,_.height,_.width-D.left-D.width,1/0)),_.height=D.top+D.height),E&&D.left+D.width>_.width+u&&(D.top>l&&A.push(this.addRect(_.width,0,1/0,D.top)),D.top+D.height<_.height-l&&A.push(this.addRect(_.width,D.top+D.height,1/0,_.height-D.top-D.height)),_.width=D.left+D.width),!T){for(w&&(N=0);N<M.length;N++)if(I=M[N],!!I)for(O=this.getRect(I),k=this.splitRect(O,D),z=0;z<k.length;z++)I=k[z],O=this.getRect(I),(E?O.left+u<_.width-u:O.top+u<_.height-u)&&A.push(I)}return A.length>1&&this.purgeRects(A).sort(E?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=A,this.nextRects=M,D},f.prototype.addRect=function(_,b,x,w){var E=++this.rectId;return this.rectStore[E]=_||0,this.rectStore[++this.rectId]=b||0,this.rectStore[++this.rectId]=x||0,this.rectStore[++this.rectId]=w||0,E},f.prototype.getRect=function(_,b){return b||(b=this.rectTarget),b.left=this.rectStore[_]||0,b.top=this.rectStore[++_]||0,b.width=this.rectStore[++_]||0,b.height=this.rectStore[++_]||0,b},f.prototype.splitRect=function(){var _=[],b=0,x=0;return function(w,E){return _.length=0,w.left+w.width<=E.left+u||E.left+E.width<=w.left+u||w.top+w.height<=E.top+u||E.top+E.height<=w.top+u?(_.push(this.addRect(w.left,w.top,w.width,w.height)),_):(b=E.left-w.left,b>=l&&_.push(this.addRect(w.left,w.top,b,w.height)),b=w.left+w.width-(E.left+E.width),b>=l&&_.push(this.addRect(E.left+E.width,w.top,b,w.height)),x=E.top-w.top,x>=l&&_.push(this.addRect(w.left,w.top,w.width,x)),x=w.top+w.height-(E.top+E.height),x>=l&&_.push(this.addRect(w.left,E.top+E.height,w.width,x)),_)}}(),f.prototype.isRectAWithinRectB=function(_,b){return _.left+u>=b.left&&_.top+u>=b.top&&_.left+_.width-u<=b.left+b.width&&_.top+_.height-u<=b.top+b.height},f.prototype.purgeRects=function(){var _={},b={};return function(x){for(var w=x.length,E;w--;)if(E=x.length,!!x[w]){for(this.getRect(x[w],_);E--;)if(!(!x[E]||w===E)&&(this.getRect(x[E],b),this.isRectAWithinRectB(_,b))){x[w]=0;break}}return x}}(),f.prototype.sortRectsTopLeft=function(){var _={},b={};return function(x,w){return this.getRect(x,_),this.getRect(w,b),_.top<b.top&&_.top+u<b.top?-1:_.top>b.top&&_.top-u>b.top?1:_.left<b.left&&_.left+u<b.left?-1:_.left>b.left&&_.left-u>b.left?1:0}}(),f.prototype.sortRectsLeftTop=function(){var _={},b={};return function(x,w){return this.getRect(x,_),this.getRect(w,b),_.left<b.left&&_.left+u<b.left?-1:_.left>b.left&&_.left-u<b.left?1:_.top<b.top&&_.top+u<b.top?-1:_.top>b.top&&_.top-u>b.top?1:0}}(),t){var d=1,p=2,v=3,g=4,m=new f;self.onmessage=function(_){var b=new Float32Array(_.data),x=b.subarray(g,b.length),w=new Float32Array(x.length),E=b[v],D={items:x,slots:w,width:b[d],height:b[p]};m.computeLayout(D,E),b[d]=D.width,b[p]=D.height,b.set(D.slots,g),postMessage(b.buffer,[b.buffer])}}return f}var Ad=Dd(),Ti=null,ra=[];function Kb(t,e){var n=[];if(t>0){Ti||(Ti=URL.createObjectURL(new Blob(["("+Dd.toString()+")(true)"],{type:"application/javascript"})));for(var r=0,i;r<t;r++)i=new Worker(Ti),e&&(i.onmessage=e),n.push(i),ra.push(i)}return n}function tx(t){for(var e,n,r=0;r<t.length;r++)e=t[r],e.onmessage=null,e.onerror=null,e.onmessageerror=null,e.terminate(),n=ra.indexOf(e),n>-1&&ra.splice(n,1);Ti&&!ra.length&&(URL.revokeObjectURL(Ti),Ti=null)}function ex(){return!!(window.Worker&&window.URL&&window.Blob)}var Cd=1,ia=2,Md=4,Rd=8,Od=16,Td=0,Id=1,Pd=2,nx=3,cl=4;function rr(t,e){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(e),t=typeof t=="number"?Math.max(0,t):0,t&&ex())try{this._workers=Kb(t,this._onWorkerMessage)}catch{this._processor=new Ad}else this._processor=new Ad}rr.prototype._sendToWorker=function(){if(!(!this._layoutQueue.length||!this._workers.length)){var t=this._layoutQueue.shift(),e=this._workers.pop(),n=this._layoutWorkerData[t];delete this._layoutWorkerData[t],this._layoutWorkers[t]=e,e.postMessage(n.buffer,[n.buffer])}},rr.prototype._onWorkerMessage=function(t){var e=new Float32Array(t.data),n=e[Td],r=this._layouts[n],i=this._layoutCallbacks[n],s=this._layoutWorkers[n];r&&delete this._layouts[n],i&&delete this._layoutCallbacks[n],s&&delete this._layoutWorkers[n],r&&i&&(r.width=e[Id],r.height=e[Pd],r.slots=e.subarray(cl,e.length),this._finalizeLayout(r),i(r)),s&&(this._workers.push(s),this._sendToWorker())},rr.prototype._finalizeLayout=function(t){var e=t._grid,n=t._settings&ia,r=e._boxSizing==="border-box";return delete t._grid,delete t._settings,t.styles={},n?t.styles.width=(r?t.width+e._borderLeft+e._borderRight:t.width)+"px":t.styles.height=(r?t.height+e._borderTop+e._borderBottom:t.height)+"px",t},rr.prototype.setOptions=function(t){if(t){var e;typeof t.fillGaps=="boolean"?e=t.fillGaps?Cd:0:e=this._options&Cd;var n;typeof t.horizontal=="boolean"?n=t.horizontal?ia:0:n=this._options&ia;var r;typeof t.alignRight=="boolean"?r=t.alignRight?Md:0:r=this._options&Md;var i;typeof t.alignBottom=="boolean"?i=t.alignBottom?Rd:0:i=this._options&Rd;var s;typeof t.rounding=="boolean"?s=t.rounding?Od:0:s=this._options&Od,this._options=e|n|r|i|s}},rr.prototype.createLayout=function(t,e,n,r,i,s){if(this._layouts[e])throw new Error("A layout with the provided id is currently being processed.");var u=this._options&ia,l={id:e,items:n,slots:null,width:u?0:r,height:u?i:0,_grid:t,_settings:this._options};if(!n.length){l.slots=[],this._finalizeLayout(l),s(l);return}if(this._processor){l.slots=window.Float32Array?new Float32Array(n.length*2):new Array(n.length*2),this._processor.computeLayout(l,l._settings),this._finalizeLayout(l),s(l);return}var c=new Float32Array(cl+n.length*2);c[Td]=e,c[Id]=l.width,c[Pd]=l.height,c[nx]=l._settings;var f,d,p;for(f=0,d=cl-1,p;f<n.length;f++)p=n[f],c[++d]=p._width+p._marginLeft+p._marginRight,c[++d]=p._height+p._marginTop+p._marginBottom;return this._layoutQueue.push(e),this._layouts[e]=l,this._layoutCallbacks[e]=s,this._layoutWorkerData[e]=c,this._sendToWorker(),this.cancelLayout.bind(this,e)},rr.prototype.cancelLayout=function(t){var e=this._layouts[t];if(e&&(delete this._layouts[t],delete this._layoutCallbacks[t],this._layoutWorkerData[t])){delete this._layoutWorkerData[t];var n=this._layoutQueue.indexOf(t);n>-1&&this._layoutQueue.splice(n,1)}},rr.prototype.destroy=function(){for(var t in this._layoutWorkers)this._workers.push(this._layoutWorkers[t]);tx(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var rx=0;function ix(t,e){var n=++rx,r=0,i=0,s=!1,u=function(l){s||(i&&(r-=l-i),i=l,r>0?xb(n,u):(r=i=0,t()))};return function(l){if(!s){if(e<=0){l!==!0&&t();return}if(l===!0){s=!0,r=i=0,u=void 0,wb(n);return}r<=0?(r=e,u(0)):r=e}}}var ox="[object HTMLCollection]",sx="[object NodeList]";function fl(t){var e=Object.prototype.toString.call(t);return e===ox||e===sx}var ax="object",ux="[object Object]",lx=Object.prototype.toString;function kd(t){return typeof t===ax&&lx.call(t)===ux}function cx(){}function fx(t){return fl(t)?Array.prototype.slice.call(t):Array.prototype.concat(t)}var Bd="number",oa="string",Cr="instant",hl=0;function Ot(t,e){typeof t===oa&&(t=document.querySelector(t));var n=t.getRootNode?t.getRootNode({composed:!0})===document:document.body.contains(t);if(!n||t===document.documentElement)throw new Error("Container element must be an existing DOM element.");var r=hx(Ot.defaultOptions,e);r.visibleStyles=Gd(r.visibleStyles),r.hiddenStyles=Gd(r.hiddenStyles),Lt(r.dragSort)||(r.dragSort=!!r.dragSort),this._id=Ed(),this._element=t,this._settings=r,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new mn,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),zs[this._id]=this,ln(t,r.containerClass),px(this,r.layoutOnResize),this.add(dx(t,r.items),{layout:!1}),r.layoutOnInit&&this.layout(!0)}Ot.Item=ce,Ot.ItemLayout=nr,Ot.ItemVisibility=Pn,Ot.ItemMigrate=Oo,Ot.ItemDrag=Ct,Ot.ItemDragRelease=Ar,Ot.ItemDragPlaceholder=je,Ot.Emitter=mn,Ot.Animator=qn,Ot.Dragger=J,Ot.Packer=rr,Ot.AutoScroller=Ht,Ot.defaultPacker=new rr(2),Ot.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:Qr,migrateAction:Qr},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:Ht.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"},Ot.prototype.on=function(t,e){return this._emitter.on(t,e),this},Ot.prototype.off=function(t,e){return this._emitter.off(t,e),this},Ot.prototype.getElement=function(){return this._element},Ot.prototype.getItem=function(t){if(this._isDestroyed||!t&&t!==0)return null;if(typeof t===Bd)return this._items[t>-1?t:this._items.length+t]||null;if(t instanceof ce)return t._gridId===this._id?t:null;if($r){var e=$r.get(t);return e&&e._gridId===this._id?e:null}else for(var n=0;n<this._items.length;n++)if(this._items[n]._element===t)return this._items[n];return null},Ot.prototype.getItems=function(t){if(this._isDestroyed||t===void 0)return this._items.slice(0);var e=[],n,r;if(Array.isArray(t)||fl(t))for(n=0;n<t.length;n++)r=this.getItem(t[n]),r&&e.push(r);else r=this.getItem(t),r&&e.push(r);return e},Ot.prototype.refreshItems=function(t,e){if(this._isDestroyed)return this;var n=t||this._items,r,i,s,u;if(e===!0)for(u=[],r=0;r<n.length;r++)i=n[r],!i.isVisible()&&!i.isHiding()&&(s=i.getElement().style,s.visibility="hidden",s.display="",u.push(s));for(r=0;r<n.length;r++)n[r]._refreshDimensions(e);if(e===!0){for(r=0;r<u.length;r++)s=u[r],s.visibility="",s.display="none";u.length=0}return this},Ot.prototype.refreshSortData=function(t){if(this._isDestroyed)return this;for(var e=t||this._items,n=0;n<e.length;n++)e[n]._refreshSortData();return this},Ot.prototype.synchronize=function(){if(this._isDestroyed)return this;var t=this._items;if(!t.length)return this;for(var e,n,r=0;r<t.length;r++)n=t[r]._element,n.parentNode===this._element&&(e=e||document.createDocumentFragment(),e.appendChild(n));return e?(this._element.appendChild(e),this._emit(qy),this):this},Ot.prototype.layout=function(t,e){if(this._isDestroyed)return this;var n=this._nextLayoutData;n&&Lt(n.cancel)&&n.cancel(),hl=hl%nb+1;var r=hl;this._nextLayoutData={id:r,instant:t,onFinish:e,cancel:null};for(var i=this._items,s=[],u=0;u<i.length;u++)i[u]._isActive&&s.push(i[u]);this._refreshDimensions();var l=this._width-this._borderLeft-this._borderRight,c=this._height-this._borderTop-this._borderBottom,f=this._settings.layout,d;return Lt(f)?d=f(this,r,s,l,c,this._onLayoutDataReceived):(Ot.defaultPacker.setOptions(f),d=Ot.defaultPacker.createLayout(this,r,s,l,c,this._onLayoutDataReceived)),Lt(d)&&this._nextLayoutData&&this._nextLayoutData.id===r&&(this._nextLayoutData.cancel=d),this},Ot.prototype.add=function(t,e){if(this._isDestroyed||!t)return[];var n=fx(t);if(!n.length)return n;var r=e||{},i=r.layout?r.layout:r.layout===void 0,s=this._items,u=!1,l,c,f,d;for(d=0;d<n.length;d++)c=n[d],c.parentNode!==this._element&&(l=l||document.createDocumentFragment(),l.appendChild(c));for(l&&this._element.appendChild(l),d=0;d<n.length;d++)c=n[d],f=n[d]=new ce(this,c,r.active),f._isActive&&(u=!0,f._layout._skipNextAnimation=!0);for(d=0;d<n.length;d++)f=n[d],f._refreshDimensions(),f._refreshSortData();return rl(s,n,r.index),this._hasListeners(Ch)&&this._emit(Ch,n.slice(0)),u&&i&&this.layout(i===Cr,Lt(i)?i:void 0),n},Ot.prototype.remove=function(t,e){if(this._isDestroyed||!t.length)return[];var n=e||{},r=n.layout?n.layout:n.layout===void 0,i=!1,s=this.getItems(),u=[],l=[],c,f,d;for(d=0;d<t.length;d++)f=t[d],!f._isDestroyed&&(c=this._items.indexOf(f),c!==-1&&(f._isActive&&(i=!0),u.push(f),l.push(s.indexOf(f)),f._destroy(n.removeElements),this._items.splice(c,1)));return this._hasListeners(Mh)&&this._emit(Mh,u.slice(0),l),i&&r&&this.layout(r===Cr,Lt(r)?r:void 0),u},Ot.prototype.show=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!0,e),this},Ot.prototype.hide=function(t,e){return!this._isDestroyed&&t.length&&this._setItemsVisibility(t,!1,e),this},Ot.prototype.filter=function(t,e){if(this._isDestroyed||!this._items.length)return this;var n=[],r=[],i=typeof t===oa,s=Lt(t),u=e||{},l=u.instant===!0,c=u.syncWithLayout,f=u.layout?u.layout:u.layout===void 0,d=Lt(u.onFinish)?u.onFinish:null,p=-1,v=cx,g,m;if(d&&(v=function(){++p&&d(n.slice(0),r.slice(0))}),s||i)for(m=0;m<this._items.length;m++)g=this._items[m],(s?t(g):ta(g._element,t))?n.push(g):r.push(g);return n.length?this.show(n,{instant:l,syncWithLayout:c,onFinish:v,layout:!1}):v(),r.length?this.hide(r,{instant:l,syncWithLayout:c,onFinish:v,layout:!1}):v(),(n.length||r.length)&&(this._hasListeners(Rh)&&this._emit(Rh,n.slice(0),r.slice(0)),f&&this.layout(f===Cr,Lt(f)?f:void 0)),this},Ot.prototype.sort=function(){var t,e,n,r;function i(u,l){for(var c=0,f,d,p,v,g=0;g<t.length;g++)if(f=t[g][0],d=t[g][1],p=(u._sortData?u:u._refreshSortData())._sortData[f],v=(l._sortData?l:l._refreshSortData())._sortData[f],d==="desc"||!d&&e?c=v<p?-1:v>p?1:0:c=p<v?-1:p>v?1:0,c)return c;return c||(r||(r=Ld(n)),c=e?sa(r,l,u):sa(r,u,l)),c}function s(u,l){var c=e?-t(u,l):t(u,l);return c||(r||(r=Ld(n)),c=e?sa(r,l,u):sa(r,u,l)),c}return function(u,l){if(this._isDestroyed||this._items.length<2)return this;var c=this._items,f=l||{},d=f.layout?f.layout:f.layout===void 0;if(e=!!f.descending,n=c.slice(0),r=null,Lt(u))t=u,c.sort(s);else if(typeof u===oa)t=u.trim().split(" ").filter(function(p){return p}).map(function(p){return p.split(":")}),c.sort(i);else if(Array.isArray(u))c.length=0,c.push.apply(c,u);else throw t=e=n=r=null,new Error("Invalid comparer argument provided.");return this._hasListeners(Oh)&&this._emit(Oh,c.slice(0),n),d&&this.layout(d===Cr,Lt(d)?d:void 0),t=e=n=r=null,this}}(),Ot.prototype.move=function(t,e,n){if(this._isDestroyed||this._items.length<2)return this;var r=this._items,i=n||{},s=i.layout?i.layout:i.layout===void 0,u=i.action===Yn,l=u?Yn:Qr,c=this.getItem(t),f=this.getItem(e),d,p;return c&&f&&c!==f&&(d=r.indexOf(c),p=r.indexOf(f),u?pd(r,d,p):dd(r,d,p),this._hasListeners(Ns)&&this._emit(Ns,{item:c,fromIndex:d,toIndex:p,action:l}),s&&this.layout(s===Cr,Lt(s)?s:void 0)),this},Ot.prototype.send=function(t,e,n,r){if(this._isDestroyed||e._isDestroyed||this===e)return this;if(t=this.getItem(t),!t)return this;var i=r||{},s=i.appendTo||document.body,u=i.layoutSender?i.layoutSender:i.layoutSender===void 0,l=i.layoutReceiver?i.layoutReceiver:i.layoutReceiver===void 0;return t._migrate.start(e,n,s),t._migrate._isActive&&t._isActive&&(u&&this.layout(u===Cr,Lt(u)?u:void 0),l&&e.layout(l===Cr,Lt(l)?l:void 0)),this},Ot.prototype.destroy=function(t){if(this._isDestroyed)return this;var e=this._element,n=this._items.slice(0),r=this._layout&&this._layout.styles||{},i,s;for(vx(this),i=0;i<n.length;i++)n[i]._destroy(t);this._items.length=0,Ne(e,this._settings.containerClass);for(s in r)e.style[s]="";return this._emit(eb),this._emitter.destroy(),delete zs[this._id],this._isDestroyed=!0,this},Ot.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)},Ot.prototype._hasListeners=function(t){return this._isDestroyed?!1:this._emitter.countListeners(t)>0},Ot.prototype._updateBoundingRect=function(){var t=this._element,e=t.getBoundingClientRect();this._width=e.width,this._height=e.height,this._left=e.left,this._top=e.top,this._right=e.right,this._bottom=e.bottom},Ot.prototype._updateBorders=function(t,e,n,r){var i=this._element;t&&(this._borderLeft=_n(i,"border-left-width")),e&&(this._borderRight=_n(i,"border-right-width")),n&&(this._borderTop=_n(i,"border-top-width")),r&&(this._borderBottom=_n(i,"border-bottom-width"))},Ot.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=Je(this._element,"box-sizing")},Ot.prototype._onLayoutDataReceived=function(){var t=[];return function(e){if(!(this._isDestroyed||!this._nextLayoutData||this._nextLayoutData.id!==e.id)){var n=this,r=this._nextLayoutData.instant,i=this._nextLayoutData.onFinish,s=e.items.length,u=s,l,c,f,d;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(Ah)&&this._emit(Ah,this._layout.items.slice(0)),this._layout=e,t.length=0,d=0;d<s;d++){if(l=e.items[d],!l){--u;continue}if(c=e.slots[d*2],f=e.slots[d*2+1],l._canSkipLayout(c,f)){--u;continue}l._left=c,l._top=f,l.isActive()&&!l.isDragging()?t.push(l):--u}if(e.styles&&Oi(this._element,e.styles),!(this._hasListeners(xr)&&(this._emit(xr,e.items.slice(0),r===!0),this._layout.id!==e.id))){var p=function(){if(!(--u>0)){var v=n._layout.id!==e.id,g=Lt(r)?r:i;v||(n._isLayoutFinished=!0),Lt(g)&&g(e.items.slice(0),v),!v&&n._hasListeners(Dh)&&n._emit(Dh,e.items.slice(0))}};if(!t.length)return p(),this;for(this._isLayoutFinished=!1,d=0;d<t.length&&this._layout.id===e.id;d++)t[d]._layout.start(r===!0,p);return this._layout.id===e.id&&(t.length=0),this}}}}(),Ot.prototype._setItemsVisibility=function(t,e,n){var r=this,i=t.slice(0),s=n||{},u=s.instant===!0,l=s.onFinish,c=s.layout?s.layout:s.layout===void 0,f=i.length,d=e?Hy:bo,p=e?Vy:Uy,v=e?"show":"hide",g=!1,m=[],_=[],b,x;if(!f){Lt(l)&&l(i);return}for(x=0;x<i.length;x++)b=i[x],(e&&!b._isActive||!e&&b._isActive)&&(g=!0),b._layout._skipNextAnimation=!!(e&&!b._isActive),e&&b._visibility._isHidden&&_.push(b),e?b._addToLayout():b._removeFromLayout();_.length&&(this.refreshItems(_,!0),_.length=0);function w(){for(g&&s.syncWithLayout!==!1&&r.off(xr,w),r._hasListeners(d)&&r._emit(d,i.slice(0)),x=0;x<i.length;x++){if(i[x]._gridId!==r._id){--f<1&&(Lt(l)&&l(m.slice(0)),r._hasListeners(p)&&r._emit(p,m.slice(0)));continue}i[x]._visibility[v](u,function(E,D){E||m.push(D),--f<1&&(Lt(l)&&l(m.slice(0)),r._hasListeners(p)&&r._emit(p,m.slice(0)))})}}g&&s.syncWithLayout!==!1?this.on(xr,w):w(),g&&c&&this.layout(c===Cr,Lt(c)?c:void 0)};function hx(t,e){var n=To({},t);return e&&(n=To(n,e)),e&&e.visibleStyles?n.visibleStyles=e.visibleStyles:t&&t.visibleStyles&&(n.visibleStyles=t.visibleStyles),e&&e.hiddenStyles?n.hiddenStyles=e.hiddenStyles:t&&t.hiddenStyles&&(n.hiddenStyles=t.hiddenStyles),n}function To(t,e){var n=Object.keys(e),r=n.length,i,s,u;for(u=0;u<r;u++){if(s=n[u],i=kd(e[s]),kd(t[s])&&i){t[s]=To(To({},t[s]),e[s]);continue}if(i){t[s]=To({},e[s]);continue}if(Array.isArray(e[s])){t[s]=e[s].slice(0);continue}t[s]=e[s]}return t}function dx(t,e){if(e==="*")return t.children;if(typeof e===oa){for(var n=[],r=t.children,i=0;i<r.length;i++)ta(r[i],e)&&n.push(r[i]);return n}return Array.isArray(e)||fl(e)?e:[]}function px(t,e){typeof e!==Bd&&(e=e===!0?0:-1),e>=0&&(t._resizeHandler=ix(function(){t.refreshItems().layout()},e),window.addEventListener("resize",t._resizeHandler))}function vx(t){t._resizeHandler&&(t._resizeHandler(!0),window.removeEventListener("resize",t._resizeHandler),t._resizeHandler=null)}function Gd(t){var e={},n=document.documentElement.style,r,i;for(r in t)t[r]&&(i=qs(n,r),i&&(e[i]=t[r]));return e}function Ld(t){for(var e={},n=0;n<t.length;n++)e[t[n]._id]=n;return e}function sa(t,e,n){var r=t[e._id],i=t[n._id];return r-i}var aa,gx=new Uint8Array(16);function mx(){if(!aa&&(aa=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!aa))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return aa(gx)}const _x=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function yx(t){return typeof t=="string"&&_x.test(t)}for(var ke=[],dl=0;dl<256;++dl)ke.push((dl+256).toString(16).substr(1));function bx(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(ke[t[e+0]]+ke[t[e+1]]+ke[t[e+2]]+ke[t[e+3]]+"-"+ke[t[e+4]]+ke[t[e+5]]+"-"+ke[t[e+6]]+ke[t[e+7]]+"-"+ke[t[e+8]]+ke[t[e+9]]+"-"+ke[t[e+10]]+ke[t[e+11]]+ke[t[e+12]]+ke[t[e+13]]+ke[t[e+14]]+ke[t[e+15]]).toLowerCase();if(!yx(n))throw TypeError("Stringified UUID is invalid");return n}function pl(t,e,n){t=t||{};var r=t.random||(t.rng||mx)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return bx(r)}const Jr={synchronize:"synchronize",layoutStart:"layoutStart",layoutEnd:"layoutEnd",layoutAbort:"layoutAbort",add:"add",remove:"remove",showStart:"showStart",showEnd:"showEnd",hideStart:"hideStart",hideEnd:"hideEnd",filter:"filter",sort:"sort",move:"move",send:"send",beforeSend:"beforeSend",receive:"receive",beforeReceive:"beforeReceive",dragInit:"dragInit",dragStart:"dragStart",dragMove:"dragMove",dragScroll:"dragScroll",dragEnd:"dragEnd",dragReleaseStart:"dragReleaseStart",dragReleaseEnd:"dragReleaseEnd",destroy:"destroy"};class xx{constructor(){this._store=new Map,this._itemStore=new Map,this._draggingGridItem=null,this._draggingItem=null}setItemsForGridId(e,n){this._itemStore.set(e,n)}setDraggingGridItem(e){this._draggingGridItem=e}setDraggingItem(e){this._draggingItem=e}getDraggingGridItem(){return this._draggingGridItem}getDraggingItem(){return this._draggingItem}addGrid(e,n){const r=e+"";this._store.has(r)||this._store.set(r+"",[]),this._store.get(r).push(n)}addGridToGroups(e,n){e.forEach(r=>this.addGrid(r,n))}getGrids(e){let n=[];return e.forEach(r=>n=n.concat(this._store.get(r+""))),n}clear(){this._store=new Map,this._itemStore=new Map,this._draggingGridItem=null,this._draggingItem=null}}const yn=new xx,Fd={key:"_$muuri_id"},zd={width:"100px",height:"100px"},wx={name:"Vuuri",props:{className:{type:String,required:!1,default:()=>`class${pl().replace(/-/g,"")}`},options:{type:Object,required:!1,default:()=>({})},modelValue:{type:Array,required:!1},itemKey:{type:String,required:!1,default:()=>Fd.key},getItemWidth:{type:Function,required:!1,default:()=>zd.width},getItemHeight:{type:Function,required:!1,default:()=>zd.height},dragEnabled:{type:Boolean,required:!1,default:!1},dragHandle:{type:String,required:!1,default:{selector:".muuri-item:first-child"}.select},groupId:{type:[String,Number],required:!1},groupIds:{type:[Array],required:!1}},data(){return{copiedItems:[],events:{},muuriOptions:{}}},watch:{modelValue:{handler(t){this.internallySet||this._sync(t,this.copiedItems)},deep:!0}},computed:{selector(){return`.${this.className}`}},methods:{update(){this.$nextTick(()=>{this.muuri.refreshItems().layout(!0,()=>this.$emit("updated"))})},_setup(){this.muuri=new Ot(this.selector,this.muuriOptions),this.groupId&&yn.addGrid(this.groupId,this.muuri),this.groupIds&&yn.addGridToGroups(this.groupIds,this.muuri),this.observer=new ResizeObserver(()=>{this._resizeOnLoad()}),this.observer.observe(this.muuri.getElement()),this._sync(this.modelValue,[]),this.$nextTick(()=>{yn.setItemsForGridId(this.gridKey,this.modelValue)})},_setupNonReactiveProps(){this.muuri=void 0,this.observer=void 0,this.gridKey=pl().replace(/-/g,"")},_setupOptions(){if(this.dragEnabled&&(this.muuriOptions={...this._generateDragOptions(),...this.muuriOptions}),this.groupId||this.groupIds){let t=[];this.groupId&&t.push(this.groupId),this.groupIds&&(t=t.concat(this.groupIds)),this.muuriOptions.dragSort=()=>yn.getGrids(t)}this.muuriOptions={...this.options,...this.muuriOptions}},_generateDragOptions(){return{dragEnabled:!0,dragHandle:this.dragHandle,dragContainer:document.querySelector(`.muuri-grid${this.selector}`),dragRelease:{duration:400,easing:"cubic-bezier(0.625, 0.225, 0.100, 0.890)",useDragContainer:!0},dragPlaceholder:{enabled:!0,createElement(t){return t.getElement().cloneNode(!0)}},dragAutoScroll:{targets:[window],sortDuringScroll:!1,syncAfterScroll:!1}}},_registerEvents(){Object.values(Jr).forEach(t=>{this.events[t]=(...e)=>{this.$emit(t,...e)},this.muuri.on(t,this.events[t]),t===Jr.dragStart&&this.muuri.on(t,this._onDragStart),t===Jr.send&&this.muuri.on(t,this._onItemSend),t===Jr.receive&&this.muuri.on(t,this._onItemReceive),t===Jr.move&&this.muuri.on(t,this._onItemMove),t===Jr.dragEnd&&this.muuri.on(t,this._onDragEnd)})},_unregisterEvents(){Object.values(Jr).forEach(t=>{this.muuri.off(t,this.events[t]),delete this.events[t]})},_onDragStart(t){yn.setDraggingGridItem(t)},_onItemMove({item:t}){const e=this._reOrderWithItem(t);this._emitValue(e)},_onItemSend({item:t}){const e=this.modelValue.findIndex(r=>r[this.itemKey]==t.getElement().dataset.itemKey),n=this.modelValue.splice(e,1)[0];yn.setDraggingItem(n),this._emitValue(this.modelValue)},_onItemReceive(){const t=yn.getDraggingItem();this.modelValue.push(t);const e=this._reOrderWithItem(yn.getDraggingGridItem());this._emitValue(e)},_onDragEnd(){yn.setDraggingGridItem(null),yn.setDraggingItem(null)},_reOrderWithItem(t){const e=t.getGrid();let n=0;const r=e.getItems().reduce((i,s)=>(i[s.getElement().dataset.itemKey]=n,n+=1,i),{});return this.modelValue.reduce((i,s)=>(i[r[s[this.itemKey]]]=s,i),[])},_getItemStyles(t){return{width:this.getItemWidth(t),height:this.getItemHeight(t)}},_generateItemKey(t){t._$muuri_id=pl()},_resizeOnLoad:Fy(function(){this.$nextTick(()=>{this.update()},100)}),_getDiff(t,e){return Xy(t,e,(n,r)=>n[this.itemKey]===r[this.itemKey])},_sync(t=null,e=null){!t||!e||this._remove(t,e).then(()=>{this.update(),this._add(t,e),yn.setItemsForGridId(this.gridKey,this.copiedItems)})},_remove(t,e){const n=this._getDiff(e,t);if(!n.length)return console.log(t,e),Promise.resolve();const r=[];return n.forEach(i=>{const s=this.muuri.getItems().find(u=>i[this.itemKey]+""===u.getElement().dataset.itemKey);s&&r.push(s)}),r.length?new Promise(i=>{this.muuri.hide(r,{onFinish:()=>{this.muuri.remove(r),n.forEach(s=>{const u=this.copiedItems.findIndex(l=>l[this.itemKey]===s[this.itemKey]);this.copiedItems.splice(u,1)}),i()}})}):Promise.resolve()},_add(t,e){let n=this._getDiff(t,e);n=this._getDiff(n,this.copiedItems),n.length&&(this.itemKey===Fd.key&&n.forEach(r=>this._generateItemKey(r)),this.copiedItems=this.copiedItems.concat(n),this.$nextTick(()=>{n.forEach(r=>{const i=document.querySelector(`${this.selector} [data-item-key="${r[this.itemKey]}"]`);this.muuri.add(i,{layout:!1,active:!1})}),this.muuri.filter(()=>!0)}))},_emitValue(t){this.internallySet=!0,this.$emit("input",t),this.$nextTick(()=>{this.internallySet=!1,yn.setItemsForGridId(this.gridKey,this.modelValue)})}},created(){this._setupNonReactiveProps(),this._setupOptions()},mounted(){this._setup(),this._registerEvents()},beforeUnmount(){this._unregisterEvents(),this.$emit("on-destroy",this)}},Sx=["data-grid-key"],Ex=["data-item-key"],Dx={class:"muuri-item-content"};function Ax(t,e,n,r,i,s){return se(),Pe("div",{ref:"muuri",class:ah(["muuri-grid",n.className]),"data-grid-key":t.gridKey,"test-id":"muuri-grid-container"},[(se(!0),Pe(Os,null,sh(i.copiedItems,u=>(se(),Pe("div",{key:u[n.itemKey],style:HP(s._getItemStyles(u)),class:"muuri-item","data-item-key":u[n.itemKey],"test-id":"muuri-grid-item"},[At("div",Dx,[Xu(t.$slots,"item",{item:u},void 0,!0)])],12,Ex))),128))],10,Sx)}const Cx=Ps(wx,[["render",Ax],["__scopeId","data-v-13ddc424"]]),Mx=["value"],Rx=br({__name:"Tab",props:{icon:{},id:{},type:{}},emits:["close","select"],setup(t,{emit:e}){const n=Qt(!1);return(r,i)=>(se(),Pe("div",{onClick:i[2]||(i[2]=s=>n.value=!0),onFocusout:i[3]||(i[3]=s=>n.value=!1),class:"mx-1 w-24 bg-base rounded flex justify-evenly items-center gap-1 before:content-[''] after:content-[''] opacity-40 has-[:checked]:opacity-100"},[At("input",{type:"radio",name:"tab",value:r.$slots[0],onInput:i[0]||(i[0]=s=>r.$emit("select",r.type??0)),class:"absolute w-full h-full opacity-0"},null,40,Mx),At("i",{class:ah(["fa-solid",`fa-${r.icon}`,"text-center text-sm"])},null,2),At("p",null,[Xu(r.$slots,"default")]),At("i",{class:"z-10 fa-solid fa-circle-xmark fa-xs text-red-300 hover:text-red-600",onClick:i[1]||(i[1]=s=>r.$emit("close",r.id??0))})],32))}});var ir=(t=>(t[t.None=0]="None",t[t.Map=1]="Map",t[t.Sensors=2]="Sensors",t[t.Options=3]="Options",t))(ir||{});function Ox(t,e){for(let n=t.length-1;n>=0;n-=1)e(t[n])||t.splice(n,1)}function Tx(t,e){return t.reduce((n,r,i)=>i+e>=t.length?n:n.concat([t.slice(i,i+e)]),[])}const Ix={class:"flex flex-row justify-between"},Px={class:"flex-grow"},kx=At("i",{class:"fa-solid fa-plus"},null,-1),Bx=[kx],Gx=At("h1",{class:"text-primary text-2xl font-extrabold"},"New Tab",-1),Lx=At("button",null,null,-1),Fx=At("h1",{class:"text-xl font-bold text-secondary"},"Main",-1),zx={class:"grid grid-cols-3 grid-rows-2 gap-1 w-[20vw]"},Nx=br({__name:"Tabs",emits:{select:t=>{}},setup(t){const e=Qt([{id:Math.random(),type:ir.Map,name:"Map",icon:"map"},{id:Math.random(),type:ir.Sensors,name:"Sensors",icon:"screwdriver-wrench"}]),n=(i,s,u)=>{e.value.push({id:Math.random(),type:i,name:s,icon:u})},r=Qt(null);return(i,s)=>(se(),Pe("div",Ix,[At("fieldset",Px,[Hr(In(Cx),{modelValue:e.value,"onUpdate:modelValue":s[1]||(s[1]=u=>e.value=u),"drag-enabled":""},{item:Ts(({item:u})=>[Hr(Rx,{icon:u.icon,id:u.id,type:u.type,onClose:l=>In(Ox)(e.value,c=>c.id!==l),onSelect:s[0]||(s[0]=l=>i.$emit("select",l))},{default:Ts(()=>[uh(qu(u.name),1)]),_:2},1032,["icon","id","type","onClose"])]),_:1},8,["modelValue"])]),At("button",{class:"hover:bg-base rounded aspect-square w-[1lh]",onClick:s[2]||(s[2]=(...u)=>{var l,c;return((l=r.value)==null?void 0:l.showModal)&&((c=r.value)==null?void 0:c.showModal(...u))})},Bx),At("dialog",{ref_key:"newtab",ref:r,class:"p-4 rounded border-outline border-2"},[At("i",{class:"z-10 fa-solid fa-circle-xmark text-red-300 hover:text-red-600 float-right",onClick:s[3]||(s[3]=(...u)=>{var l,c;return((l=r.value)==null?void 0:l.close)&&((c=r.value)==null?void 0:c.close(...u))})}),Gx,Lx,Fx,At("div",zx,[At("button",{class:"bg-base rounded",onClick:s[4]||(s[4]=u=>n(In(ir).Map,"Map","map"))},"Map"),At("button",{class:"bg-base rounded",onClick:s[5]||(s[5]=u=>n(In(ir).Sensors,"Sensors","screwdriver-wrench"))},"Sensors"),At("button",{class:"bg-base rounded",onClick:s[6]||(s[6]=u=>n(In(ir).Options,"Options","gear"))},"Options")])],512)]))}}),jx={},Wx={class:"bg-base w-full h-full rounded flex flex-col justify-center items-center"},Yx=At("i",{class:"fa-solid fa-up-right-from-square text-[10vw] opacity-30"},null,-1),Xx=At("p",{class:"opacity-30 text-center text-xl"},"Click on a tab to get started!",-1),qx=[Yx,Xx];function Hx(t,e){return se(),Pe("div",Wx,qx)}const Vx=Ps(jx,[["render",Hx]]);function Ux(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.map(function(r){return r.split(" ").map(function(i){return i?""+t+i:""}).join(" ")}).join(" ")}function $x(t,e){return e.replace(/([^}{]*){/gm,function(n,r){return r.replace(/\.([^{,\s\d.]+)/g,"."+t+"$1")+"{"})}function or(t,e){return function(n){n&&(t[e]=n)}}function Nd(t,e,n){return function(r){r&&(t[e][n]=r)}}function jd(t,e){return function(n){var r=n.prototype;t.forEach(function(i){e(r,i)})}}function Qx(t,e){return e===void 0&&(e={}),function(n,r){t.forEach(function(i){var s=e[i]||i;s in n||(n[s]=function(){for(var u,l=[],c=0;c<arguments.length;c++)l[c]=arguments[c];var f=(u=this[r])[i].apply(u,l);return f===this[r]?this:f})})}}var Zx="function",Jx="object",Kx="string",tw="number",vl="undefined",Wd=typeof window!==vl,ew=typeof document!==vl&&document,nw=[{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:'\\"',close:'\\"'},{open:"\\'",close:"\\'"}],we=1e-7,ua={cm:function(t){return t*96/2.54},mm:function(t){return t*96/254},in:function(t){return t*96},pt:function(t){return t*96/72},pc:function(t){return t*96/6},"%":function(t,e){return t*e/100},vw:function(t,e){return e===void 0&&(e=window.innerWidth),t/100*e},vh:function(t,e){return e===void 0&&(e=window.innerHeight),t/100*e},vmax:function(t,e){return e===void 0&&(e=Math.max(window.innerWidth,window.innerHeight)),t/100*e},vmin:function(t,e){return e===void 0&&(e=Math.min(window.innerWidth,window.innerHeight)),t/100*e}};function rw(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],u=0,l=s.length;u<l;u++,i++)r[i]=s[u];return r}function la(t,e,n,r){return(t*r+e*n)/(n+r)}function Io(t){return typeof t===vl}function kn(t){return t&&typeof t===Jx}function Se(t){return Array.isArray(t)}function Ke(t){return typeof t===Kx}function Ii(t){return typeof t===tw}function gl(t){return typeof t===Zx}function iw(t,e){var n=t===""||t==" ",r=e===""||e==" ";return r&&n||t===e}function Yd(t,e,n,r,i){var s=ml(t,e,n);return s?n:ow(t,e,n+1,r,i)}function ml(t,e,n){if(!t.ignore)return null;var r=e.slice(Math.max(n-3,0),n+3).join("");return new RegExp(t.ignore).exec(r)}function ow(t,e,n,r,i){for(var s=function(f){var d=e[f].trim();if(d===t.close&&!ml(t,e,f))return{value:f};var p=f,v=tn(i,function(g){var m=g.open;return m===d});if(v&&(p=Yd(v,e,f,r,i)),p===-1)return u=f,"break";f=p,u=f},u,l=n;l<r;++l){var c=s(l);if(l=u,typeof c=="object")return c.value;if(c==="break")break}return-1}function _l(t,e){var n=Ke(e)?{separator:e}:e,r=n.separator,i=r===void 0?",":r,s=n.isSeparateFirst,u=n.isSeparateOnlyOpenClose,l=n.isSeparateOpenClose,c=l===void 0?u:l,f=n.openCloseCharacters,d=f===void 0?nw:f,p=d.map(function(T){var O=T.open,I=T.close;return O===I?O:O+"|"+I}).join("|"),v="(\\s*"+i+"\\s*|"+p+"|\\s+)",g=new RegExp(v,"g"),m=t.split(g).filter(function(T){return T&&T!=="undefined"}),_=m.length,b=[],x=[];function w(){return x.length?(b.push(x.join("")),x=[],!0):!1}for(var E=function(T){var O=m[T].trim(),I=T,k=tn(d,function(G){var Y=G.open;return Y===O}),N=tn(d,function(G){var Y=G.close;return Y===O});if(k){if(I=Yd(k,m,T,_,d),I!==-1&&c)return w()&&s||(b.push(m.slice(T,I+1).join("")),T=I,s)?(D=T,"break"):(D=T,"continue")}else if(N&&!ml(N,m,T)){var z=rw(d);return z.splice(d.indexOf(N),1),{value:_l(t,{separator:i,isSeparateFirst:s,isSeparateOnlyOpenClose:u,isSeparateOpenClose:c,openCloseCharacters:z})}}else if(iw(O,i)&&!u)return w(),s?(D=T,"break"):(D=T,"continue");I===-1&&(I=_-1),x.push(m.slice(T,I+1).join("")),T=I,D=T},D,M=0;M<_;++M){var A=E(M);if(M=D,typeof A=="object")return A.value;if(A==="break")break}return x.length&&b.push(x.join("")),b}function Mr(t){return _l(t,"")}function Kr(t){return _l(t,",")}function Xd(t){var e=/([^(]*)\(([\s\S]*)\)([\s\S]*)/g.exec(t);return!e||e.length<4?{}:{prefix:e[1],value:e[2],suffix:e[3]}}function Po(t){var e=/^([^\d|e|\-|\+]*)((?:\d|\.|-|e-|e\+)+)(\S*)$/g.exec(t);if(!e)return{prefix:"",unit:"",value:NaN};var n=e[1],r=e[2],i=e[3];return{prefix:n,unit:i,value:parseFloat(r)}}function sw(t){return t.replace(/[\s-_]+([^\s-_])/g,function(e,n){return n.toUpperCase()})}function ca(t,e){return e===void 0&&(e="-"),t.replace(/([a-z])([A-Z])/g,function(n,r,i){return""+r+e+i.toLowerCase()})}function ko(){return Date.now?Date.now():new Date().getTime()}function sr(t,e,n){n===void 0&&(n=-1);for(var r=t.length,i=0;i<r;++i)if(e(t[i],i,t))return i;return n}function tn(t,e,n){var r=sr(t,e);return r>-1?t[r]:n}var qd=function(){var t=ko(),e=Wd&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame);return e?e.bind(window):function(n){var r=ko(),i=setTimeout(function(){n(r-t)},1e3/60);return i}}(),aw=function(){var t=Wd&&(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame);return t?t.bind(window):function(e){clearTimeout(e)}}();function ar(t){return Object.keys(t)}function uw(t){var e=ar(t);return e.map(function(n){return t[n]})}function ee(t,e){var n=Po(t),r=n.value,i=n.unit;if(kn(e)){var s=e[i];if(s){if(gl(s))return s(r);if(ua[i])return ua[i](r,s)}}else if(i==="%")return r*e/100;return ua[i]?ua[i](r):r}function yl(t,e,n){return Math.max(e,Math.min(t,n))}function Hd(t,e,n,r){return r===void 0&&(r=t[0]/t[1]),[[Mt(e[0],we),Mt(e[0]/r,we)],[Mt(e[1]*r,we),Mt(e[1],we)]].filter(function(i){return i.every(function(s,u){var l=e[u],c=Mt(l,we);return n?s<=l||s<=c:s>=l||s>=c})})[0]||t}function Vd(t,e,n,r){if(!r)return t.map(function(g,m){return yl(g,e[m],n[m])});var i=t[0],s=t[1],u=r===!0?i/s:r,l=Hd(t,e,!1,u),c=l[0],f=l[1],d=Hd(t,n,!0,u),p=d[0],v=d[1];return i<c||s<f?(i=c,s=f):(i>p||s>v)&&(i=p,s=v),[i,s]}function lw(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return n}function bl(t){for(var e=t.length,n=0,r=e-1;r>=0;--r)n+=t[r];return e?n/e:0}function me(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>=0?i:i+Math.PI*2}function cw(t){return[0,1].map(function(e){return bl(t.map(function(n){return n[e]}))})}function Ud(t){var e=cw(t),n=me(e,t[0]),r=me(e,t[1]);return n<r&&r-n<Math.PI||n>r&&r-n<-Math.PI?1:-1}function ur(t,e){return Math.sqrt(Math.pow((e?e[0]:0)-t[0],2)+Math.pow((e?e[1]:0)-t[1],2))}function Mt(t,e){if(!e)return t;var n=1/e;return Math.round(t/e)/n}function $d(t,e){return t.forEach(function(n,r){t[r]=Mt(t[r],e)}),t}function fw(t){for(var e=[],n=0;n<t;++n)e.push(n);return e}function Qd(t){return t.reduce(function(e,n){return e.concat(n)},[])}function Zd(t,e){t.indexOf(e)===-1&&t.push(e)}function De(t,e){return t.classList?t.classList.contains(e):!!t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))}function Jd(t,e){t.classList?t.classList.add(e):t.className+=" "+e}function Kd(t,e){if(t.classList)t.classList.remove(e);else{var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ")}}function Be(t,e,n,r){t.addEventListener(e,n,r)}function Ae(t,e,n,r){t.removeEventListener(e,n,r)}function Pi(t){return(t==null?void 0:t.ownerDocument)||ew}function xl(t){return Pi(t).documentElement}function Rr(t){return Pi(t).body}function Or(t){var e;return((e=t==null?void 0:t.ownerDocument)===null||e===void 0?void 0:e.defaultView)||window}function tp(t){return t&&"postMessage"in t&&"blur"in t&&"self"in t}function ki(t){return kn(t)&&t.nodeName&&t.nodeType&&"ownerDocument"in t}var hw=function(){function t(){this.keys=[],this.values=[]}var e=t.prototype;return e.get=function(n){return this.values[this.keys.indexOf(n)]},e.set=function(n,r){var i=this.keys,s=this.values,u=i.indexOf(n),l=u===-1?i.length:u;i[l]=n,s[l]=r},t}(),dw=function(){function t(){this.object={}}var e=t.prototype;return e.get=function(n){return this.object[n]},e.set=function(n,r){this.object[n]=r},t}(),pw=typeof Map=="function",vw=function(){function t(){}var e=t.prototype;return e.connect=function(n,r){this.prev=n,this.next=r,n&&(n.next=this),r&&(r.prev=this)},e.disconnect=function(){var n=this.prev,r=this.next;n&&(n.next=r),r&&(r.prev=n)},e.getIndex=function(){for(var n=this,r=-1;n;)n=n.prev,++r;return r},t}();function gw(t,e){var n=[],r=[];return t.forEach(function(i){var s=i[0],u=i[1],l=new vw;n[s]=l,r[u]=l}),n.forEach(function(i,s){i.connect(n[s-1])}),t.filter(function(i,s){return!e[s]}).map(function(i,s){var u=i[0],l=i[1];if(u===l)return[0,0];var c=n[u],f=r[l-1],d=c.getIndex();c.disconnect(),f?c.connect(f,f.next):c.connect(void 0,n[0]);var p=c.getIndex();return[d,p]})}var mw=function(){function t(n,r,i,s,u,l,c,f){this.prevList=n,this.list=r,this.added=i,this.removed=s,this.changed=u,this.maintained=l,this.changedBeforeAdded=c,this.fixed=f}var e=t.prototype;return Object.defineProperty(e,"ordered",{get:function(){return this.cacheOrdered||this.caculateOrdered(),this.cacheOrdered},enumerable:!0,configurable:!0}),Object.defineProperty(e,"pureChanged",{get:function(){return this.cachePureChanged||this.caculateOrdered(),this.cachePureChanged},enumerable:!0,configurable:!0}),e.caculateOrdered=function(){var n=gw(this.changedBeforeAdded,this.fixed),r=this.changed,i=[];this.cacheOrdered=n.filter(function(s,u){var l=s[0],c=s[1],f=r[u],d=f[0],p=f[1];if(l!==c)return i.push([d,p]),!0}),this.cachePureChanged=i},t}();function Bo(t,e,n){var r=pw?Map:n?dw:hw,i=n||function(w){return w},s=[],u=[],l=[],c=t.map(i),f=e.map(i),d=new r,p=new r,v=[],g=[],m={},_=[],b=0,x=0;return c.forEach(function(w,E){d.set(w,E)}),f.forEach(function(w,E){p.set(w,E)}),c.forEach(function(w,E){var D=p.get(w);typeof D>"u"?(++x,u.push(E)):m[D]=x}),f.forEach(function(w,E){var D=d.get(w);typeof D>"u"?(s.push(E),++b):(l.push([D,E]),x=m[E]||0,v.push([D-x,E-b]),g.push(E===D),D!==E&&_.push([D,E]))}),u.reverse(),new mw(t,e,s,u,_,l,v,g)}var _w=function(){function t(n,r){n===void 0&&(n=[]),this.findKeyCallback=r,this.list=[].slice.call(n)}var e=t.prototype;return e.update=function(n){var r=[].slice.call(n),i=Bo(this.list,r,this.findKeyCallback);return this.list=r,i},t}(),wl=function(t,e){return wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},wl(t,e)};function Go(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");wl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Hn=function(){return Hn=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hn.apply(this,arguments)};function ep(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function np(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function rp(t){var e=0;return t.map(function(n){return n==null?"$compat".concat(++e):"".concat(n)})}function ip(t){var e=[];return t.forEach(function(n){e=e.concat(Se(n)?ip(n):n)}),e}function Sl(t,e){if(!e)return t;for(var n in e)Io(t[n])&&(t[n]=e[n]);return t}function fa(t,e){if(t===e)return!1;for(var n in t)if(!(n in e))return!0;for(var n in e)if(t[n]!==e[n])return!0;return!1}function op(t){var e=t.className,n=ep(t,["className"]);return e!=null&&(n.class=e),delete n.style,delete n.children,n}function sp(t){var e={},n={};for(var r in t)r.indexOf("on")===0?n[r]=t[r]:e[r]=t[r];return[e,n]}function ha(t){if(!t)return null;var e=t.b;return ki(e)?e:ha(t.c)}function ap(t){var e=t.parentNode;e&&e.removeChild(t)}function up(t){t.forEach(function(e){e()})}function yw(){return this.constructor(this.props,this.context)}var El=0,da=function(){function t(n,r,i,s,u,l,c){c===void 0&&(c={}),this.t=n,this.d=r,this.k=i,this.i=s,this.c=u,this.ref=l,this.ps=c,this.typ="prov",this._ps=[],this._cs={},this._hyd=null,this._sel=!1}var e=t.prototype;return e.s=function(){return!0},e.u=function(n,r,i,s,u){var l=this,c=l.d,f=uw(r).filter(function(m){return m.$_req}),d=ip(f.map(function(m){return m.$_subs})),p=tn(d,function(m){return m.d===c});if(l.b&&!Ke(i)&&!u&&!l.s(i.props,s)&&!p){var v=d.reduce(function(m,_){var b=_.d;return m[0]?m[0].d===b&&m.push(_):b>c&&m.push(_),m},[]);return v.forEach(function(m){Fo(m,m._ps,[m.o],n,r,!0)}),!1}l.o=i,l.ss(s);var g=l.ps;return Ke(i)||(l.ps=i.props,l.ref=i.ref),Dl(this),l.r(n,r,l.b?g:{},s),!0},e.md=function(){this.rr()},e.ss=function(){},e.ud=function(){this.rr()},e.rr=function(){var n=this,r=n.ref,i=n.fr;r&&r(i?i.current:n.b)},t}();function lp(){return Object.__CROACT_CURRENT_INSTNACE__}function bw(){return El}function xw(t){El=t}function Dl(t){return Object.__CROACT_CURRENT_INSTNACE__=t,El=0,t}var Al=function(){function t(n,r){n===void 0&&(n={}),this.props=n,this.context=r,this.state={},this.$_timer=0,this.$_state={},this.$_subs=[],this.$_cs={}}var e=t.prototype;return e.render=function(){return null},e.shouldComponentUpdate=function(n,r){return this.props!==n||this.state!==r},e.setState=function(n,r,i){var s=this;s.$_timer||(s.$_state={}),clearTimeout(s.$_timer),s.$_timer=0,s.$_state=Hn(Hn({},s.$_state),n),i?s.$_setState(r,i):s.$_timer=window.setTimeout(function(){s.$_timer=0,s.$_setState(r,i)})},e.forceUpdate=function(n){this.setState({},n,!0)},e.componentDidMount=function(){},e.componentDidUpdate=function(n,r){},e.componentWillUnmount=function(){},e.$_setState=function(n,r){var i=[],s=this.$_p,u=Fo(s.c,[s],[s.o],i,s._cs,Hn(Hn({},this.state),this.$_state),r);u&&(n&&i.push(n),up(i),Dl(null))},t}(),cp=function(t){Go(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}var n=e.prototype;return n.shouldComponentUpdate=function(r,i){return fa(this.props,r)||fa(this.state,i)},e}(Al);function fp(t){var e=function(n){e.current=n};return e.current=t,e}function ww(t){return t._fr=!0,t}function Sw(t,e,n,r){var i,s;return!((i=t==null?void 0:t.prototype)===null||i===void 0)&&i.render?s=new t(e,n):(s=new Al(e,n),s.constructor=t,t._fr?(r.fr=fp(),s.render=function(){return this.constructor(this.props,r.fr)}):s.render=yw),s.$_p=r,s}var Ew=function(t){Go(e,t);function e(r,i,s,u,l,c,f){f===void 0&&(f={});var d=t.call(this,r,i,s,u,l,c,Sl(f,r.defaultProps))||this;return d.typ="comp",d._usefs=[],d._uefs=[],d._defs=[],d}var n=e.prototype;return n.s=function(r,i){var s=this.b;return s.shouldComponentUpdate(Sl(r,this.t.defaultProps),i||s.state)!==!1},n.r=function(r,i,s){var u,l,c=this,f=c.t;c.ps=Sl(c.ps,c.t.defaultProps);var d=c.ps,p=!c.b,v=f.contextType,g=c.b,m=v==null?void 0:v.get(c);c._cs=i,p?(g=Sw(f,d,m,c),c.b=g):(g.props=d,g.context=m);var _=g.state;c._usefs=[],c._uefs=[];var b=g.render();((l=(u=b==null?void 0:b.props)===null||u===void 0?void 0:u.children)===null||l===void 0?void 0:l.length)===0&&(b.props.children=c.ps.children);var x=Hn(Hn({},i),g.$_cs);Fo(c,c._ps,b?[b]:[],r,x),p?c._uefs.push(function(){v==null||v.register(c),g.componentDidMount()}):c._uefs.push(function(){g.componentDidUpdate(s,_)}),r.push(function(){c._usefs.forEach(function(w){w()}),p?c.md():c.ud(),c._defs=c._uefs.map(function(w){return w()})})},n.ss=function(r){var i=this.b;!i||!r||(i.state=r)},n.un=function(){var r,i=this;i._ps.forEach(function(u){u.un()});var s=i.t;(r=s.contextType)===null||r===void 0||r.unregister(i),clearTimeout(i.b.$_timer),i._defs.forEach(function(u){u&&u()}),i.b.componentWillUnmount()},e}(da);function Dw(t,e,n){var r=Cl(op(t),op(e)),i=r.added,s=r.removed,u=r.changed;for(var l in i)n.setAttribute(l,i[l]);for(var c in u)n.setAttribute(c,u[c][1]);for(var f in s)n.removeAttribute(f)}function Aw(t,e,n){var r=Cl(t,e),i=r.added,s=r.removed;for(var u in s)n.e(u,!0);for(var l in i)n.e(l)}function Cl(t,e){var n=ar(t),r=ar(e),i=Bo(n,r,function(c){return c}),s={},u={},l={};return i.added.forEach(function(c){var f=r[c];s[f]=e[f]}),i.removed.forEach(function(c){var f=n[c];u[f]=t[f]}),i.maintained.forEach(function(c){var f=c[0],d=n[f],p=[t[d],e[d]];t[d]!==e[d]&&(l[d]=p)}),{added:s,removed:u,changed:l}}function Cw(t,e,n){var r=n.style,i=Cl(t,e),s=i.added,u=i.removed,l=i.changed;for(var c in s){var f=ca(c,"-");r.setProperty(f,s[c])}for(var c in l){var d=ca(c,"-");r.setProperty(d,l[c][1])}for(var c in u){var p=ca(c,"-");r.removeProperty(p)}}function Mw(t){return t.replace(/^on/g,"").toLowerCase()}var Rw=function(t){Go(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.typ="elem",r._es={},r._svg=!1,r}var n=e.prototype;return n.e=function(r,i){var s=this,u=s._es,l=s.b,c=Mw(r);i?(Ae(l,c,u[r]),delete u[r]):(u[r]=function(f){var d,p;(p=(d=s.ps)[r])===null||p===void 0||p.call(d,f)},Be(l,c,u[r]))},n.s=function(r){return fa(this.ps,r)},n.r=function(r,i,s){var u,l=this,c=!l.b,f=l.ps;if(c){var d=ha(l.c),p=!1;l._svg||l.t==="svg"?p=!0:p=d&&d.ownerSVGElement,l._svg=p;var v=(u=l._hyd)===null||u===void 0?void 0:u.splice(0,1)[0],g=l.t;if(v)l._hyd=[].slice.call(v.children||[]);else{var m=Pi(d);p?v=m.createElementNS("http://www.w3.org/2000/svg",g):v=m.createElement(g)}l.b=v}Fo(l,l._ps,f.children,r,i);var _=l.b,b=sp(s),x=b[0],w=b[1],E=sp(f),D=E[0],M=E[1];return Dw(x,D,_),Aw(w,M,l),Cw(s.style||{},f.style||{},_),r.push(function(){c?l.md():l.ud()}),!0},n.un=function(){var r=this,i=r._es,s=r.b;for(var u in i)Ae(s,u,i[u]);r._ps.forEach(function(l){l.un()}),r._es={},r._sel||ap(s)},e}(da);function Lo(t){if(!t||ki(t))return t;var e=t.$_p._ps;return e.length?Lo(e[0].b):null}function hp(t){if(t){if(t.b&&ki(t.b))return t;var e=t._ps;return e.length?hp(e[0]):null}}function Bn(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=e||{},s=i.key,u=i.ref,l=ep(i,["key","ref"]);return{type:t,key:s,ref:u,props:Hn(Hn({},l),{children:Qd(n).filter(function(c){return c!=null&&c!==!1})})}}var dp=function(t){Go(e,t);function e(r,i){i===void 0&&(i=0);var s=t.call(this,"container",i,"container",0,null)||this;return s.typ="container",s.b=r,s}var n=e.prototype;return n.r=function(){return!0},n.un=function(){},e}(da),Ow=function(t){Go(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.typ="text",r}var n=e.prototype;return n.r=function(r){var i,s=this,u=!s.b;if(u){var l=ha(s.c),c=(i=s._hyd)===null||i===void 0?void 0:i.splice(0,1)[0];s.b=c||Pi(l).createTextNode(s.t.replace("text_",""))}return r.push(function(){u?s.md():s.ud()}),!0},n.un=function(){ap(this.b)},e}(da);function Tw(t,e,n){var r=n.map(function(c){return Ke(c)?null:c.key}),i=rp(e.map(function(c){return c.k})),s=rp(r),u=Bo(i,s,function(c){return c});u.removed.forEach(function(c){e.splice(c,1)[0].un()}),u.ordered.forEach(function(c){var f=c[0],d=c[1],p=e.splice(f,1)[0];e.splice(d,0,p);var v=Lo(p.b),g=Lo(e[d+1]&&e[d+1].b);v&&v.parentNode.insertBefore(v,g)}),u.added.forEach(function(c){e.splice(c,0,pp(n[c],r[c],c,t))});var l=u.maintained.filter(function(c){c[0];var f=c[1],d=n[f],p=e[f],v=Ke(d)?"text_".concat(d):d.type;return v!==p.t?(p.un(),e.splice(f,1,pp(d,r[f],f,t)),!0):(p.i=f,!1)});return np(np([],u.added,!0),l.map(function(c){c[0];var f=c[1];return f}),!0)}function Iw(t,e){for(var n=t._ps,r=n.length,i=e.i+1;i<r;++i){var s=Lo(n[i].b);if(s)return s}return null}function pp(t,e,n,r){var i=r.d+1;if(Ke(t)||Ii(t))return new Ow("text_".concat(t),i,e,n,r,null,{});var s=t.type,u=typeof s=="string"?Rw:Ew;return new u(s,i,e,n,r,t.ref,t.props)}function Fo(t,e,n,r,i,s,u){var l=Tw(t,e,n),c=t._hyd,f=e.filter(function(p,v){return p._hyd=c,p.u(r,i,n[v],s,u)});t.typ==="container"&&t._sel&&e.forEach(function(p){var v=hp(p);v&&(v._sel=!0)}),t._hyd=null;var d=ha(t);return d&&l.reverse().forEach(function(p){var v=e[p],g=Lo(v.b);if(g&&d!==g&&!g.parentNode){var m=Iw(t,v);d.insertBefore(g,m)}}),f.length>0}function Pw(t,e,n,r){n===void 0&&(n=e.__CROACT__),r===void 0&&(r={});var i=!!n;n||(n=new dp(e));var s=[];return Fo(n,n._ps,t?[t]:[],s,r,void 0,void 0),up(s),Dl(null),i||(e.__CROACT__=n),n}function vp(t,e,n){return!n&&t&&(n=new dp(e.parentElement),n._hyd=[e],n._sel=!0),Pw(t,e,n),n}function gp(t){var e=lp(),n=e._hs||(e._hs=[]),r=bw(),i=n[r];if(xw(r+1),i){if(!fa(i.deps,t.deps))return i.updated=!1,i;n[r]=t}else n.push(t);return t.value=t.func(),t.updated=!0,t}function kw(t,e){var n=gp({func:t,deps:e});return n.value}function Bw(t){return kw(function(){return fp(t)},[])}function mp(t,e,n){var r=lp(),i=gp({func:function(){return t},deps:e}),s=n?r._usefs:r._uefs;i.updated?s.push(function(){return i.effect&&i.effect(),i.effect=t(),i.effect}):s.push(function(){return i.effect})}function Gw(t,e,n){mp(function(){t==null||t(e())},n,!0)}function Ml(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return!0;return!1}function _p(t,e){for(var n=t.length,r=0;r<n;++r)if(e(t[r],r))return t[r];return null}function yp(t){var e=t;if(typeof e>"u"){if(typeof navigator>"u"||!navigator)return"";e=navigator.userAgent||""}return e.toLowerCase()}function Rl(t,e){try{return new RegExp(t,"g").exec(e)}catch{return null}}function Lw(){if(typeof navigator>"u"||!navigator||!navigator.userAgentData)return!1;var t=navigator.userAgentData,e=t.brands||t.uaList;return!!(e&&e.length)}function Fw(t,e){var n=Rl("("+t+")((?:\\/|\\s|:)([0-9|\\.|_]+))",e);return n?n[3]:""}function Ol(t){return t.replace(/_/g,".")}function zo(t,e){var n=null,r="-1";return Ml(t,function(i){var s=Rl("("+i.test+")((?:\\/|\\s|:)([0-9|\\.|_]+))?",e);return!s||i.brand?!1:(n=i,r=s[3]||"-1",i.versionAlias?r=i.versionAlias:i.versionTest&&(r=Fw(i.versionTest.toLowerCase(),e)||r),r=Ol(r),!0)}),{preset:n,version:r}}function No(t,e){var n={brand:"",version:"-1"};return Ml(t,function(r){var i=bp(e,r);return i?(n.brand=r.id,n.version=r.versionAlias||i.version,n.version!=="-1"):!1}),n}function bp(t,e){return _p(t,function(n){var r=n.brand;return Rl(""+e.test,r.toLowerCase())})}var Tl=[{test:"phantomjs",id:"phantomjs"},{test:"whale",id:"whale"},{test:"edgios|edge|edg",id:"edge"},{test:"msie|trident|windows phone",id:"ie",versionTest:"iemobile|msie|rv"},{test:"miuibrowser",id:"miui browser"},{test:"samsungbrowser",id:"samsung internet"},{test:"samsung",id:"samsung internet",versionTest:"version"},{test:"chrome|crios",id:"chrome"},{test:"firefox|fxios",id:"firefox"},{test:"android",id:"android browser",versionTest:"version"},{test:"safari|iphone|ipad|ipod",id:"safari",versionTest:"version"}],xp=[{test:"(?=.*applewebkit/(53[0-7]|5[0-2]|[0-4]))(?=.*\\schrome)",id:"chrome",versionTest:"chrome"},{test:"chromium",id:"chrome"},{test:"whale",id:"chrome",versionAlias:"-1",brand:!0}],Il=[{test:"applewebkit",id:"webkit",versionTest:"applewebkit|safari"}],wp=[{test:"(?=(iphone|ipad))(?!(.*version))",id:"webview"},{test:"(?=(android|iphone|ipad))(?=.*(naver|daum|; wv))",id:"webview"},{test:"webview",id:"webview"}],Sp=[{test:"windows phone",id:"windows phone"},{test:"windows 2000",id:"window",versionAlias:"5.0"},{test:"windows nt",id:"window"},{test:"win32|windows",id:"window"},{test:"iphone|ipad|ipod",id:"ios",versionTest:"iphone os|cpu os"},{test:"macos|macintel|mac os x",id:"mac"},{test:"android|linux armv81",id:"android"},{test:"tizen",id:"tizen"},{test:"webos|web0s",id:"webos"}];function Ep(t){return!!zo(wp,t).preset}function zw(t){var e=yp(t),n=!!/mobi/g.exec(e),r={name:"unknown",version:"-1",majorVersion:-1,webview:Ep(e),chromium:!1,chromiumVersion:"-1",webkit:!1,webkitVersion:"-1"},i={name:"unknown",version:"-1",majorVersion:-1},s=zo(Tl,e),u=s.preset,l=s.version,c=zo(Sp,e),f=c.preset,d=c.version,p=zo(xp,e);if(r.chromium=!!p.preset,r.chromiumVersion=p.version,!r.chromium){var v=zo(Il,e);r.webkit=!!v.preset,r.webkitVersion=v.version}return f&&(i.name=f.id,i.version=d,i.majorVersion=parseInt(d,10)),u&&(r.name=u.id,r.version=l,r.webview&&i.name==="ios"&&r.name!=="safari"&&(r.webview=!1)),r.majorVersion=parseInt(r.version,10),{browser:r,os:i,isMobile:n,isHints:!1}}function Nw(t){var e=navigator.userAgentData,n=(e.uaList||e.brands).slice(),r=t&&t.fullVersionList,i=e.mobile||!1,s=n[0],u=(t&&t.platform||e.platform||navigator.platform).toLowerCase(),l={name:s.brand,version:s.version,majorVersion:-1,webkit:!1,webkitVersion:"-1",chromium:!1,chromiumVersion:"-1",webview:!!No(wp,n).brand||Ep(yp())},c={name:"unknown",version:"-1",majorVersion:-1};l.webkit=!l.chromium&&Ml(Il,function(m){return bp(n,m)});var f=No(xp,n);if(l.chromium=!!f.brand,l.chromiumVersion=f.version,!l.chromium){var d=No(Il,n);l.webkit=!!d.brand,l.webkitVersion=d.version}var p=_p(Sp,function(m){return new RegExp(""+m.test,"g").exec(u)});if(c.name=p?p.id:"",t&&(c.version=t.platformVersion),r&&r.length){var v=No(Tl,r);l.name=v.brand||l.name,l.version=v.version||l.version}else{var g=No(Tl,n);l.name=g.brand||l.name,l.version=g.brand&&t?t.uaFullVersion:g.version}return l.webkit&&(c.name=i?"ios":"mac"),c.name==="ios"&&l.webview&&(l.version="-1"),c.version=Ol(c.version),l.version=Ol(l.version),c.majorVersion=parseInt(c.version,10),l.majorVersion=parseInt(l.version,10),{browser:l,os:c,isMobile:i,isHints:!0}}function jw(t){return typeof t>"u"&&Lw()?Nw():zw(t)}function Ww(t,e,n,r,i,s){for(var u=0;u<i;++u){var l=n+u*i,c=r+u*i;t[l]+=t[c]*s,e[l]+=e[c]*s}}function Yw(t,e,n,r,i){for(var s=0;s<i;++s){var u=n+s*i,l=r+s*i,c=t[u],f=e[u];t[u]=t[l],t[l]=c,e[u]=e[l],e[l]=f}}function Xw(t,e,n,r,i){for(var s=0;s<r;++s){var u=n+s*r;t[u]/=i,e[u]/=i}}function Dp(t,e,n){n===void 0&&(n=Math.sqrt(t.length));for(var r=t.slice(),i=0;i<n;++i)r[i*n+e-1]=0,r[(e-1)*n+i]=0;return r[(e-1)*(n+1)]=1,r}function Vn(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=t.slice(),r=ae(e),i=0;i<e;++i){var s=e*i+i;if(!Mt(n[s],we)){for(var u=i+1;u<e;++u)if(n[e*i+u]){Yw(n,r,i,u,e);break}}if(!Mt(n[s],we))return[];Xw(n,r,i,e,n[s]);for(var u=0;u<e;++u){var l=u,c=u+i*e,f=n[c];!Mt(f,we)||i===u||Ww(n,r,l,i,e,-f)}}return r}function qw(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=[],r=0;r<e;++r)for(var i=0;i<e;++i)n[i*e+r]=t[e*r+i];return n}function Ap(t,e){e===void 0&&(e=Math.sqrt(t.length));for(var n=[],r=t[e*e-1],i=0;i<e-1;++i)n[i]=t[e*(e-1)+i]/r;return n[e-1]=0,n}function Hw(t,e){for(var n=ae(e),r=0;r<e-1;++r)n[e*(e-1)+r]=t[r]||0;return n}function ti(t,e){for(var n=t.slice(),r=t.length;r<e-1;++r)n[r]=0;return n[e-1]=1,n}function Gn(t,e,n){if(e===void 0&&(e=Math.sqrt(t.length)),e===n)return t;for(var r=ae(n),i=Math.min(e,n),s=0;s<i-1;++s){for(var u=0;u<i-1;++u)r[s*n+u]=t[s*e+u];r[(s+1)*n-1]=t[(s+1)*e-1],r[(n-1)*n+s]=t[(e-1)*e+s]}return r[n*n-1]=t[e*e-1],r}function pa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=ae(t);return e.forEach(function(i){r=ne(r,i,t)}),r}function ne(t,e,n){n===void 0&&(n=Math.sqrt(t.length));var r=[],i=t.length/n,s=e.length/i;if(i){if(!s)return t}else return e;for(var u=0;u<n;++u)for(var l=0;l<s;++l){r[l*n+u]=0;for(var c=0;c<i;++c)r[l*n+u]+=t[c*n+u]*e[l*i+c]}return r}function Vt(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]+e[i];return r}function bt(t,e){for(var n=Math.min(t.length,e.length),r=t.slice(),i=0;i<n;++i)r[i]=r[i]-e[i];return r}function Vw(t,e){return e===void 0&&(e=t.length===6),e?[t[0],t[1],0,t[2],t[3],0,t[4],t[5],1]:t}function Cp(t,e){return e===void 0&&(e=t.length===9),e?[t[0],t[1],t[3],t[4],t[6],t[7]]:t}function We(t,e,n){n===void 0&&(n=e.length);var r=ne(t,e,n),i=r[n-1];return r.map(function(s){return s/i})}function Uw(t,e){return ne(t,[1,0,0,0,0,Math.cos(e),Math.sin(e),0,0,-Math.sin(e),Math.cos(e),0,0,0,0,1],4)}function $w(t,e){return ne(t,[Math.cos(e),0,-Math.sin(e),0,0,1,0,0,Math.sin(e),0,Math.cos(e),0,0,0,0,1],4)}function Qw(t,e){return ne(t,Wo(e,4))}function va(t,e){var n=e[0],r=n===void 0?1:n,i=e[1],s=i===void 0?1:i,u=e[2],l=u===void 0?1:u;return ne(t,[r,0,0,0,0,s,0,0,0,0,l,0,0,0,0,1],4)}function jo(t,e){return We(Wo(e,3),ti(t,3))}function Pl(t,e){var n=e[0],r=n===void 0?0:n,i=e[1],s=i===void 0?0:i,u=e[2],l=u===void 0?0:u;return ne(t,[1,0,0,0,0,1,0,0,0,0,1,0,r,s,l,1],4)}function Mp(t,e){return ne(t,e,4)}function Wo(t,e){var n=Math.cos(t),r=Math.sin(t),i=ae(e);return i[0]=n,i[1]=r,i[e]=-r,i[e+1]=n,i}function ae(t){for(var e=t*t,n=[],r=0;r<e;++r)n[r]=r%(t+1)?0:1;return n}function kl(t,e){for(var n=ae(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[(e+1)*i]=t[i];return n}function ei(t,e){for(var n=ae(e),r=Math.min(t.length,e-1),i=0;i<r;++i)n[e*(e-1)+i]=t[i];return n}function Bl(t,e,n,r,i,s,u,l){var c=t[0],f=t[1],d=e[0],p=e[1],v=n[0],g=n[1],m=r[0],_=r[1],b=i[0],x=i[1],w=s[0],E=s[1],D=u[0],M=u[1],A=l[0],T=l[1],O=[c,0,d,0,v,0,m,0,f,0,p,0,g,0,_,0,1,0,1,0,1,0,1,0,0,c,0,d,0,v,0,m,0,f,0,p,0,g,0,_,0,1,0,1,0,1,0,1,-b*c,-x*c,-w*d,-E*d,-D*v,-M*v,-A*m,-T*m,-b*f,-x*f,-w*p,-E*p,-D*g,-M*g,-A*_,-T*_],I=Vn(O,8);if(!I.length)return[];var k=ne(I,[b,x,w,E,D,M,A,T],8);return k[8]=1,Gn(qw(k),3,4)}var Yo=function(){return Yo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Yo.apply(this,arguments)};function Zw(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Xo(t,e){return e===void 0&&(e=0),Bi(Gi(t,e))}function Jw(t,e){var n=We(t,[e[0],e[1]||0,e[2]||0,1],4),r=n[3]||1;return[n[0]/r,n[1]/r,n[2]/r]}function Bi(t){var e=Zw();return t.forEach(function(n){var r=n.matrixFunction,i=n.functionValue;r&&(e=r(e,i))}),e}function Gi(t,e){e===void 0&&(e=0);var n=Se(t)?t:Mr(t);return n.map(function(r){var i=Xd(r),s=i.prefix,u=i.value,l=null,c=s,f="";if(s==="translate"||s==="translateX"||s==="translate3d"){var d=kn(e)?Yo(Yo({},e),{"o%":e["%"]}):{"%":e,"o%":e},p=Kr(u).map(function(G,Y){return Y===0&&"x%"in d?d["%"]=e["x%"]:Y===1&&"y%"in d?d["%"]=e["y%"]:d["%"]=e["o%"],ee(G,d)}),v=p[0],g=p[1],m=g===void 0?0:g,_=p[2],b=_===void 0?0:_;l=Pl,f=[v,m,b]}else if(s==="translateY"){var x=kn(e)?Yo({"%":e["y%"]},e):{"%":e},m=ee(u,x);l=Pl,f=[0,m,0]}else if(s==="translateZ"){var b=parseFloat(u);l=Pl,f=[0,0,b]}else if(s==="scale"||s==="scale3d"){var w=Kr(u).map(function(G){return parseFloat(G)}),E=w[0],D=w[1],M=D===void 0?E:D,A=w[2],T=A===void 0?1:A;l=va,f=[E,M,T]}else if(s==="scaleX"){var E=parseFloat(u);l=va,f=[E,1,1]}else if(s==="scaleY"){var M=parseFloat(u);l=va,f=[1,M,1]}else if(s==="scaleZ"){var T=parseFloat(u);l=va,f=[1,1,T]}else if(s==="rotate"||s==="rotateZ"||s==="rotateX"||s==="rotateY"){var O=Po(u),I=O.unit,k=O.value,N=I==="rad"?k:k*Math.PI/180;s==="rotate"||s==="rotateZ"?(c="rotateZ",l=Qw):s==="rotateX"?l=Uw:s==="rotateY"&&(l=$w),f=N}else if(s==="matrix3d")l=Mp,f=Kr(u).map(function(G){return parseFloat(G)});else if(s==="matrix"){var z=Kr(u).map(function(G){return parseFloat(G)});l=Mp,f=[z[0],z[1],0,0,z[2],z[3],0,0,0,0,1,0,z[4],z[5],0,1]}else c="";return{name:s,functionName:c,value:u,matrixFunction:l,functionValue:f}})}var Gl=function(t,e){return Gl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Gl(t,e)};function Kw(t,e){Gl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Rp=typeof Map=="function"?void 0:function(){var t=0;return function(e){return e.__DIFF_KEY__||(e.__DIFF_KEY__=++t)}}(),Op=function(t){Kw(e,t);function e(n){return n===void 0&&(n=[]),t.call(this,n,Rp)||this}return e}(_w);function tS(t,e){return Bo(t,e,Rp)}var Ll=function(){return Ll=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ll.apply(this,arguments)};function eS(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],u=0,l=s.length;u<l;u++,i++)r[i]=s[u];return r}var nS=function(){function t(){this._events={}}var e=t.prototype;return e.on=function(n,r){if(kn(n))for(var i in n)this.on(i,n[i]);else this._addEvent(n,r,{});return this},e.off=function(n,r){if(!n)this._events={};else if(kn(n))for(var i in n)this.off(i);else if(!r)this._events[n]=[];else{var s=this._events[n];if(s){var u=sr(s,function(l){return l.listener===r});u>-1&&s.splice(u,1)}}return this},e.once=function(n,r){var i=this;return r&&this._addEvent(n,r,{once:!0}),new Promise(function(s){i._addEvent(n,s,{once:!0})})},e.emit=function(n,r){var i=this;r===void 0&&(r={});var s=this._events[n];if(!n||!s)return!0;var u=!1;return r.eventType=n,r.stop=function(){u=!0},r.currentTarget=this,eS(s).forEach(function(l){l.listener(r),l.once&&i.off(n,l.listener)}),!u},e.trigger=function(n,r){return r===void 0&&(r={}),this.emit(n,r)},e._addEvent=function(n,r,i){var s=this._events;s[n]=s[n]||[];var u=s[n];u.push(Ll({listener:r},i))},t}();const ga=nS;var Fl=function(t,e){return Fl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Fl(t,e)};function rS(t,e){Fl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Li=function(){return Li=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Li.apply(this,arguments)};function iS(t){var e=t.container;return e===document.body?[e.scrollLeft||document.documentElement.scrollLeft,e.scrollTop||document.documentElement.scrollTop]:[e.scrollLeft,e.scrollTop]}function Tp(t,e){return t.addEventListener("scroll",e),function(){t.removeEventListener("scroll",e)}}function ma(t){if(t){if(Ke(t))return document.querySelector(t)}else return null;if(gl(t))return t();if(t instanceof Element)return t;if("current"in t)return t.current;if("value"in t)return t.value}var oS=function(t){rS(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r._startRect=null,r._startPos=[],r._prevTime=0,r._timer=0,r._prevScrollPos=[0,0],r._isWait=!1,r._flag=!1,r._currentOptions=null,r._lock=!1,r._unregister=null,r._onScroll=function(){var i=r._currentOptions;r._lock||!i||r.emit("scrollDrag",{next:function(s){r.checkScroll({container:i.container,inputEvent:s})}})},r}var n=e.prototype;return n.dragStart=function(r,i){var s=ma(i.container);if(!s){this._flag=!1;return}var u=0,l=0,c=0,f=0;if(s===document.body)c=window.innerWidth,f=window.innerHeight;else{var d=s.getBoundingClientRect();u=d.top,l=d.left,c=d.width,f=d.height}this._flag=!0,this._startPos=[r.clientX,r.clientY],this._startRect={top:u,left:l,width:c,height:f},this._prevScrollPos=this._getScrollPosition([0,0],i),this._currentOptions=i,this._registerScrollEvent(i)},n.drag=function(r,i){if(clearTimeout(this._timer),!!this._flag){var s=r.clientX,u=r.clientY,l=i.threshold,c=l===void 0?0:l,f=this,d=f._startRect,p=f._startPos;this._currentOptions=i;var v=[0,0];return d.top>u-c?(p[1]>d.top||u<p[1])&&(v[1]=-1):d.top+d.height<u+c&&(p[1]<d.top+d.height||u>p[1])&&(v[1]=1),d.left>s-c?(p[0]>d.left||s<p[0])&&(v[0]=-1):d.left+d.width<s+c&&(p[0]<d.left+d.width||s>p[0])&&(v[0]=1),!v[0]&&!v[1]?!1:this._continueDrag(Li(Li({},i),{direction:v,inputEvent:r,isDrag:!0}))}},n.checkScroll=function(r){var i=this;if(this._isWait)return!1;var s=r.prevScrollPos,u=s===void 0?this._prevScrollPos:s,l=r.direction,c=r.throttleTime,f=c===void 0?0:c,d=r.inputEvent,p=r.isDrag,v=this._getScrollPosition(l||[0,0],r),g=v[0]-u[0],m=v[1]-u[1],_=l||[g?Math.abs(g)/g:0,m?Math.abs(m)/m:0];return this._prevScrollPos=v,this._lock=!1,!g&&!m?!1:(this.emit("move",{offsetX:_[0]?g:0,offsetY:_[1]?m:0,inputEvent:d}),f&&p&&(clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(r)},f)),!0)},n.dragEnd=function(){this._flag=!1,this._lock=!1,clearTimeout(this._timer),this._unregisterScrollEvent()},n._getScrollPosition=function(r,i){var s=i.container,u=i.getScrollPosition,l=u===void 0?iS:u;return l({container:ma(s),direction:r})},n._continueDrag=function(r){var i=this,s,u=r.container,l=r.direction,c=r.throttleTime,f=r.useScroll,d=r.isDrag,p=r.inputEvent;if(!(!this._flag||d&&this._isWait)){var v=ko(),g=Math.max(c+this._prevTime-v,0);if(g>0)return clearTimeout(this._timer),this._timer=window.setTimeout(function(){i._continueDrag(r)},g),!1;this._prevTime=v;var m=this._getScrollPosition(l,r);this._prevScrollPos=m,d&&(this._isWait=!0),f||(this._lock=!0);var _={container:ma(u),direction:l,inputEvent:p};return(s=r.requestScroll)===null||s===void 0||s.call(r,_),this.emit("scroll",_),this._isWait=!1,f||this.checkScroll(Li(Li({},r),{prevScrollPos:m,direction:l,inputEvent:p}))}},n._registerScrollEvent=function(r){this._unregisterScrollEvent();var i=r.checkScrollEvent;if(i){var s=i===!0?Tp:i,u=ma(r.container);i===!0&&(u===document.body||u===document.documentElement)?this._unregister=Tp(window,this._onScroll):this._unregister=s(u,this._onScroll)}},n._unregisterScrollEvent=function(){var r;(r=this._unregister)===null||r===void 0||r.call(this),this._unregister=null},e}(ga);const sS=oS;function aS(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],u=0,l=s.length;u<l;u++,i++)r[i]=s[u];return r}function en(t){return Mt(t,we)}function uS(t,e){return t.every(function(n,r){return en(n-e[r])===0})}function lS(t,e){return!en(t[0]-e[0])&&!en(t[1]-e[1])}function Ip(t){return t.length<3?0:Math.abs(lw(t.map(function(e,n){var r=t[n+1]||t[0];return e[0]*r[1]-r[0]*e[1]})))/2}function Pp(t,e){var n=e.width,r=e.height,i=e.left,s=e.top,u=ni(t),l=u.minX,c=u.minY,f=u.maxX,d=u.maxY,p=n/(f-l),v=r/(d-c);return t.map(function(g){return[i+(g[0]-l)*p,s+(g[1]-c)*v]})}function ni(t){var e=t.map(function(r){return r[0]}),n=t.map(function(r){return r[1]});return{minX:Math.min.apply(Math,e),minY:Math.min.apply(Math,n),maxX:Math.max.apply(Math,e),maxY:Math.max.apply(Math,n)}}function zl(t,e,n){var r=t[0],i=t[1],s=ni(e),u=s.minX,l=s.maxX,c=[[u,i],[l,i]],f=_a(c[0],c[1]),d=jl(e),p=[];if(d.forEach(function(m){var _=_a(m[0],m[1]),b=m[0];if(uS(f,_))p.push({pos:t,line:m,type:"line"});else{var x=kp(Nl(f,_),[c,m]);x.forEach(function(w){m.some(function(E){return lS(E,w)})?p.push({pos:w,line:m,type:"point"}):en(b[1]-i)!==0&&p.push({pos:w,line:m,type:"intersection"})})}}),!n&&tn(p,function(m){return m[0]===r}))return!0;var v=0,g={};return p.forEach(function(m){var _=m.pos,b=m.type,x=m.line;if(!(_[0]>r))if(b==="intersection")++v;else{if(b==="line")return;if(b==="point"){var w=tn(x,function(M){return M[1]!==i}),E=g[_[0]],D=w[1]>i?1:-1;E?E!==D&&++v:g[_[0]]=D}}}),v%2===1}function _a(t,e){var n=t[0],r=t[1],i=e[0],s=e[1],u=i-n,l=s-r;Math.abs(u)<we&&(u=0),Math.abs(l)<we&&(l=0);var c=0,f=0,d=0;return u?l?(c=-l/u,f=1,d=-c*n-r):(f=1,d=-r):l&&(c=-1,d=n),[c,f,d]}function Nl(t,e){var n=t[0],r=t[1],i=t[2],s=e[0],u=e[1],l=e[2],c=n===0&&s===0,f=r===0&&u===0,d=[];if(c&&f)return[];if(c){var p=-i/r,v=-l/u;return p!==v?[]:[[-1/0,p],[1/0,p]]}else if(f){var g=-i/n,m=-l/s;return g!==m?[]:[[g,-1/0],[g,1/0]]}else if(n===0){var _=-i/r,b=-(u*_+l)/s;d=[[b,_]]}else if(s===0){var _=-l/u,b=-(r*_+i)/n;d=[[b,_]]}else if(r===0){var b=-i/n,_=-(s*b+l)/u;d=[[b,_]]}else if(u===0){var b=-l/s,_=-(n*b+i)/r;d=[[b,_]]}else{var b=(r*l-u*i)/(u*n-r*s),_=-(n*b+i)/r;d=[[b,_]]}return d.map(function(x){return[x[0],x[1]]})}function kp(t,e){var n=e.map(function(p){return[0,1].map(function(v){return[Math.min(p[0][v],p[1][v]),Math.max(p[0][v],p[1][v])]})}),r=[];if(t.length===2){var i=t[0],s=i[0],u=i[1];if(en(s-t[1][0])){if(!en(u-t[1][1])){var l=Math.max.apply(Math,n.map(function(p){return p[0][0]})),c=Math.min.apply(Math,n.map(function(p){return p[0][1]}));if(en(l-c)>0)return[];r=[[l,u],[c,u]]}}else{var f=Math.max.apply(Math,n.map(function(p){return p[1][0]})),d=Math.min.apply(Math,n.map(function(p){return p[1][1]}));if(en(f-d)>0)return[];r=[[s,f],[s,d]]}}return r.length||(r=t.filter(function(p){var v=p[0],g=p[1];return n.every(function(m){return 0<=en(v-m[0][0])&&0<=en(m[0][1]-v)&&0<=en(g-m[1][0])&&0<=en(m[1][1]-g)})})),r.map(function(p){return[en(p[0]),en(p[1])]})}function jl(t){return aS(t.slice(1),[t[0]]).map(function(e,n){return[t[n],e]})}function cS(t,e){var n=t.slice(),r=e.slice();Ud(n)===-1&&n.reverse(),Ud(r)===-1&&r.reverse();var i=jl(n),s=jl(r),u=i.map(function(d){return _a(d[0],d[1])}),l=s.map(function(d){return _a(d[0],d[1])}),c=[];u.forEach(function(d,p){var v=i[p],g=[];l.forEach(function(m,_){var b=Nl(d,m),x=kp(b,[v,s[_]]);g.push.apply(g,x.map(function(w){return{index1:p,index2:_,pos:w,type:"intersection"}}))}),g.sort(function(m,_){return ur(v[0],m.pos)-ur(v[0],_.pos)}),c.push.apply(c,g),zl(v[1],r)&&c.push({index1:p,index2:-1,pos:v[1],type:"inside"})}),s.forEach(function(d,p){if(zl(d[1],n)){var v=!1,g=sr(c,function(m){var _=m.index2;return _===p?(v=!0,!1):!!v});g===-1&&(v=!1,g=sr(c,function(m){var _=m.index1,b=m.index2;return _===-1&&b+1===p?(v=!0,!1):!!v})),g===-1?c.push({index1:-1,index2:p,pos:d[1],type:"inside"}):c.splice(g,0,{index1:-1,index2:p,pos:d[1],type:"inside"})}});var f={};return c.filter(function(d){var p=d.pos,v=p[0]+"x"+p[1];return f[v]?!1:(f[v]=!0,!0)})}function fS(t,e){var n=cS(t,e);return n.map(function(r){var i=r.pos;return i})}function hS(t,e){var n=fS(t,e);return Ip(n)}var Wl=function(t,e){return Wl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},Wl(t,e)};function dS(t,e){Wl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Ee=function(){return Ee=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Ee.apply(this,arguments)};function pS(t,e){var n=e[0]-t[0],r=e[1]-t[1],i=Math.atan2(r,n);return i>=0?i:i+Math.PI*2}function Yl(t){return pS([t[0].clientX,t[0].clientY],[t[1].clientX,t[1].clientY])/Math.PI*180}function vS(t){return t.touches&&t.touches.length>=2}function ya(t){return t?t.touches?mS(t.touches):[Gp(t)]:[]}function gS(t){return t&&(t.type.indexOf("mouse")>-1||"button"in t)}function Bp(t,e,n){var r=n.length,i=qo(t,r),s=i.clientX,u=i.clientY,l=i.originalClientX,c=i.originalClientY,f=qo(e,r),d=f.clientX,p=f.clientY,v=qo(n,r),g=v.clientX,m=v.clientY,_=s-d,b=u-p,x=s-g,w=u-m;return{clientX:l,clientY:c,deltaX:_,deltaY:b,distX:x,distY:w}}function Xl(t){return Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2))}function mS(t){for(var e=Math.min(t.length,2),n=[],r=0;r<e;++r)n.push(Gp(t[r]));return n}function Gp(t){return{clientX:t.clientX,clientY:t.clientY}}function qo(t,e){e===void 0&&(e=t.length);for(var n={clientX:0,clientY:0,originalClientX:0,originalClientY:0},r=Math.min(t.length,e),i=0;i<r;++i){var s=t[i];n.originalClientX+="originalClientX"in s?s.originalClientX:s.clientX,n.originalClientY+="originalClientY"in s?s.originalClientY:s.clientY,n.clientX+=s.clientX,n.clientY+=s.clientY}return e?{clientX:n.clientX/e,clientY:n.clientY/e,originalClientX:n.originalClientX/e,originalClientY:n.originalClientY/e}:n}var ql=function(){function t(e){this.prevClients=[],this.startClients=[],this.movement=0,this.length=0,this.startClients=e,this.prevClients=e,this.length=e.length}return t.prototype.getAngle=function(e){return e===void 0&&(e=this.prevClients),Yl(e)},t.prototype.getRotation=function(e){return e===void 0&&(e=this.prevClients),Yl(e)-Yl(this.startClients)},t.prototype.getPosition=function(e,n){e===void 0&&(e=this.prevClients);var r=Bp(e||this.prevClients,this.prevClients,this.startClients),i=r.deltaX,s=r.deltaY;return this.movement+=Math.sqrt(i*i+s*s),this.prevClients=e,r},t.prototype.getPositions=function(e){e===void 0&&(e=this.prevClients);for(var n=this.prevClients,r=this.startClients,i=Math.min(this.length,n.length),s=[],u=0;u<i;++u)s[u]=Bp([e[u]],[n[u]],[r[u]]);return s},t.prototype.getMovement=function(e){var n=this.movement;if(!e)return n;var r=qo(e,this.length),i=qo(this.prevClients,this.length),s=r.clientX-i.clientX,u=r.clientY-i.clientY;return Math.sqrt(s*s+u*u)+n},t.prototype.getDistance=function(e){return e===void 0&&(e=this.prevClients),Xl(e)},t.prototype.getScale=function(e){return e===void 0&&(e=this.prevClients),Xl(e)/Xl(this.startClients)},t.prototype.move=function(e,n){this.startClients.forEach(function(r){r.clientX-=e,r.clientY-=n}),this.prevClients.forEach(function(r){r.clientX-=e,r.clientY-=n})},t}(),Lp=["textarea","input"],_S=function(t){dS(e,t);function e(n,r){r===void 0&&(r={});var i=t.call(this)||this;i.options={},i.flag=!1,i.pinchFlag=!1,i.data={},i.isDrag=!1,i.isPinch=!1,i.clientStores=[],i.targets=[],i.prevTime=0,i.doubleFlag=!1,i._useMouse=!1,i._useTouch=!1,i._useDrag=!1,i._dragFlag=!1,i._isTrusted=!1,i._isMouseEvent=!1,i._isSecondaryButton=!1,i._preventMouseEvent=!1,i._prevInputEvent=null,i._isDragAPI=!1,i._isIdle=!0,i._preventMouseEventId=0,i._window=window,i.onDragStart=function(v,g){if(g===void 0&&(g=!0),!(!i.flag&&v.cancelable===!1)){var m=v.type.indexOf("drag")>=-1;if(!(i.flag&&m)){i._isDragAPI=!0;var _=i.options,b=_.container,x=_.pinchOutside,w=_.preventWheelClick,E=_.preventRightClick,D=_.preventDefault,M=_.checkInput,A=_.dragFocusedInput,T=_.preventClickEventOnDragStart,O=_.preventClickEventOnDrag,I=_.preventClickEventByCondition,k=i._useTouch,N=!i.flag;if(i._isSecondaryButton=v.which===3||v.button===2,w&&(v.which===2||v.button===1)||E&&(v.which===3||v.button===2))return i.stop(),!1;if(N){var z=i._window.document.activeElement,G=v.target;if(G){var Y=G.tagName.toLowerCase(),X=Lp.indexOf(Y)>-1,K=G.isContentEditable;if(X||K){if(M||!A&&z===G)return!1;if(z&&(z===G||K&&z.isContentEditable&&z.contains(G)))if(A)G.blur();else return!1}else if((D||v.type==="touchstart")&&z){var tt=z.tagName.toLowerCase();(z.isContentEditable||Lp.indexOf(tt)>-1)&&z.blur()}(T||O||I)&&Be(i._window,"click",i._onClick,!0)}i.clientStores=[new ql(ya(v))],i._isIdle=!1,i.flag=!0,i.isDrag=!1,i._isTrusted=g,i._dragFlag=!0,i._prevInputEvent=v,i.data={},i.doubleFlag=ko()-i.prevTime<200,i._isMouseEvent=gS(v),!i._isMouseEvent&&i._preventMouseEvent&&i._allowMouseEvent();var U=i._preventMouseEvent||i.emit("dragStart",Ee(Ee({data:i.data,datas:i.data,inputEvent:v,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,isTrusted:g,isDouble:i.doubleFlag},i.getCurrentStore().getPosition()),{preventDefault:function(){v.preventDefault()},preventDrag:function(){i._dragFlag=!1}}));U===!1&&i.stop(),i._isMouseEvent&&i.flag&&D&&v.preventDefault()}if(!i.flag)return!1;var rt=0;if(N?(i._attchDragEvent(),k&&x&&(rt=setTimeout(function(){Be(b,"touchstart",i.onDragStart,{passive:!1})}))):k&&x&&Ae(b,"touchstart",i.onDragStart),i.flag&&vS(v)){if(clearTimeout(rt),N&&v.touches.length!==v.changedTouches.length)return;i.pinchFlag||i.onPinchStart(v)}}}},i.onDrag=function(v,g){if(i.flag){var m=i.options.preventDefault;!i._isMouseEvent&&m&&v.preventDefault(),i._prevInputEvent=v;var _=ya(v),b=i.moveClients(_,v,!1);if(i._dragFlag){if(i.pinchFlag||b.deltaX||b.deltaY){var x=i._preventMouseEvent||i.emit("drag",Ee(Ee({},b),{isScroll:!!g,inputEvent:v}));if(x===!1){i.stop();return}}i.pinchFlag&&i.onPinch(v,_)}i.getCurrentStore().getPosition(_,!0)}},i.onDragEnd=function(v){if(i.flag){var g=i.options,m=g.pinchOutside,_=g.container,b=g.preventClickEventOnDrag,x=g.preventClickEventOnDragStart,w=g.preventClickEventByCondition,E=i.isDrag;(b||x||w)&&requestAnimationFrame(function(){i._allowClickEvent()}),!w&&!x&&b&&!E&&i._allowClickEvent(),i._useTouch&&m&&Ae(_,"touchstart",i.onDragStart),i.pinchFlag&&i.onPinchEnd(v);var D=v!=null&&v.touches?ya(v):[],M=D.length;M===0||!i.options.keepDragging?i.flag=!1:i._addStore(new ql(D));var A=i._getPosition(),T=ko(),O=!E&&i.doubleFlag;i._prevInputEvent=null,i.prevTime=E||O?0:T,i.flag||(i._dettachDragEvent(),i._preventMouseEvent||i.emit("dragEnd",Ee({data:i.data,datas:i.data,isDouble:O,isDrag:E,isClick:!E,isMouseEvent:i._isMouseEvent,isSecondaryButton:i._isSecondaryButton,inputEvent:v,isTrusted:i._isTrusted},A)),i.clientStores=[],i._isMouseEvent||(i._preventMouseEvent=!0,clearTimeout(i._preventMouseEventId),i._preventMouseEventId=setTimeout(function(){i._preventMouseEvent=!1},200)),i._isIdle=!0)}},i.onBlur=function(){i.onDragEnd()},i._allowClickEvent=function(){Ae(i._window,"click",i._onClick,!0)},i._onClick=function(v){i._allowClickEvent(),i._allowMouseEvent();var g=i.options.preventClickEventByCondition;g!=null&&g(v)||(v.stopPropagation(),v.preventDefault())},i._onContextMenu=function(v){var g=i.options;g.preventRightClick?i.onDragEnd(v):v.preventDefault()},i._passCallback=function(){};var s=[].concat(n),u=s[0];i._window=tp(u)?u:Or(u),i.options=Ee({checkInput:!1,container:u&&!("document"in u)?Or(u):u,preventRightClick:!0,preventWheelClick:!0,preventClickEventOnDragStart:!1,preventClickEventOnDrag:!1,preventClickEventByCondition:null,preventDefault:!0,checkWindowBlur:!1,keepDragging:!1,pinchThreshold:0,events:["touch","mouse"]},r);var l=i.options,c=l.container,f=l.events,d=l.checkWindowBlur;if(i._useDrag=f.indexOf("drag")>-1,i._useTouch=f.indexOf("touch")>-1,i._useMouse=f.indexOf("mouse")>-1,i.targets=s,i._useDrag&&s.forEach(function(v){Be(v,"dragstart",i.onDragStart)}),i._useMouse&&(s.forEach(function(v){Be(v,"mousedown",i.onDragStart),Be(v,"mousemove",i._passCallback)}),Be(c,"contextmenu",i._onContextMenu)),d&&Be(Or(),"blur",i.onBlur),i._useTouch){var p={passive:!1};s.forEach(function(v){Be(v,"touchstart",i.onDragStart,p),Be(v,"touchmove",i._passCallback,p)})}return i}return e.prototype.stop=function(){this.isDrag=!1,this.data={},this.clientStores=[],this.pinchFlag=!1,this.doubleFlag=!1,this.prevTime=0,this.flag=!1,this._isIdle=!0,this._allowClickEvent(),this._dettachDragEvent(),this._isDragAPI=!1},e.prototype.getMovement=function(n){return this.getCurrentStore().getMovement(n)+this.clientStores.slice(1).reduce(function(r,i){return r+i.movement},0)},e.prototype.isDragging=function(){return this.isDrag},e.prototype.isIdle=function(){return this._isIdle},e.prototype.isFlag=function(){return this.flag},e.prototype.isPinchFlag=function(){return this.pinchFlag},e.prototype.isDoubleFlag=function(){return this.doubleFlag},e.prototype.isPinching=function(){return this.isPinch},e.prototype.scrollBy=function(n,r,i,s){s===void 0&&(s=!0),this.flag&&(this.clientStores[0].move(n,r),s&&this.onDrag(i,!0))},e.prototype.move=function(n,r){var i=n[0],s=n[1],u=this.getCurrentStore(),l=u.prevClients;return this.moveClients(l.map(function(c){var f=c.clientX,d=c.clientY;return{clientX:f+i,clientY:d+s,originalClientX:f,originalClientY:d}}),r,!0)},e.prototype.triggerDragStart=function(n){this.onDragStart(n,!1)},e.prototype.setEventData=function(n){var r=this.data;for(var i in n)r[i]=n[i];return this},e.prototype.setEventDatas=function(n){return this.setEventData(n)},e.prototype.getCurrentEvent=function(n){return n===void 0&&(n=this._prevInputEvent),Ee(Ee({data:this.data,datas:this.data},this._getPosition()),{movement:this.getMovement(),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,inputEvent:n})},e.prototype.getEventData=function(){return this.data},e.prototype.getEventDatas=function(){return this.data},e.prototype.unset=function(){var n=this,r=this.targets,i=this.options.container;this.off(),Ae(this._window,"blur",this.onBlur),this._useDrag&&r.forEach(function(s){Ae(s,"dragstart",n.onDragStart)}),this._useMouse&&(r.forEach(function(s){Ae(s,"mousedown",n.onDragStart)}),Ae(i,"contextmenu",this._onContextMenu)),this._useTouch&&(r.forEach(function(s){Ae(s,"touchstart",n.onDragStart)}),Ae(i,"touchstart",this.onDragStart)),this._prevInputEvent=null,this._allowClickEvent(),this._dettachDragEvent()},e.prototype.onPinchStart=function(n){var r=this,i=this.options.pinchThreshold;if(!(this.isDrag&&this.getMovement()>i)){var s=new ql(ya(n));this.pinchFlag=!0,this._addStore(s);var u=this.emit("pinchStart",Ee(Ee({data:this.data,datas:this.data,angle:s.getAngle(),touches:this.getCurrentStore().getPositions()},s.getPosition()),{inputEvent:n,isTrusted:this._isTrusted,preventDefault:function(){n.preventDefault()},preventDrag:function(){r._dragFlag=!1}}));u===!1&&(this.pinchFlag=!1)}},e.prototype.onPinch=function(n,r){if(!(!this.flag||!this.pinchFlag||r.length<2)){var i=this.getCurrentStore();this.isPinch=!0,this.emit("pinch",Ee(Ee({data:this.data,datas:this.data,movement:this.getMovement(r),angle:i.getAngle(r),rotation:i.getRotation(r),touches:i.getPositions(r),scale:i.getScale(r),distance:i.getDistance(r)},i.getPosition(r)),{inputEvent:n,isTrusted:this._isTrusted}))}},e.prototype.onPinchEnd=function(n){if(this.pinchFlag){var r=this.isPinch;this.isPinch=!1,this.pinchFlag=!1;var i=this.getCurrentStore();this.emit("pinchEnd",Ee(Ee({data:this.data,datas:this.data,isPinch:r,touches:i.getPositions()},i.getPosition()),{inputEvent:n}))}},e.prototype.getCurrentStore=function(){return this.clientStores[0]},e.prototype.moveClients=function(n,r,i){var s=this._getPosition(n,i),u=this.isDrag;(s.deltaX||s.deltaY)&&(this.isDrag=!0);var l=!1;return!u&&this.isDrag&&(l=!0),Ee(Ee({data:this.data,datas:this.data},s),{movement:this.getMovement(n),isDrag:this.isDrag,isPinch:this.isPinch,isScroll:!1,isMouseEvent:this._isMouseEvent,isSecondaryButton:this._isSecondaryButton,inputEvent:r,isTrusted:this._isTrusted,isFirstDrag:l})},e.prototype._addStore=function(n){this.clientStores.splice(0,0,n)},e.prototype._getPosition=function(n,r){var i=this.getCurrentStore(),s=i.getPosition(n,r),u=this.clientStores.slice(1).reduce(function(f,d){var p=d.getPosition();return f.distX+=p.distX,f.distY+=p.distY,f},s),l=u.distX,c=u.distY;return Ee(Ee({},s),{distX:l,distY:c})},e.prototype._attchDragEvent=function(){var n=this._window,r=this.options.container,i={passive:!1};this._isDragAPI&&(Be(r,"dragover",this.onDrag,i),Be(n,"dragend",this.onDragEnd)),this._useMouse&&(Be(r,"mousemove",this.onDrag),Be(n,"mouseup",this.onDragEnd)),this._useTouch&&(Be(r,"touchmove",this.onDrag,i),Be(n,"touchend",this.onDragEnd,i),Be(n,"touchcancel",this.onDragEnd,i))},e.prototype._dettachDragEvent=function(){var n=this._window,r=this.options.container;this._isDragAPI&&(Ae(r,"dragover",this.onDrag),Ae(n,"dragend",this.onDragEnd)),this._useMouse&&(Ae(r,"mousemove",this.onDrag),Ae(n,"mouseup",this.onDragEnd)),this._useTouch&&(Ae(r,"touchstart",this.onDragStart),Ae(r,"touchmove",this.onDrag),Ae(n,"touchend",this.onDragEnd),Ae(n,"touchcancel",this.onDragEnd))},e.prototype._allowMouseEvent=function(){this._preventMouseEvent=!1,clearTimeout(this._preventMouseEventId)},e}(ga);function yS(t){for(var e=5381,n=t.length;n;)e=e*33^t.charCodeAt(--n);return e>>>0}var bS=yS;function xS(t){return bS(t).toString(36)}function wS(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function SS(t,e,n){return n.original?e:e.replace(/([^};{\s}][^};{]*|^\s*){/mg,function(r,i){var s=i.trim();return(s?Kr(s):[""]).map(function(u){var l=u.trim();return l.indexOf("@")===0?l:l.indexOf(":global")>-1?l.replace(/\:global/g,""):l.indexOf(":host")>-1?"".concat(l.replace(/\:host/g,".".concat(t))):l?".".concat(t," ").concat(l):".".concat(t)}).join(", ")+" {"})}function ES(t,e,n,r,i){var s=Pi(r),u=s.createElement("style");return u.setAttribute("type","text/css"),u.setAttribute("data-styled-id",t),u.setAttribute("data-styled-count","1"),n.nonce&&u.setAttribute("nonce",n.nonce),u.innerHTML=SS(t,e,n),(i||s.head||s.body).appendChild(u),u}function DS(t){var e="rCS"+xS(t);return{className:e,inject:function(n,r){r===void 0&&(r={});var i=wS(n),s=(i||n.ownerDocument||document).querySelector('style[data-styled-id="'.concat(e,'"]'));if(!s)s=ES(e,t,r,n,i);else{var u=parseFloat(s.getAttribute("data-styled-count"))||0;s.setAttribute("data-styled-count","".concat(u+1))}return{destroy:function(){var l,c=parseFloat(s.getAttribute("data-styled-count"))||0;c<=1?(s.remove?s.remove():(l=s.parentNode)===null||l===void 0||l.removeChild(s),s=null):s.setAttribute("data-styled-count","".concat(c-1))}}}}}var Hl=function(){return Hl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Hl.apply(this,arguments)};function AS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fp(t,e){var n=DS(e),r=n.className;return ww(function(i,s){var u=i.className,l=u===void 0?"":u;i.cspNonce;var c=AS(i,["className","cspNonce"]),f=Bw();return Gw(s,function(){return f.current},[]),mp(function(){var d=n.inject(f.current,{nonce:i.cspNonce});return function(){d.destroy()}},[]),Bn(t,Hl({ref:f,"data-styled-id":r,className:"".concat(l," ").concat(r)},c))})}var Vl=function(t,e){return Vl=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Vl(t,e)};function Ho(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Vl(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var B=function(){return B=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},B.apply(this,arguments)};function CS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function MS(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(s=(i<3?u(s):i>3?u(e,n,s):u(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function RS(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function F(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],u;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(l){u={error:l}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(u)throw u.error}}return s}function it(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Vo(t,e){return B({events:[],props:[],name:t},e)}var OS=["n","w","s","e"],Ul=["n","w","s","e","nw","ne","sw","se"];function TS(t,e){return'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(32*t,'px" height="').concat(32*t,'px" viewBox="0 0 32 32" ><path d="M 16,5 L 12,10 L 14.5,10 L 14.5,22 L 12,22 L 16,27 L 20,22 L 17.5,22 L 17.5,10 L 20, 10 L 16,5 Z" stroke-linejoin="round" stroke-width="1.2" fill="black" stroke="white" style="transform:rotate(').concat(e,'deg);transform-origin: 16px 16px"></path></svg>')}function IS(t){var e=TS(1,t),n=Math.round(t/45)*45%180,r="ns-resize";return n===135?r="nwse-resize":n===45?r="nesw-resize":n===90&&(r="ew-resize"),"cursor:".concat(r,";cursor: url('").concat(e,"') 16 16, ").concat(r,";")}var Fi=jw(),zp=Fi.browser.webkit,Np=zp&&function(){var t=typeof window>"u"?{userAgent:""}:window.navigator,e=/applewebkit\/([^\s]+)/g.exec(t.userAgent.toLowerCase());return e?parseFloat(e[1])<605:!1}(),jp=Fi.browser.name,Wp=parseInt(Fi.browser.version,10),PS=jp==="chrome",kS=Fi.browser.chromium,BS=parseInt(Fi.browser.chromiumVersion,10)||0,GS=PS&&Wp>=109||kS&&BS>=109,LS=jp==="firefox",FS=parseInt(Fi.browser.webkitVersion,10)>=612||Wp>=15,$l="moveable-",zS=Ul.map(function(t){var e="",n="",r="center",i="center",s="calc(var(--moveable-control-padding, 20) * -1px)";return t.indexOf("n")>-1&&(e="top: ".concat(s,";"),i="bottom"),t.indexOf("s")>-1&&(e="top: 0px;",i="top"),t.indexOf("w")>-1&&(n="left: ".concat(s,";"),r="right"),t.indexOf("e")>-1&&(n="left: 0px;",r="left"),'.around-control[data-direction*="'.concat(t,`"] {
        `).concat(n).concat(e,`
        transform-origin: `).concat(r," ").concat(i,`;
    }`)}).join(`
`),NS=`
{
position: absolute;
width: 1px;
height: 1px;
left: 0;
top: 0;
z-index: 3000;
--moveable-color: #4af;
--zoom: 1;
--zoompx: 1px;
--moveable-line-padding: 0;
--moveable-control-padding: 0;
will-change: transform;
outline: 1px solid transparent;
}
.control-box {
z-index: 0;
}
.line, .control {
position: absolute;
left: 0;
top: 0;
will-change: transform;
}
.control {
width: 14px;
height: 14px;
border-radius: 50%;
border: 2px solid #fff;
box-sizing: border-box;
background: #4af;
background: var(--moveable-color);
margin-top: -7px;
margin-left: -7px;
border: 2px solid #fff;
z-index: 10;
}
.around-control {
position: absolute;
will-change: transform;
width: calc(var(--moveable-control-padding, 20) * 1px);
height: calc(var(--moveable-control-padding, 20) * 1px);
left: calc(var(--moveable-control-padding, 20) * -0.5px);
top: calc(var(--moveable-control-padding, 20) * -0.5px);
box-sizing: border-box;
background: transparent;
z-index: 8;
cursor: alias;
transform-origin: center center;
}
`.concat(zS,`
.padding {
position: absolute;
top: 0px;
left: 0px;
width: 100px;
height: 100px;
transform-origin: 0 0;
}
.line {
width: 1px;
height: 1px;
background: #4af;
background: var(--moveable-color);
transform-origin: 0px 50%;
}
.line.edge {
z-index: 1;
background: transparent;
}
.line.dashed {
box-sizing: border-box;
background: transparent;
}
.line.dashed.horizontal {
border-top: 1px dashed #4af;
border-top-color: #4af;
border-top-color: var(--moveable-color);
}
.line.dashed.vertical {
border-left: 1px dashed #4af;
border-left-color: #4af;
border-left-color: var(--moveable-color);
}
.line.vertical {
transform: translateX(-50%);
}
.line.horizontal {
transform: translateY(-50%);
}
.line.vertical.bold {
width: 2px;
}
.line.horizontal.bold {
height: 2px;
}

.control.origin {
border-color: #f55;
background: #fff;
width: 12px;
height: 12px;
margin-top: -6px;
margin-left: -6px;
pointer-events: none;
}
`).concat([0,15,30,45,60,75,90,105,120,135,150,165].map(function(t){return`
.direction[data-rotation="`.concat(t,'"], :global .view-control-rotation').concat(t,` {
`).concat(IS(t),`
}
`)}).join(`
`),`

.line.direction:before {
content: "";
position: absolute;
width: 100%;
height: calc(var(--moveable-line-padding, 0) * 1px);
bottom: 0;
left: 0;
}
.group {
z-index: -1;
}
.area {
position: absolute;
}
.area-pieces {
position: absolute;
top: 0;
left: 0;
display: none;
}
.area.avoid, .area.pass {
pointer-events: none;
}
.area.avoid+.area-pieces {
display: block;
}
.area-piece {
position: absolute;
}

`).concat(Np?`:global svg *:before {
content:"";
transform-origin: inherit;
}`:"",`
`),jS=[[0,1,2],[1,0,3],[2,0,3],[3,1,2]],Ql=1e-4,qe=1e-7,ba=1e-9,Zl=Math.pow(10,10),Yp=-Zl,WS={n:[0,-1],e:[1,0],s:[0,1],w:[-1,0],nw:[-1,-1],ne:[1,-1],sw:[-1,1],se:[1,1]},Jl={n:[0,1],e:[1,3],s:[3,2],w:[2,0],nw:[0],ne:[1],sw:[2],se:[3]},Xp={n:0,s:180,w:270,e:90,nw:315,ne:45,sw:225,se:135},qp=["isMoveableElement","updateRect","updateTarget","destroy","dragStart","isInside","hitTest","setState","getRect","request","isDragging","getManager","forceUpdate","waitToChangeTarget","updateSelectors","getTargets","stopDrag","getControlBoxElement","getMoveables","getDragElement"];function Uo(t,e,n,r,i,s){var u,l;s===void 0&&(s="draggable");var c=(l=(u=e.gestos[s])===null||u===void 0?void 0:u.move(n,t.inputEvent))!==null&&l!==void 0?l:{},f=c.originalDatas||c.datas,d=f[s]||(f[s]={});return B(B({},i?Zv(e,c):c),{isPinch:!!r,parentEvent:!0,datas:d,originalDatas:t.originalDatas})}var zi=function(){function t(e){var n;e===void 0&&(e="draggable"),this.ableName=e,this.prevX=0,this.prevY=0,this.startX=0,this.startY=0,this.isDrag=!1,this.isFlag=!1,this.datas={draggable:{}},this.datas=(n={},n[e]={},n)}return t.prototype.dragStart=function(e,n){this.isDrag=!1,this.isFlag=!1;var r=n.originalDatas;return this.datas=r,r[this.ableName]||(r[this.ableName]={}),B(B({},this.move(e,n.inputEvent)),{type:"dragstart"})},t.prototype.drag=function(e,n){return this.move([e[0]-this.prevX,e[1]-this.prevY],n)},t.prototype.move=function(e,n){var r,i,s=!1;if(!this.isFlag)this.prevX=e[0],this.prevY=e[1],this.startX=e[0],this.startY=e[1],r=e[0],i=e[1],this.isFlag=!0;else{var u=this.isDrag;r=this.prevX+e[0],i=this.prevY+e[1],(e[0]||e[1])&&(this.isDrag=!0),!u&&this.isDrag&&(s=!0)}return this.prevX=r,this.prevY=i,{type:"drag",clientX:r,clientY:i,inputEvent:n,isFirstDrag:s,isDrag:this.isDrag,distX:r-this.startX,distY:i-this.startY,deltaX:e[0],deltaY:e[1],datas:this.datas[this.ableName],originalDatas:this.datas,parentEvent:!0,parentGesto:this}},t}();function Ni(t,e,n,r){var i=t.length===16,s=i?4:3,u=si(t,n,r,s),l=F(u,4),c=F(l[0],2),f=c[0],d=c[1],p=F(l[1],2),v=p[0],g=p[1],m=F(l[2],2),_=m[0],b=m[1],x=F(l[3],2),w=x[0],E=x[1],D=F(he(t,e,s),2),M=D[0],A=D[1],T=Math.min(f,v,_,w),O=Math.min(d,g,b,E),I=Math.max(f,v,_,w),k=Math.max(d,g,b,E);f=f-T||0,v=v-T||0,_=_-T||0,w=w-T||0,d=d-O||0,g=g-O||0,b=b-O||0,E=E-O||0,M=M-T||0,A=A-O||0;var N=t[0],z=t[s+1],G=Ue(N*z);return{left:T,top:O,right:I,bottom:k,origin:[M,A],pos1:[f,d],pos2:[v,g],pos3:[_,b],pos4:[w,E],direction:G}}function Hp(t,e){var n=e.clientX,r=e.clientY,i=e.datas,s=t.state,u=s.moveableClientRect,l=s.rootMatrix,c=s.is3d,f=s.pos1,d=u.left,p=u.top,v=c?4:3,g=F(bt(Ui(l,[n-d,r-p],v),f),2),m=g[0],_=g[1],b=F(Un({datas:i,distX:m,distY:_}),2),x=b[0],w=b[1];return[x,w]}function ri(t,e){var n=e.datas,r=t.state,i=r.allMatrix,s=r.beforeMatrix,u=r.is3d,l=r.left,c=r.top,f=r.origin,d=r.offsetMatrix,p=r.targetMatrix,v=r.transformOrigin,g=u?4:3;n.is3d=u,n.matrix=i,n.targetMatrix=p,n.beforeMatrix=s,n.offsetMatrix=d,n.transformOrigin=v,n.inverseMatrix=Vn(i,g),n.inverseBeforeMatrix=Vn(s,g),n.absoluteOrigin=ti(Vt([l,c],f),g),n.startDragBeforeDist=We(n.inverseBeforeMatrix,n.absoluteOrigin,g),n.startDragDist=We(n.inverseMatrix,n.absoluteOrigin,g)}function YS(t){return Ni(t.datas.beforeTransform,[50,50],100,100).direction}function xa(t,e,n){var r=e.datas,i=e.originalDatas.beforeRenderable,s=r.transformIndex,u=i.nextTransforms,l=u.length,c=i.nextTransformAppendedIndexes,f=-1;s===-1?(n==="translate"?f=0:n==="rotate"&&(f=sr(u,function(g){return g.match(/scale\(/g)})),f===-1&&(f=u.length),r.transformIndex=f):tn(c,function(g){return g.index===s&&g.functionName===n})?f=s:f=s+c.filter(function(g){return g.index<s}).length;var d=pD(u,t.state,f),p=d.targetFunction,v=n==="rotate"?"rotateZ":n;r.beforeFunctionTexts=d.beforeFunctionTexts,r.afterFunctionTexts=d.afterFunctionTexts,r.beforeTransform=d.beforeFunctionMatrix,r.beforeTransform2=d.beforeFunctionMatrix2,r.targetTansform=d.targetFunctionMatrix,r.afterTransform=d.afterFunctionMatrix,r.afterTransform2=d.afterFunctionMatrix2,r.targetAllTransform=d.allFunctionMatrix,p.functionName===v?(r.afterFunctionTexts.splice(0,1),r.isAppendTransform=!1):l>f&&(r.isAppendTransform=!0,i.nextTransformAppendedIndexes=it(it([],F(c),!1),[{functionName:n,index:f,isAppend:!0}],!1))}function wa(t,e,n){return"".concat(t.beforeFunctionTexts.join(" ")," ").concat(t.isAppendTransform?n:e," ").concat(t.afterFunctionTexts.join(" "))}function XS(t){var e=t.datas,n=t.distX,r=t.distY,i=F(Up({datas:e,distX:n,distY:r}),2),s=i[0],u=i[1],l=Vp(e,Hw([s,u],4));return We(l,ti([0,0,0],4),4)}function Vp(t,e,n){var r=t.beforeTransform,i=t.afterTransform,s=t.beforeTransform2,u=t.afterTransform2,l=t.targetAllTransform,c=n?ne(l,e,4):ne(e,l,4),f=ne(Vn(n?s:r,4),c,4),d=ne(f,Vn(n?u:i,4),4);return d}function Up(t){var e=t.datas,n=t.distX,r=t.distY,i=e.inverseBeforeMatrix,s=e.is3d,u=e.startDragBeforeDist,l=e.absoluteOrigin,c=s?4:3;return bt(We(i,Vt(l,[n,r]),c),u)}function Un(t,e){var n=t.datas,r=t.distX,i=t.distY,s=n.inverseBeforeMatrix,u=n.inverseMatrix,l=n.is3d,c=n.startDragBeforeDist,f=n.startDragDist,d=n.absoluteOrigin,p=l?4:3;return bt(We(e?s:u,Vt(d,[r,i]),p),e?c:f)}function qS(t,e){var n=t.datas,r=t.distX,i=t.distY,s=n.beforeMatrix,u=n.matrix,l=n.is3d,c=n.startDragBeforeDist,f=n.startDragDist,d=n.absoluteOrigin,p=l?4:3;return bt(We(e?s:u,Vt(e?c:f,[r,i]),p),d)}function HS(t,e,n,r,i,s){return r===void 0&&(r=e),i===void 0&&(i=n),s===void 0&&(s=[0,0]),t?t.map(function(u,l){var c=Po(u),f=c.value,d=c.unit,p=l?i:r,v=l?n:e;if(u==="%"||isNaN(f)){var g=p?s[l]/p:0;return v*g}else if(d!=="%")return f;return v*f/100}):s}function $p(t){var e=[];return t[1]>=0&&(t[0]>=0&&e.push(3),t[0]<=0&&e.push(2)),t[1]<=0&&(t[0]>=0&&e.push(1),t[0]<=0&&e.push(0)),e}function VS(t,e){return $p(e).map(function(n){return t[n]})}function Kl(t,e){var n=(e+1)/2;return[la(t[0][0],t[1][0],n,1-n),la(t[0][1],t[1][1],n,1-n)]}function Ce(t,e){var n=Kl([t[0],t[1]],e[0]),r=Kl([t[2],t[3]],e[0]);return Kl([n,r],e[1])}function US(t,e,n,r,i,s){var u=si(e,n,r,i),l=Ce(u,s),c=t[0]-l[0],f=t[1]-l[1];return[c,f]}function $o(t,e,n,r){return ne(t,Ko(e,r,n),r)}function $S(t,e,n,r){var i=t.transformOrigin,s=t.offsetMatrix,u=t.is3d,l=u?4:3,c;if(Ke(n)){var f=e.beforeTransform,d=e.afterTransform;r?c=Gn(Xo(n),4,l):c=Gn(ne(ne(f,Xo([n]),4),d,4),4,l)}else c=n;return $o(s,c,i,l)}function QS(t,e){var n=t.transformOrigin,r=t.offsetMatrix,i=t.is3d,s=t.targetMatrix,u=t.targetAllTransform,l=i?4:3;return $o(r,ne(u||s,kl(e,l),l),n,l)}function Sa(t,e){var n=ji(e);return{setTransform:function(r,i){i===void 0&&(i=-1),n.startTransforms=Se(r)?r:Mr(r),tc(t,e,i)},setTransformIndex:function(r){tc(t,e,r)}}}function Ea(t,e,n){var r=ji(e),i=r.startTransforms;tc(t,e,sr(i,function(s){return s.indexOf("".concat(n,"("))===0}))}function tc(t,e,n){var r=ji(e),i=e.datas;if(i.transformIndex=n,n!==-1){var s=r.startTransforms[n];if(s){var u=t.state,l=Gi([s],{"x%":function(c){return c/100*u.offsetWidth},"y%":function(c){return c/100*u.offsetHeight}});i.startValue=l[0].functionValue}}}function ec(t,e){var n=ji(t);n.nextTransforms=Mr(e)}function ji(t){return t.originalDatas.beforeRenderable}function Da(t){var e=t.originalDatas.beforeRenderable;return e.nextTransforms}function Aa(t){return(Da(t)||[]).join(" ")}function Ca(t){return ji(t).nextStyle}function Qp(t,e,n,r,i){ec(i,e);var s=He.drag(t,Uo(i,t.state,n,r,!1)),u=s?s.transform:e;return B(B({transform:e,drag:s},Ve({transform:u},i)),{afterTransform:u})}function nc(t,e,n,r,i,s){var u=$S(t.state,i,e,s),l=KS(t,n,r,u);return l}function Zp(t,e,n,r,i,s,u){var l=nc(t,e,n,i,s,u),c=t.state,f=c.left,d=c.top,p=t.props.groupable,v=p?f:0,g=p?d:0,m=bt(r,l);return bt(m,[v,g])}function ZS(t,e,n,r,i,s,u){var l=Zp(t,e,n,r,i,s,u);return l}function JS(t,e,n){return[e?-1+t[0]/(e/2):0,n?-1+t[1]/(n/2):0]}function KS(t,e,n,r){r===void 0&&(r=t.state.allMatrix);var i=t.state,s=i.width,u=i.height,l=i.is3d,c=l?4:3,f=[s/2*(1+e[0])+n[0],u/2*(1+e[1])+n[1]];return he(r,f,c)}function tE(t,e,n){var r=n.fixedDirection,i=n.fixedPosition,s=n.fixedOffset;return Zp(t,"rotate(".concat(e,"deg)"),r,i,s,n)}function eE(t,e,n,r,i,s){var u=t.props.groupable,l=t.state,c=l.transformOrigin,f=l.offsetMatrix,d=l.is3d,p=l.width,v=l.height,g=l.left,m=l.top,_=s.fixedDirection,b=s.nextTargetMatrix||l.targetMatrix,x=d?4:3,w=HS(i,e,n,p,v,c),E=u?g:0,D=u?m:0,M=$o(f,b,w,x),A=US(r,M,e,n,x,_);return bt(A,[E,D])}function nE(t,e){return Ce(wn(t.state),e)}function rE(t,e){var n=t.targetGesto,r=t.controlGesto,i;return n!=null&&n.isFlag()&&(i=n.getEventData()[e]),!i&&(r!=null&&r.isFlag())&&(i=r.getEventData()[e]),i||{}}function iE(t){if(t&&t.getRootNode){var e=t.getRootNode();if(e.nodeType===11)return e}}function oE(t){var e=t("scale"),n=t("rotate"),r=t("translate"),i=[];return r&&r!=="0px"&&r!=="none"&&i.push("translate(".concat(r.split(/\s+/).join(","),")")),n&&n!=="1"&&n!=="none"&&i.push("rotate(".concat(n,")")),e&&e!=="1"&&e!=="none"&&i.push("scale(".concat(e.split(/\s+/).join(","),")")),i}function Jp(t,e,n){for(var r=t,i=[],s=xl(t)||Rr(t),u=!n&&t===e||t===s,l=u,c=!1,f=3,d,p,v,g=!1,m=ts(e,e,!0).offsetParent,_=1;r&&!l;){l=u;var b=nn(r),x=b("position"),w=Fv(r),E=x==="fixed",D=oE(b),M=Vw(nD(w)),A=void 0,T=!1,O=!1,I=0,k=0,N=0,z=0,G={hasTransform:!1,fixedContainer:null};E&&(g=!0,G=aD(r),m=G.fixedContainer);var Y=M.length;!c&&(Y===16||D.length)&&(c=!0,f=4,yc(i),v&&(v=Gn(v,3,4))),c&&Y===9&&(M=Gn(M,3,4));var X=sD(r,t),K=X.tagName,tt=X.hasOffset,U=X.isSVG,rt=X.origin,nt=X.targetOrigin,H=X.offset,ut=F(H,2),ft=ut[0],at=ut[1];K==="svg"&&!r.ownerSVGElement&&v&&(i.push({type:"target",target:r,matrix:uD(r,f)}),i.push({type:"offset",target:r,matrix:ae(f)}));var lt=parseFloat(b("zoom"))||1;if(E)A=G.fixedContainer,T=!0;else{var ot=ts(r,e,!1,!0,b),dt=ot.offsetZoom;if(A=ot.offsetParent,T=ot.isEnd,O=ot.isStatic,_*=dt,(ot.isCustomElement||dt!==1)&&O)ft-=A.offsetLeft,at-=A.offsetTop;else if(LS||GS){var gt=ot.parentSlotElement;if(gt){for(var Dt=A,jt=0,st=0;Dt&&iE(Dt);)jt+=Dt.offsetLeft,st+=Dt.offsetTop,Dt=Dt.offsetParent;ft-=jt,at-=st}}}if(zp&&!FS&&tt&&!U&&O&&(x==="relative"||x==="static")&&(ft-=A.offsetLeft,at-=A.offsetTop,u=u||T),E)tt&&G.hasTransform&&(N=A.clientLeft,z=A.clientTop);else if(tt&&m!==A&&(I=A.clientLeft,k=A.clientTop),tt&&A===s){var vt=zv(r,!1);ft+=vt[0],at+=vt[1]}if(i.push({type:"target",target:r,matrix:Ko(M,f,rt)}),D.length&&(i.push({type:"offset",target:r,matrix:ae(f)}),i.push({type:"target",target:r,matrix:Ko(Xo(D),f,rt)})),tt){var Ut=r===t,yt=Ut?0:r.scrollLeft,Et=Ut?0:r.scrollTop;i.push({type:"offset",target:r,matrix:ei([ft-yt+I-N,at-Et+k-z],f)})}else i.push({type:"offset",target:r,origin:rt});if(lt!==1&&i.push({type:"zoom",target:r,matrix:Ko(kl([lt,lt],f),f,[0,0])}),v||(v=M),d||(d=rt),p||(p=nt),l||E)break;r=A,u=T,(!n||r===s)&&(l=u)}return v||(v=ae(f)),d||(d=[0,0]),p||(p=[0,0]),{zoom:_,offsetContainer:m,matrixes:i,targetMatrix:v,transformOrigin:d,targetOrigin:p,is3d:c,hasFixed:g}}var ii=null,oi=null,Wi=null;function Yi(t){t?(window.Map&&(ii=new Map,oi=new Map),Wi=[]):(ii=null,Wi=null,oi=null)}function sE(t){var e=oi==null?void 0:oi.get(t);if(e)return e;var n=ns(t,!0);return oi&&oi.set(t,n),n}function aE(t,e){if(Wi){var n=tn(Wi,function(i){return i[0][0]==t&&i[0][1]==e});if(n)return n[1]}var r=Jp(t,e,!0);return Wi&&Wi.push([[t,e],r]),r}function nn(t){var e=ii==null?void 0:ii.get(t);if(!e){var n=Or(t).getComputedStyle(t);if(!ii)return function(s){return n[s]};e={style:n,cached:{}},ii.set(t,e)}var r=e.cached,i=e.style;return function(s){return s in r||(r[s]=i[s]),r[s]}}function Ln(t,e,n){var r=n.originalDatas;r.groupable=r.groupable||{};var i=r.groupable;i.childDatas=i.childDatas||[];var s=i.childDatas;return t.moveables.map(function(u,l){return s[l]=s[l]||{},s[l][e]=s[l][e]||{},B(B({},n),{isRequestChild:!0,datas:s[l][e],originalDatas:s[l]})})}function rc(t,e,n,r,i,s,u){var l=!!n.match(/Start$/g),c=!!n.match(/End$/g),f=i.isPinch,d=i.datas,p=Ln(t,e.name,i),v=t.moveables,g=[],m=p.map(function(_,b){var x=v[b],w=x.state,E=w.gestos,D=_;if(l)D=new zi(u).dragStart(r,_),g.push(D);else{if(E[u]||(E[u]=d.childGestos[b]),!E[u])return;D=Uo(_,w,r,f,s,u),g.push(D)}var M=e[n](x,B(B({},D),{parentFlag:!0}));return c&&(E[u]=null),M});return l&&(d.childGestos=v.map(function(_){return _.state.gestos[u]})),{eventParams:m,childEvents:g}}function lr(t,e,n,r,i,s){i===void 0&&(i=function(d,p){return p});var u=!!n.match(/End$/g),l=Ln(t,e.name,r),c=t.moveables,f=l.map(function(d,p){var v=c[p],g=d;g=i(v,d);var m=e[n](v,B(B({},g),{parentFlag:!0}));return m&&s&&s(v,d,m,p),u&&(v.state.gestos={}),m});return f}function Ma(t,e,n,r){var i=n.fixedDirection,s=n.fixedPosition,u=r.datas.startPositions||wn(e.state),l=Ce(u,i),c=F(We(Wo(-t.rotation/180*Math.PI,3),[l[0]-s[0],l[1]-s[1],1],3),2),f=c[0],d=c[1];return r.datas.originalX=f,r.datas.originalY=d,r}function Kp(t,e,n,r){var i=t.getState(),s=i.renderPoses,u=i.rotation,l=i.direction,c=ai(t.props,e).zoom,f=Jo(u/Math.PI*180),d={},p=t.renderState;p.renderDirectionMap||(p.renderDirectionMap={});var v=p.renderDirectionMap;n.forEach(function(m){var _=m.dir;d[_]=!0});var g=Ue(l);return n.map(function(m){var _=m.data,b=m.classNames,x=m.dir,w=Jl[x];if(!w||!d[x])return null;v[x]=!0;var E=(Mt(f,15)+g*Xp[x]+720)%180,D={};return ar(_).forEach(function(M){D["data-".concat(M)]=_[M]}),r.createElement("div",B({className:_t.apply(void 0,it(["control","direction",x,e],F(b),!1)),"data-rotation":E,"data-direction":x},D,{key:"direction-".concat(x),style:Fa.apply(void 0,it([u,c],F(w.map(function(M){return s[M]})),!1))}))})}function tv(t,e,n,r){var i=ai(t.props,n),s=i.renderDirections,u=s===void 0?e:s,l=i.displayAroundControls;if(!u)return[];var c=u===!0?Ul:u;return it(it([],F(l?iv(t,r,n,c):[]),!1),F(Kp(t,n,c.map(function(f){return{data:{},classNames:[],dir:f}}),r)),!1)}function Qo(t,e,n,r,i,s){for(var u=[],l=6;l<arguments.length;l++)u[l-6]=arguments[l];var c=me(n,r),f=e?Mt(c/Math.PI*180,15)%180:-1;return t.createElement("div",{key:"line-".concat(s),className:_t.apply(void 0,it(["line","direction",e?"edge":"",e],F(u),!1)),"data-rotation":f,"data-line-key":s,"data-direction":e,style:es(n,r,i,c)})}function ev(t,e,n,r,i){var s=n===!0?OS:n;return s.map(function(u,l){var c=F(Jl[u],2),f=c[0],d=c[1];if(d!=null)return Qo(t,u,r[f],r[d],i,"".concat(e,"Edge").concat(l),e)}).filter(Boolean)}function nv(t){return function(e,n){var r=ai(e.props,t).edge;return r&&(r===!0||r.length)?it(it([],F(ev(n,t,r,e.getState().renderPoses,e.props.zoom)),!1),F(uE(e,t,n)),!1):rv(e,t,n)}}function rv(t,e,n){return tv(t,Ul,e,n)}function uE(t,e,n){return tv(t,["nw","ne","sw","se"],e,n)}function iv(t,e,n,r){var i=t.renderState;i.renderDirectionMap||(i.renderDirectionMap={});var s=t.getState(),u=s.renderPoses,l=s.rotation,c=s.direction,f=i.renderDirectionMap,d=t.props.zoom,p=Ue(c),v=l/Math.PI*180;return(r||ar(f)).map(function(g){var m=Jl[g];if(!m)return null;var _=(Mt(v,15)+p*Xp[g]+720)%180,b=["around-control"];return n&&b.push("direction",n),e.createElement("div",{className:_t.apply(void 0,it([],F(b),!1)),"data-rotation":_,"data-direction":g,key:"direction-around-".concat(g),style:Fa.apply(void 0,it([l,d],F(m.map(function(x){return u[x]})),!1))})})}function ic(t,e,n){var r=t||{},i=r.position,s=i===void 0?"client":i,u=r.left,l=u===void 0?-1/0:u,c=r.top,f=c===void 0?-1/0:c,d=r.right,p=d===void 0?1/0:d,v=r.bottom,g=v===void 0?1/0:v,m={position:s,left:l,top:f,right:p,bottom:g};return{vertical:ov(m,e,!0),horizontal:ov(m,n,!1)}}function Ra(t,e){var n=t.state,r=n.containerClientRect,i=r.clientHeight,s=r.clientWidth,u=r.clientLeft,l=r.clientTop,c=n.snapOffset,f=c.left,d=c.top,p=c.right,v=c.bottom,g=e||t.props.bounds||{},m=g.position||"client",_=m==="css",b=g.left,x=b===void 0?-1/0:b,w=g.top,E=w===void 0?-1/0:w,D=g.right,M=D===void 0?_?-1/0:1/0:D,A=g.bottom,T=A===void 0?_?-1/0:1/0:A;return _&&(M=s+p-f-M,T=i+v-d-T),{left:x+f-u,right:M+f-u,top:E+d-l,bottom:T+d-l}}function lE(t,e,n){var r=Ra(t),i=r.left,s=r.top,u=r.right,l=r.bottom,c=F(n,2),f=c[0],d=c[1],p=F(bt(n,e),2),v=p[0],g=p[1];Z(v)<qe&&(v=0),Z(g)<qe&&(g=0);var m=g>0,_=v>0,b={isBound:!1,offset:0,pos:0},x={isBound:!1,offset:0,pos:0};if(v===0&&g===0)return{vertical:b,horizontal:x};if(v===0)m?l<d&&(x.pos=l,x.offset=d-l):s>d&&(x.pos=s,x.offset=d-s);else if(g===0)_?u<f&&(b.pos=u,b.offset=f-u):i>f&&(b.pos=i,b.offset=f-i);else{var w=g/v,E=n[1]-w*f,D=0,M=0,A=!1;_&&u<=f?(D=w*u+E,M=u,A=!0):!_&&f<=i&&(D=w*i+E,M=i,A=!0),A&&(D<s||D>l)&&(A=!1),A||(m&&l<=d?(D=l,M=(D-E)/w,A=!0):!m&&d<=s&&(D=s,M=(D-E)/w,A=!0)),A&&(b.isBound=!0,b.pos=M,b.offset=f-M,x.isBound=!0,x.pos=D,x.offset=d-D)}return{vertical:b,horizontal:x}}function ov(t,e,n){var r=t[n?"left":"top"],i=t[n?"right":"bottom"],s=Math.min.apply(Math,it([],F(e),!1)),u=Math.max.apply(Math,it([],F(e),!1)),l=[];return r+1>s&&l.push({direction:"start",isBound:!0,offset:s-r,pos:r}),i-1<u&&l.push({direction:"end",isBound:!0,offset:u-i,pos:i}),l.length||l.push({isBound:!1,offset:0,pos:0}),l.sort(function(c,f){return Z(f.offset)-Z(c.offset)})}function sv(t,e,n){var r=n?t.map(function(i){return jo(i,n)}):t;return r.some(function(i){return i[0]<e.left&&Z(i[0]-e.left)>.1||i[0]>e.right&&Z(i[0]-e.right)>.1||i[1]<e.top&&Z(i[1]-e.top)>.1||i[1]>e.bottom&&Z(i[1]-e.bottom)>.1})}function cE(t,e,n){var r=xn(t),i=Math.sqrt(r*r-e*e)||0;return[i,-i].sort(function(s,u){return Z(s-t[n?0:1])-Z(u-t[n?0:1])}).map(function(s){return me([0,0],n?[s,e]:[e,s])})}function fE(t,e,n,r,i){if(!t.props.bounds)return[];var s=i*Math.PI/180,u=Ra(t),l=u.left,c=u.top,f=u.right,d=u.bottom,p=l-r[0],v=f-r[0],g=c-r[1],m=d-r[1],_={left:p,top:g,right:v,bottom:m};if(!sv(n,_,0))return[];var b=[];return[[p,0],[v,0],[g,1],[m,1]].forEach(function(x){var w=F(x,2),E=w[0],D=w[1];n.forEach(function(M){var A=me([0,0],M);b.push.apply(b,it([],F(cE(M,E,D).map(function(T){return s+T-A}).filter(function(T){return!sv(e,_,T)}).map(function(T){return Mt(T*180/Math.PI,qe)})),!1))})}),b}var hE=["left","right","center"],dE=["top","bottom","middle"],av={left:"start",right:"end",center:"center",top:"start",bottom:"end",middle:"center"},Tr={start:"left",end:"right",center:"center"},Ir={start:"top",end:"bottom",center:"middle"};function Xi(){return{left:!1,top:!1,right:!1,bottom:!1}}function qi(t,e){var n=t.props,r=n.snappable,i=n.bounds,s=n.innerBounds,u=n.verticalGuidelines,l=n.horizontalGuidelines,c=n.snapGridWidth,f=n.snapGridHeight,d=t.state,p=d.guidelines,v=d.enableSnap;return!r||!v||e&&r!==!0&&r.indexOf(e)<0?!1:!!(c||f||i||s||p&&p.length||u&&u.length||l&&l.length)}function oc(t){return t===!1?{}:t===!0||!t?{left:!0,right:!0,top:!0,bottom:!0}:t}function pE(t,e){var n=oc(t),r={};for(var i in n)i in e&&n[i]&&(r[i]=e[i]);return r}function sc(t,e){var n=pE(t,e),r=dE.filter(function(s){return s in n}),i=hE.filter(function(s){return s in n});return{horizontalNames:r,verticalNames:i,horizontal:r.map(function(s){return n[s]}),vertical:i.map(function(s){return n[s]})}}function vE(t,e,n){var r=he(t,[e.clientLeft,e.clientTop],n);return[e.left+r[0],e.top+r[1]]}function gE(t){var e=F(t,2),n=e[0],r=e[1],i=r[0]-n[0],s=r[1]-n[1];Math.abs(i)<we&&(i=0),Math.abs(s)<we&&(s=0);var u=0,l=0,c=0;return i?s?(u=-s/i,l=1,c=u*n[0]-n[1]):(l=1,c=-n[1]):(u=-1,c=n[0]),[u,l,c].map(function(f){return Mt(f,we)})}var uv="snapRotationThreshold",lv="snapRotationDegrees",cv="snapHorizontalThreshold",fv="snapVerticalThreshold";function Oa(t,e,n,r,i,s,u){var l;r===void 0&&(r=[]),i===void 0&&(i=[]);var c=t.props,f=((l=t.state.snapThresholdInfo)===null||l===void 0?void 0:l.multiples)||[1,1],d=Uv(u,c[cv],5),p=Uv(s,c[fv],5);return hv(t.state.guidelines,e,n,r,i,d,p,f)}function hv(t,e,n,r,i,s,u,l){return{vertical:pv(t,"vertical",e,u*l[0],r),horizontal:pv(t,"horizontal",n,s*l[1],i)}}function mE(t,e,n){var r=F(n,2),i=r[0],s=r[1],u=F(e,2),l=u[0],c=u[1],f=F(bt(n,e),2),d=f[0],p=f[1],v=p>0,g=d>0;d=Wa(d),p=Wa(p);var m={isSnap:!1,offset:0,pos:0},_={isSnap:!1,offset:0,pos:0};if(d===0&&p===0)return{vertical:m,horizontal:_};var b=Oa(t,d?[i]:[],p?[s]:[],[],[],void 0,void 0),x=b.vertical,w=b.horizontal;x.posInfos.filter(function(K){var tt=K.pos;return g?tt>=l:tt<=l}),w.posInfos.filter(function(K){var tt=K.pos;return v?tt>=c:tt<=c}),x.isSnap=x.posInfos.length>0,w.isSnap=w.posInfos.length>0;var E=ac(x),D=E.isSnap,M=E.guideline,A=ac(w),T=A.isSnap,O=A.guideline,I=T?O.pos[1]:0,k=D?M.pos[0]:0;if(d===0)T&&(_.isSnap=!0,_.pos=O.pos[1],_.offset=s-_.pos);else if(p===0)D&&(m.isSnap=!0,m.pos=k,m.offset=i-k);else{var N=p/d,z=n[1]-N*i,G=0,Y=0,X=!1;D?(Y=k,G=N*Y+z,X=!0):T&&(G=I,Y=(G-z)/N,X=!0),X&&(m.isSnap=!0,m.pos=Y,m.offset=i-Y,_.isSnap=!0,_.pos=G,_.offset=s-G)}return{vertical:m,horizontal:_}}function Pr(t){var e="";return t===-1||t==="top"||t==="left"?e="start":t===0||t==="center"||t==="middle"?e="center":(t===1||t==="right"||t==="bottom")&&(e="end"),e}function dv(t,e,n,r){var i=sc(t.props.snapDirections,e),s=Oa(t,i.vertical,i.horizontal,i.verticalNames.map(function(c){return Pr(c)}),i.horizontalNames.map(function(c){return Pr(c)}),n,r),u=Pr(i.horizontalNames[s.horizontal.index]),l=Pr(i.verticalNames[s.vertical.index]);return{vertical:B(B({},s.vertical),{direction:l}),horizontal:B(B({},s.horizontal),{direction:u})}}function ac(t){var e=t.isSnap;if(!e)return{isSnap:!1,offset:0,dist:-1,pos:0,guideline:null};var n=t.posInfos[0],r=n.guidelineInfos[0],i=r.offset,s=r.dist,u=r.guideline;return{isSnap:e,offset:i,dist:s,pos:n.pos,guideline:u}}function pv(t,e,n,r,i){var s,u;if(i===void 0&&(i=[]),!t||!t.length)return{isSnap:!1,index:-1,direction:"",posInfos:[]};var l=e==="vertical",c=l?0:1,f=n.map(function(p,v){var g=i[v]||"",m=t.map(function(_){var b=_.pos,x=p-b[c];return{offset:x,dist:Z(x),guideline:_,direction:g}}).filter(function(_){var b=_.guideline,x=_.dist,w=b.type;return!(w!==e||x>r)}).sort(function(_,b){return _.dist-b.dist});return{pos:p,index:v,guidelineInfos:m,direction:g}}).filter(function(p){return p.guidelineInfos.length>0}).sort(function(p,v){return p.guidelineInfos[0].dist-v.guidelineInfos[0].dist}),d=f.length>0;return{isSnap:d,index:d?f[0].index:-1,direction:(u=(s=f[0])===null||s===void 0?void 0:s.direction)!==null&&u!==void 0?u:"",posInfos:f}}function _E(t,e,n,r,i){var s=[];n[0]&&n[1]?s=[n,[-n[0],n[1]],[n[0],-n[1]]]:!n[0]&&!n[1]?[[-1,-1],[1,-1],[1,1],[-1,1]].forEach(function(v,g,m){var _=m[g+1]||m[0];s.push(v),s.push([(v[0]+_[0])/2,(v[1]+_[1])/2])}):t.props.keepRatio?s.push([-1,-1],[-1,1],[1,-1],[1,1],n):(s.push.apply(s,it([],F(VS([[-1,-1],[1,-1],[-1,-1],[1,1]],n)),!1)),s.length>1&&s.push([(s[0][0]+s[1][0])/2,(s[0][1]+s[1][1])/2]));var u=s.map(function(v){return Ce(e,v)}),l=u.map(function(v){return v[0]}),c=u.map(function(v){return v[1]}),f=Oa(t,l,c,s.map(function(v){return Pr(v[0])}),s.map(function(v){return Pr(v[1])}),r,i),d=Pr(s.map(function(v){return v[0]})[f.vertical.index]),p=Pr(s.map(function(v){return v[1]})[f.horizontal.index]);return{vertical:B(B({},f.vertical),{direction:d}),horizontal:B(B({},f.horizontal),{direction:p})}}function vv(t,e){var n=Z(t.offset),r=Z(e.offset);return t.isBound&&e.isBound?r-n:t.isBound?-1:e.isBound?1:t.isSnap&&e.isSnap?r-n:t.isSnap?-1:e.isSnap||n<qe?1:r<qe?-1:n-r}function Ta(t,e){return t.slice().sort(function(n,r){var i=n.sign[e],s=r.sign[e],u=n.offset[e],l=r.offset[e];if(i){if(!s)return-1}else return 1;return vv({isBound:n.isBound,isSnap:n.isSnap,offset:u},{isBound:r.isBound,isSnap:r.isSnap,offset:l})})[0]}function yE(t,e,n){var r=[];if(n)Z(e[0])!==1||Z(e[1])!==1?r.push([e,[-1,-1]],[e,[-1,1]],[e,[1,-1]],[e,[1,1]]):r.push([e,[t[0],-t[1]]],[e,[-t[0],t[1]]]),r.push([e,t]);else if(t[0]&&t[1]||!t[0]&&!t[1]){var i=t[0]?t:[1,1];[1,-1].forEach(function(u){[1,-1].forEach(function(l){var c=[u*i[0],l*i[1]];e[0]===c[0]&&e[1]===c[1]||r.push([e,c])})})}else if(t[0]){var s=Z(e[0])===1?[1]:[1,-1];s.forEach(function(u){r.push([[e[0],-1],[u*t[0],-1]],[[e[0],0],[u*t[0],0]],[[e[0],1],[u*t[0],1]])})}else if(t[1]){var s=Z(e[1])===1?[1]:[1,-1];s.forEach(function(l){r.push([[-1,e[1]],[-1,l*t[1]]],[[0,e[1]],[0,l*t[1]]],[[1,e[1]],[1,l*t[1]]])})}return r}function gv(t,e){var n=bl([e[0][0],e[1][0]]),r=bl([e[0][1],e[1][1]]);return{vertical:n<=t[0],horizontal:r<=t[1]}}function uc(t,e){var n=F(e,2),r=n[0],i=n[1],s=i[0]-r[0],u=i[1]-r[1];Z(s)<qe&&(s=0),Z(u)<qe&&(u=0);var l,c;if(!s)l=r[0],c=t[0];else if(!u)l=r[1],c=t[1];else{var f=u/s;l=f*(t[0]-r[0])+r[1],c=t[1]}return l-c}function mv(t,e,n,r){return r===void 0&&(r=qe),t.every(function(i){var s=uc(i,e),u=s<=0;return u===n||Z(s)<=r})}function _v(t,e,n,r,i){return i===void 0&&(i=0),r&&e-i<=t||!r&&t<=n+i?{isBound:!0,offset:r?e-t:n-t}:{isBound:!1,offset:0}}function bE(t,e){var n=e.line,r=e.centerSign,i=e.verticalSign,s=e.horizontalSign,u=e.lineConstants,l=t.props.innerBounds;if(!l)return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var c=l.left,f=l.top,d=l.width,p=l.height,v=[[c,f],[c,f+p]],g=[[c,f],[c+d,f]],m=[[c+d,f],[c+d,f+p]],_=[[c,f+p],[c+d,f+p]];if(mv([[c,f],[c+d,f],[c,f+p],[c+d,f+p]],n,r))return{isAllBound:!1,isBound:!1,isVerticalBound:!1,isHorizontalBound:!1,offset:[0,0]};var b=kr(n,u,g,i),x=kr(n,u,_,i),w=kr(n,u,v,s),E=kr(n,u,m,s),D=b.isBound&&x.isBound,M=b.isBound||x.isBound,A=w.isBound&&E.isBound,T=w.isBound||E.isBound,O=Vi(b.offset,x.offset),I=Vi(w.offset,E.offset),k=[0,0],N=!1,z=!1;return Z(I)<Z(O)?(k=[O,0],N=M,z=D):(k=[0,I],N=T,z=A),{isAllBound:z,isVerticalBound:M,isHorizontalBound:T,isBound:N,offset:k}}function kr(t,e,n,r,i,s){var u=F(e,2),l=u[0],c=u[1],f=t[0],d=n[0],p=n[1],v=Wa(p[1]-d[1]),g=Wa(p[0]-d[0]),m=c,_=l,b=-l/c;if(g){if(!v){if(s&&!m)return{isBound:!1,offset:0};if(_){var x=(d[1]-f[1])/b+f[0];return _v(x,d[0],p[0],r,i)}else{var w=d[1]-f[1],E=Z(w)<=(i||0);return{isBound:E,offset:E?w:0}}}}else{if(s&&!_)return{isBound:!1,offset:0};if(m){var D=b*(d[0]-f[0])+f[1];return _v(D,d[1],p[1],r,i)}else{var w=d[0]-f[0],E=Z(w)<=(i||0);return{isBound:E,offset:E?w:0}}}return{isBound:!1,offset:0}}function yv(t,e,n){return e.map(function(r){var i=bE(t,r),s=i.isBound,u=i.offset,l=i.isVerticalBound,c=i.isHorizontalBound,f=r.multiple,d=Un({datas:n,distX:u[0],distY:u[1]}).map(function(p,v){return p*(f[v]?2/f[v]:0)});return{sign:f,isBound:s,isVerticalBound:l,isHorizontalBound:c,isSnap:!1,offset:d}})}function xE(t,e,n){var r,i=lc(t,e,[0,0],!1).map(function(v){return B(B({},v),{multiple:v.multiple.map(function(g){return Z(g)*2})})}),s=yv(t,i,n),u=Ta(s,0),l=Ta(s,1),c=0,f=0,d=u.isVerticalBound||l.isVerticalBound,p=u.isHorizontalBound||l.isHorizontalBound;return(d||p)&&(r=F(qS({datas:n,distX:-u.offset[0],distY:-l.offset[1]}),2),c=r[0],f=r[1]),{vertical:{isBound:d,offset:c},horizontal:{isBound:p,offset:f}}}function wE(t,e){var n=[],r=t[0],i=t[1];return r&&i?n.push([[0,i*2],t,[-r,i]],[[r*2,0],t,[r,-i]]):r?(n.push([[r*2,0],[r,1],[r,-1]]),e&&n.push([[0,-1],[r,-1],[-r,-1]],[[0,1],[r,1],[-r,1]])):i?(n.push([[0,i*2],[1,i],[-1,i]]),e&&n.push([[-1,0],[-1,i],[-1,-i]],[[1,0],[1,i],[1,-i]])):n.push([[-1,0],[-1,-1],[-1,1]],[[1,0],[1,-1],[1,1]],[[0,-1],[-1,-1],[1,-1]],[[0,1],[-1,1],[1,1]]),n}function lc(t,e,n,r){var i=t.state,s=i.allMatrix,u=i.is3d,l=si(s,100,100,u?4:3),c=Ce(l,[0,0]);return wE(n,r).map(function(f){var d=F(f,3),p=d[0],v=d[1],g=d[2],m=[Ce(l,v),Ce(l,g)],_=gE(m),b=gv(c,m),x=b.vertical,w=b.horizontal,E=uc(c,m)<=0;return{multiple:p,centerSign:E,verticalSign:x,horizontalSign:w,lineConstants:_,line:[Ce(e,v),Ce(e,g)]}})}function bv(t,e,n,r){var i=r?t.map(function(s){return jo(s,r)}):t;return[[i[0],i[1]],[i[1],i[3]],[i[3],i[2]],[i[2],i[0]]].some(function(s){var u=uc(n,s)<=0;return!mv(e,s,u)})}function SE(t){var e=F(t,2),n=e[0],r=e[1],i=r[0]-n[0],s=r[1]-n[1];if(!i)return Z(n[0]);if(!s)return Z(n[1]);var u=s/i;return Z((-u*n[0]+n[1])/Math.sqrt(Math.pow(u,2)+1))}function EE(t){var e=F(t,2),n=e[0],r=e[1],i=r[0]-n[0],s=r[1]-n[1];if(!i)return[n[0],0];if(!s)return[0,n[1]];var u=s/i,l=-u*n[0]+n[1];return[-l/(u+1/u),l/(u*u+1)]}function DE(t,e,n,r,i){var s=t.props.innerBounds,u=i*Math.PI/180;if(!s)return[];var l=s.left,c=s.top,f=s.width,d=s.height,p=l-r[0],v=l+f-r[0],g=c-r[1],m=c+d-r[1],_=[[p,g],[v,g],[p,m],[v,m]],b=Ce(n,[0,0]);if(!bv(n,_,b,0))return[];var x=[],w=_.map(function(E){return[xn(E),me([0,0],E)]});return[[n[0],n[1]],[n[1],n[3]],[n[3],n[2]],[n[2],n[0]]].forEach(function(E){var D=me([0,0],EE(E)),M=SE(E);x.push.apply(x,it([],F(w.filter(function(A){var T=F(A,1),O=T[0];return O&&M<=O}).map(function(A){var T=F(A,2),O=T[0],I=T[1],k=Math.acos(O?M/O:0),N=I+k,z=I-k;return[u+N-D,u+z-D]}).reduce(function(A,T){return A.push.apply(A,it([],F(T),!1)),A},[]).filter(function(A){return!bv(e,_,b,A)}).map(function(A){return Mt(A*180/Math.PI,qe)})),!1))}),x}function AE(t){var e=t.props.innerBounds,n=Xi();if(!e)return{boundMap:n,vertical:[],horizontal:[]};var r=t.getRect(),i=r.pos1,s=r.pos2,u=r.pos3,l=r.pos4,c=[i,s,u,l],f=Ce(c,[0,0]),d=e.left,p=e.top,v=e.width,g=e.height,m=[[d,p],[d,p+g]],_=[[d,p],[d+v,p]],b=[[d+v,p],[d+v,p+g]],x=[[d,p+g],[d+v,p+g]],w=lc(t,c,[0,0],!1),E=[],D=[];return w.forEach(function(M){var A=M.line,T=M.lineConstants,O=gv(f,A),I=O.horizontal,k=O.vertical,N=kr(A,T,_,k,1,!0),z=kr(A,T,x,k,1,!0),G=kr(A,T,m,I,1,!0),Y=kr(A,T,b,I,1,!0);N.isBound&&!n.top&&(E.push(p),n.top=!0),z.isBound&&!n.bottom&&(E.push(p+g),n.bottom=!0),G.isBound&&!n.left&&(D.push(d),n.left=!0),Y.isBound&&!n.right&&(D.push(d+v),n.right=!0)}),{boundMap:n,horizontal:E,vertical:D}}function CE(t,e,n,r){var i=e[0]-t[0],s=e[1]-t[1];if(Z(i)<we&&(i=0),Z(s)<we&&(s=0),!i)return r?[0,0]:[0,n];if(!s)return r?[n,0]:[0,0];var u=s/i,l=t[1]-u*t[0];if(r){var c=u*(e[0]+n)+l;return[n,c-e[1]]}else{var f=(e[1]+n-l)/u;return[f-e[0],n]}}function cc(t,e,n,r,i){var s=CE(t,e,n,r);if(!s)return{isOutside:!1,offset:[0,0]};var u=ur(t,e),l=ur(s,t),c=ur(s,e),f=l>u||c>u,d=F(Un({datas:i,distX:s[0],distY:s[1]}),2),p=d[0],v=d[1];return{offset:[p,v],isOutside:f}}function Ia(t,e){return t.isBound?t.offset:e.isSnap?ac(e).offset:0}function ME(t,e,n,r,i){var s=F(e,2),u=s[0],l=s[1],c=F(n,2),f=c[0],d=c[1],p=F(r,2),v=p[0],g=p[1],m=F(i,2),_=m[0],b=m[1],x=-_,w=-b;if(t&&u&&l){x=0,w=0;var E=[];if(f&&d?E.push([0,b],[_,0]):f?E.push([_,0]):d?E.push([0,b]):v&&g?E.push([0,b],[_,0]):v?E.push([_,0]):g&&E.push([0,b]),E.length){E.sort(function(T,O){return xn(bt([u,l],T))-xn(bt([u,l],O))});var D=E[0];if(D[0]&&Z(u)>we)x=-D[0],w=l*Z(u+x)/Z(u)-l;else if(D[1]&&Z(l)>we){var M=l;w=-D[1],x=u*Z(l+w)/Z(M)-u}if(t&&d&&f)if(Z(x)>we&&Z(x)<Z(_)){var A=Z(_)/Z(x);x*=A,w*=A}else if(Z(w)>we&&Z(w)<Z(b)){var A=Z(b)/Z(w);x*=A,w*=A}else x=Vi(-_,x),w=Vi(-b,w)}}else x=u||f?-_:0,w=l||d?-b:0;return[x,w]}function RE(t,e,n,r,i,s){if(!qi(t,"draggable"))return[{isSnap:!1,isBound:!1,offset:0},{isSnap:!1,isBound:!1,offset:0}];var u=wc(s.absolutePoses,[e,n]),l=bn(u),c=l.left,f=l.right,d=l.top,p=l.bottom,v={horizontal:u.map(function(Y){return Y[1]}),vertical:u.map(function(Y){return Y[0]})},g=oc(t.props.snapDirections),m=sc(g,{left:c,right:f,top:d,bottom:p,center:(c+f)/2,middle:(d+p)/2}),_=Pa(t,i,m,v),b=_.vertical,x=_.horizontal,w=xE(t,u,s),E=w.vertical,D=w.horizontal,M=b.isSnap,A=x.isSnap,T=b.isBound||E.isBound,O=x.isBound||D.isBound,I=Vi(b.offset,E.offset),k=Vi(x.offset,D.offset),N=F(ME(r,[e,n],[T,O],[M,A],[I,k]),2),z=N[0],G=N[1];return[{isBound:T,isSnap:M,offset:z},{isBound:O,isSnap:A,offset:G}]}function Pa(t,e,n,r){r===void 0&&(r=n);var i=ic(Ra(t),r.vertical,r.horizontal),s=i.horizontal,u=i.vertical,l=e?{horizontal:{isSnap:!1,index:-1},vertical:{isSnap:!1,index:-1}}:Oa(t,n.vertical,n.horizontal,void 0,void 0,void 0,void 0),c=l.horizontal,f=l.vertical,d=Ia(s[0],c),p=Ia(u[0],f),v=Z(d),g=Z(p);return{horizontal:{isBound:s[0].isBound,isSnap:c.isSnap,snapIndex:c.index,offset:d,dist:v,bounds:s,snap:c},vertical:{isBound:u[0].isBound,isSnap:f.isSnap,snapIndex:f.index,offset:p,dist:g,bounds:u,snap:f}}}function xv(t,e,n,r,i,s,u){u===void 0&&(u=[1,1]);var l=ic(e,n,r),c=l.horizontal,f=l.vertical,d=hv(t,n,r,[],[],i,s,u),p=d.horizontal,v=d.vertical,g=Ia(c[0],p),m=Ia(f[0],v),_=Z(g),b=Z(m);return{horizontal:{isBound:c[0].isBound,isSnap:p.isSnap,snapIndex:p.index,offset:g,dist:_,bounds:c,snap:p},vertical:{isBound:f[0].isBound,isSnap:v.isSnap,snapIndex:v.index,offset:m,dist:b,bounds:f,snap:v}}}function OE(t,e,n,r){var i=me(t,e)/Math.PI*180,s=n.vertical,u=s.isBound,l=s.isSnap,c=s.dist,f=n.horizontal,d=f.isBound,p=f.isSnap,v=f.dist,g=i%180,m=g<3||g>177,_=g>87&&g<93;return v<c&&(u||l&&!_&&(!r||!m))?"vertical":d||p&&!m&&(!r||!_)?"horizontal":""}function TE(t,e,n,r,i,s){return n.map(function(u){var l=F(u,2),c=l[0],f=l[1],d=Ce(e,c),p=Ce(e,f),v=r?IE(t,d,p,i):Pa(t,i,{vertical:[p[0]],horizontal:[p[1]]}),g=v.horizontal,m=g.offset,_=g.isBound,b=g.isSnap,x=v.vertical,w=x.offset,E=x.isBound,D=x.isSnap,M=bt(f,c);if(!w&&!m)return{isBound:E||_,isSnap:D||b,sign:M,offset:[0,0]};var A=OE(d,p,v,r);if(!A)return{sign:M,isBound:!1,isSnap:!1,offset:[0,0]};var T=A==="vertical",O=[0,0];return!r&&Z(f[0])===1&&Z(f[1])===1&&c[0]!==f[0]&&c[1]!==f[1]?O=Un({datas:s,distX:-w,distY:-m}):O=cc(d,p,-(T?w:m),T,s).offset,O=O.map(function(I,k){return I*(M[k]?2/M[k]:0)}),{sign:M,isBound:T?E:_,isSnap:T?D:b,offset:O}})}function wv(t,e){return t.isBound?t.offset:e.isSnap?e.offset:0}function IE(t,e,n,r){var i=lE(t,e,n),s=i.horizontal,u=i.vertical,l=r?{horizontal:{isSnap:!1},vertical:{isSnap:!1}}:mE(t,e,n),c=l.horizontal,f=l.vertical,d=wv(s,c),p=wv(u,f),v=Z(d),g=Z(p);return{horizontal:{isBound:s.isBound,isSnap:c.isSnap,offset:d,dist:v},vertical:{isBound:u.isBound,isSnap:f.isSnap,offset:p,dist:g}}}function PE(t,e,n,r,i){var s=[-n[0],-n[1]],u=t.state,l=u.width,c=u.height,f=t.props.bounds,d=1/0,p=1/0;if(f){var v=[[n[0],-n[1]],[-n[0],n[1]]],g=f.left,m=g===void 0?-1/0:g,_=f.top,b=_===void 0?-1/0:_,x=f.right,w=x===void 0?1/0:x,E=f.bottom,D=E===void 0?1/0:E;v.forEach(function(M){var A=M[0]!==s[0],T=M[1]!==s[1],O=Ce(e,M),I=me(r,O)*360/Math.PI;if(T){var k=O.slice();(Z(I-360)<2||Z(I-180)<2)&&(k[1]=r[1]);var N=cc(r,k,(r[1]<O[1]?D:b)-O[1],!1,i),z=F(N.offset,2),G=z[1],Y=N.isOutside;isNaN(G)||(p=c+(Y?1:-1)*Z(G))}if(A){var k=O.slice();(Z(I-90)<2||Z(I-270)<2)&&(k[0]=r[0]);var X=cc(r,k,(r[0]<O[0]?w:m)-O[0],!0,i),K=F(X.offset,1),tt=K[0],U=X.isOutside;isNaN(tt)||(d=l+(U?1:-1)*Z(tt))}})}return{maxWidth:d,maxHeight:p}}var He={name:"draggable",props:["draggable","throttleDrag","throttleDragRotate","hideThrottleDragRotateLine","startDragRotate","edgeDraggable"],events:["dragStart","drag","dragEnd","dragGroupStart","dragGroup","dragGroupEnd"],requestStyle:function(){return["left","top","right","bottom"]},requestChildStyle:function(){return["left","top","right","bottom"]},render:function(t,e){var n=t.props,r=n.hideThrottleDragRotateLine,i=n.throttleDragRotate,s=n.zoom,u=t.getState(),l=u.dragInfo,c=u.beforeOrigin;if(r||!i||!l)return[];var f=l.dist;if(!f[0]&&!f[1])return[];var d=xn(f),p=me(f,[0,0]);return[e.createElement("div",{className:_t("line","horizontal","dragline","dashed"),key:"dragRotateGuideline",style:{width:"".concat(d,"px"),transform:"translate(".concat(c[0],"px, ").concat(c[1],"px) rotate(").concat(p,"rad) scaleY(").concat(s,")")}})]},dragStart:function(t,e){var n=e.datas,r=e.parentEvent,i=e.parentGesto,s=t.state,u=s.gestos,l=s.style;if(u.draggable)return!1;u.draggable=i||t.targetGesto,n.datas={},n.left=parseFloat(l.left||"")||0,n.top=parseFloat(l.top||"")||0,n.bottom=parseFloat(l.bottom||"")||0,n.right=parseFloat(l.right||"")||0,n.startValue=[0,0],ri(t,e),Ea(t,e,"translate"),JE(t,n),n.prevDist=[0,0],n.prevBeforeDist=[0,0],n.isDrag=!1,n.deltaOffset=[0,0];var c=It(t,e,B({set:function(d){n.startValue=d}},Sa(t,e))),f=r||ht(t,"onDragStart",c);return f!==!1?(n.isDrag=!0,t.state.dragInfo={startRect:t.getRect(),dist:[0,0]}):(u.draggable=null,n.isPinch=!1),n.isDrag?c:!1},drag:function(t,e){if(e){xa(t,e,"translate");var n=e.datas,r=e.parentEvent,i=e.parentFlag,s=e.isPinch,u=e.deltaOffset,l=e.useSnap,c=e.isRequest,f=e.isGroup,d=e.parentThrottleDrag,p=e.distX,v=e.distY,g=n.isDrag,m=n.prevDist,_=n.prevBeforeDist,b=n.startValue;if(g){u&&(p+=u[0],v+=u[1]);var x=t.props,w=x.parentMoveable,E=f?0:x.throttleDrag||d||0,D=r?0:x.throttleDragRotate||0,M=0,A=!1,T=!1,O=!1,I=!1;if(!r&&D>0&&(p||v)){var k=x.startDragRotate||0,N=Mt(k+me([0,0],[p,v])*180/Math.PI,D)-k,z=v*Math.abs(Math.cos((N-90)/180*Math.PI)),G=p*Math.abs(Math.cos(N/180*Math.PI)),Y=xn([G,z]);M=N*Math.PI/180,p=Y*Math.cos(M),v=Y*Math.sin(M)}if(!s&&!r&&!i){var X=F(RE(t,p,v,D,!l&&c||u,n),2),K=X[0],tt=X[1];A=K.isSnap,T=K.isBound,O=tt.isSnap,I=tt.isBound;var U=K.offset,rt=tt.offset;p+=U,v+=rt}var nt=Vt(Up({datas:n,distX:p,distY:v}),b),H=Vt(XS({datas:n,distX:p,distY:v}),b);$d(H,qe),$d(nt,qe),D||(!A&&!T&&(H[0]=Mt(H[0],E),nt[0]=Mt(nt[0],E)),!O&&!I&&(H[1]=Mt(H[1],E),nt[1]=Mt(nt[1],E)));var ut=bt(nt,b),ft=bt(H,b),at=bt(ft,m),lt=bt(ut,_);n.prevDist=ft,n.prevBeforeDist=ut,n.passDelta=at,n.passDist=ft;var ot=n.left+ut[0],dt=n.top+ut[1],gt=n.right-ut[0],Dt=n.bottom-ut[1],jt=wa(n,"translate(".concat(H[0],"px, ").concat(H[1],"px)"),"translate(".concat(ft[0],"px, ").concat(ft[1],"px)"));if(ec(e,jt),t.state.dragInfo.dist=r?[0,0]:ft,!(!r&&!w&&at.every(function(Et){return!Et})&&lt.some(function(Et){return!Et}))){var st=t.state,vt=st.width,Ut=st.height,yt=It(t,e,B({transform:jt,dist:ft,delta:at,translate:H,beforeDist:ut,beforeDelta:lt,beforeTranslate:nt,left:ot,top:dt,right:gt,bottom:Dt,width:vt,height:Ut,isPinch:s},Ve({transform:jt},e)));return!r&&ht(t,"onDrag",yt),yt}}}},dragAfter:function(t,e){var n=e.datas,r=n.deltaOffset;return r[0]||r[1]?(n.deltaOffset=[0,0],this.drag(t,B(B({},e),{deltaOffset:r}))):!1},dragEnd:function(t,e){var n=e.parentEvent,r=e.datas;if(t.state.dragInfo=null,!!r.isDrag){r.isDrag=!1;var i=cn(t,e,{});return!n&&ht(t,"onDragEnd",i),i}},dragGroupStart:function(t,e){var n,r,i=e.datas,s=e.clientX,u=e.clientY,l=this.dragStart(t,e);if(!l)return!1;var c=rc(t,this,"dragStart",[s||0,u||0],e,!1,"draggable"),f=c.childEvents,d=c.eventParams,p=B(B({},l),{targets:t.props.targets,events:d}),v=ht(t,"onDragGroupStart",p);i.isDrag=v!==!1;var g=(r=(n=f[0])===null||n===void 0?void 0:n.datas.startValue)!==null&&r!==void 0?r:[0,0];return i.throttleOffset=[g[0]%1,g[1]%1],i.isDrag?l:!1},dragGroup:function(t,e){var n=e.datas;if(n.isDrag){var r=this.drag(t,B(B({},e),{parentThrottleDrag:t.props.throttleDrag})),i=e.datas.passDelta,s=rc(t,this,"drag",i,e,!1,"draggable").eventParams;if(r){var u=B({targets:t.props.targets,events:s},r);return ht(t,"onDragGroup",u),u}}},dragGroupEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isDrag){this.dragEnd(t,e);var i=rc(t,this,"dragEnd",[0,0],e,!1,"draggable").eventParams;return ht(t,"onDragGroupEnd",cn(t,e,{targets:t.props.targets,events:i})),n}},request:function(t){var e={},n=t.getRect(),r=0,i=0,s=!1;return{isControl:!1,requestStart:function(u){return s=u.useSnap,{datas:e,useSnap:s}},request:function(u){return"x"in u?r=u.x-n.left:"deltaX"in u&&(r+=u.deltaX),"y"in u?i=u.y-n.top:"deltaY"in u&&(i+=u.deltaY),{datas:e,distX:r,distY:i,useSnap:s}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:s}}}},unset:function(t){t.state.gestos.draggable=null,t.state.dragInfo=null}};function Sv(t,e){var n=Ce(t,e),r=[0,0];return{fixedPosition:n,fixedDirection:e,fixedOffset:r}}function kE(t,e){var n=t.allMatrix,r=t.is3d,i=t.width,s=t.height,u=r?4:3,l=[i/2*(1+e[0]),s/2*(1+e[1])],c=he(n,l,u),f=[0,0];return{fixedPosition:c,fixedDirection:e,fixedOffset:f}}function Ev(t,e){var n=t.allMatrix,r=t.is3d,i=t.width,s=t.height,u=r?4:3,l=JS(e,i,s),c=he(n,e,u),f=[i?0:e[0],s?0:e[1]];return{fixedPosition:c,fixedDirection:l,fixedOffset:f}}var Dv=Cc("resizable"),fc={name:"resizable",ableGroup:"size",canPinch:!0,props:["resizable","throttleResize","renderDirections","displayAroundControls","keepRatio","resizeFormat","keepRatioFinally","edge","checkResizableError"],events:["resizeStart","beforeResize","resize","resizeEnd","resizeGroupStart","beforeResizeGroup","resizeGroup","resizeGroupEnd"],render:nv("resizable"),dragControlCondition:Dv,viewClassName:Ac("resizable"),dragControlStart:function(t,e){var n,r=e.inputEvent,i=e.isPinch,s=e.isGroup,u=e.parentDirection,l=e.parentGesto,c=e.datas,f=e.parentFixedDirection,d=e.parentEvent,p=qv(u,i,r,c),v=t.state,g=v.target,m=v.width,_=v.height,b=v.gestos;if(!p||!g||b.resizable)return!1;b.resizable=l||t.controlGesto,!i&&ri(t,e),c.datas={},c.direction=p,c.startOffsetWidth=m,c.startOffsetHeight=_,c.prevWidth=0,c.prevHeight=0,c.minSize=[0,0],c.startWidth=v.inlineCSSWidth||v.cssWidth,c.startHeight=v.inlineCSSHeight||v.cssHeight,c.maxSize=[1/0,1/0],s||(c.minSize=[v.minOffsetWidth,v.minOffsetHeight],c.maxSize=[v.maxOffsetWidth,v.maxOffsetHeight]);var x=t.props.transformOrigin||"% %";c.transformOrigin=x&&Ke(x)?x.split(" "):x,c.startOffsetMatrix=v.offsetMatrix,c.startTransformOrigin=v.transformOrigin,c.isWidth=(n=e==null?void 0:e.parentIsWidth)!==null&&n!==void 0?n:!p[0]&&!p[1]||p[0]||!p[1];function w(I){c.ratio=I&&isFinite(I)?I:0}c.startPositions=wn(t.state);function E(I){var k=Sv(c.startPositions,I);c.fixedDirection=k.fixedDirection,c.fixedPosition=k.fixedPosition,c.fixedOffset=k.fixedOffset}function D(I){var k=Ev(t.state,I);c.fixedDirection=k.fixedDirection,c.fixedPosition=k.fixedPosition,c.fixedOffset=k.fixedOffset}function M(I){c.minSize=[ee("".concat(I[0]),0)||0,ee("".concat(I[1]),0)||0]}function A(I){var k=[I[0]||1/0,I[1]||1/0];(!Ii(k[0])||isFinite(k[0]))&&(k[0]=ee("".concat(k[0]),0)||1/0),(!Ii(k[1])||isFinite(k[1]))&&(k[1]=ee("".concat(k[1]),0)||1/0),c.maxSize=k}w(m/_),E(f||[-p[0],-p[1]]),c.setFixedDirection=E,c.setFixedPosition=D,c.setMin=M,c.setMax=A;var T=It(t,e,{direction:p,startRatio:c.ratio,set:function(I){var k=F(I,2),N=k[0],z=k[1];c.startWidth=N,c.startHeight=z},setMin:M,setMax:A,setRatio:w,setFixedDirection:E,setFixedPosition:D,setOrigin:function(I){c.transformOrigin=I},dragStart:He.dragStart(t,new zi().dragStart([0,0],e))}),O=d||ht(t,"onResizeStart",T);return c.startFixedDirection=c.fixedDirection,c.startFixedPosition=c.fixedPosition,O!==!1&&(c.isResize=!0,t.state.snapRenderInfo={request:e.isRequest,direction:p}),c.isResize?T:!1},dragControl:function(t,e){var n,r=e.datas,i=e.parentFlag,s=e.isPinch,u=e.parentKeepRatio,l=e.dragClient,c=e.parentDist,f=e.useSnap,d=e.isRequest,p=e.isGroup,v=e.parentEvent,g=e.resolveMatrix,m=r.isResize,_=r.transformOrigin,b=r.startWidth,x=r.startHeight,w=r.prevWidth,E=r.prevHeight,D=r.minSize,M=r.maxSize,A=r.ratio,T=r.startOffsetWidth,O=r.startOffsetHeight,I=r.isWidth;if(!m)return;if(g){var k=t.state.is3d,N=r.startOffsetMatrix,z=r.startTransformOrigin,G=k?4:3,Y=Xo(Da(e)),X=Math.sqrt(Y.length);G!==X&&(Y=Gn(Y,X,G));var K=$o(N,Y,z,G),tt=si(K,T,O,G);r.startPositions=tt,r.nextTargetMatrix=Y,r.nextAllMatrix=K}var U=ai(t.props,"resizable"),rt=U.resizeFormat,nt=U.throttleResize,H=nt===void 0?i?0:1:nt,ut=U.parentMoveable,ft=U.keepRatioFinally,at=r.direction,lt=at,ot=0,dt=0;!at[0]&&!at[1]&&(lt=[1,1]);var gt=A&&(u??U.keepRatio)||!1;function Dt(){var ve=r.fixedDirection,ue=tg(lt,gt,r,e);ot=ue.distWidth,dt=ue.distHeight;var Qn=lt[0]-ve[0]||gt?Math.max(T+ot,qe):T,rn=lt[1]-ve[1]||gt?Math.max(O+dt,qe):O;return gt&&T&&O&&(I?rn=Qn/A:Qn=rn*A),[Qn,rn]}var jt=F(Dt(),2),st=jt[0],vt=jt[1];v||(r.setFixedDirection(r.fixedDirection),ht(t,"onBeforeResize",It(t,e,{startFixedDirection:r.startFixedDirection,startFixedPosition:r.startFixedPosition,setFixedDirection:function(ve){var ue;return r.setFixedDirection(ve),ue=F(Dt(),2),st=ue[0],vt=ue[1],[st,vt]},setFixedPosition:function(ve){var ue;return r.setFixedPosition(ve),ue=F(Dt(),2),st=ue[0],vt=ue[1],[st,vt]},boundingWidth:st,boundingHeight:vt,setSize:function(ve){var ue;ue=F(ve,2),st=ue[0],vt=ue[1]}},!0)));var Ut=l;l||(!i&&s?Ut=nE(t,[0,0]):Ut=r.fixedPosition);var yt=[0,0];s||(yt=QE(t,st,vt,at,Ut,!f&&d,r)),c&&(!c[0]&&(yt[0]=0),!c[1]&&(yt[1]=0));function Et(){var ve;rt&&(ve=F(rt([st,vt]),2),st=ve[0],vt=ve[1]),st=Mt(st,H),vt=Mt(vt,H)}if(gt){lt[0]&&lt[1]&&yt[0]&&yt[1]&&(Z(yt[0])>Z(yt[1])?yt[1]=0:yt[0]=0);var Bt=!yt[0]&&!yt[1];Bt&&Et(),lt[0]&&!lt[1]||yt[0]&&!yt[1]||Bt&&I?(st+=yt[0],vt=st/A):(!lt[0]&&lt[1]||!yt[0]&&yt[1]||Bt&&!I)&&(vt+=yt[1],st=vt*A)}else st+=yt[0],vt+=yt[1],st=Math.max(0,st),vt=Math.max(0,vt);n=F(Vd([st,vt],D,M,gt?A:!1),2),st=n[0],vt=n[1],Et(),gt&&(p||ft)&&(I?vt=st/A:st=vt*A),ot=st-T,dt=vt-O;var zt=[ot-w,dt-E];r.prevWidth=ot,r.prevHeight=dt;var Zt=eE(t,st,vt,Ut,_,r);if(!(!ut&&zt.every(function(ve){return!ve})&&Zt.every(function(ve){return!ve}))){var Pt=He.drag(t,Uo(e,t.state,Zt,!!s,!1,"draggable")),Wt=Pt.transform,Jt=b+ot,_e=x+dt,ye=It(t,e,B({width:Jt,height:_e,offsetWidth:Math.round(st),offsetHeight:Math.round(vt),startRatio:A,boundingWidth:st,boundingHeight:vt,direction:at,dist:[ot,dt],delta:zt,isPinch:!!s,drag:Pt},Vv({style:{width:"".concat(Jt,"px"),height:"".concat(_e,"px")},transform:Wt},Pt,e)));return!v&&ht(t,"onResize",ye),ye}},dragControlAfter:function(t,e){var n=e.datas,r=n.isResize,i=n.startOffsetWidth,s=n.startOffsetHeight,u=n.prevWidth,l=n.prevHeight;if(!(!r||t.props.checkResizableError===!1)){var c=t.state,f=c.width,d=c.height,p=f-(i+u),v=d-(s+l),g=Z(p)>3,m=Z(v)>3;if(g&&(n.startWidth+=p,n.startOffsetWidth+=p,n.prevWidth+=p),m&&(n.startHeight+=v,n.startOffsetHeight+=v,n.prevHeight+=v),g||m)return this.dragControl(t,e)}},dragControlEnd:function(t,e){var n=e.datas,r=e.parentEvent;if(n.isResize){n.isResize=!1;var i=cn(t,e,{});return!r&&ht(t,"onResizeEnd",i),i}},dragGroupControlCondition:Dv,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,B(B({},e),{isGroup:!0}));if(!r)return!1;var i=Ln(t,"resizable",e),s=n.startOffsetWidth,u=n.startOffsetHeight;function l(){var g=n.minSize;i.forEach(function(m){var _=m.datas,b=_.minSize,x=_.startOffsetWidth,w=_.startOffsetHeight,E=s*(x?b[0]/x:0),D=u*(w?b[1]/w:0);g[0]=Math.max(g[0],E),g[1]=Math.max(g[1],D)})}function c(){var g=n.maxSize;i.forEach(function(m){var _=m.datas,b=_.maxSize,x=_.startOffsetWidth,w=_.startOffsetHeight,E=s*(x?b[0]/x:0),D=u*(w?b[1]/w:0);g[0]=Math.min(g[0],E),g[1]=Math.min(g[1],D)})}var f=lr(t,this,"dragControlStart",e,function(g,m){return Ma(t,g,n,m)});l(),c();var d=function(g){r.setFixedDirection(g),f.forEach(function(m,_){m.setFixedDirection(g),Ma(t,m.moveable,n,i[_])})};n.setFixedDirection=d;var p=B(B({},r),{targets:t.props.targets,events:f.map(function(g){return B(B({},g),{setMin:function(m){g.setMin(m),l()},setMax:function(m){g.setMax(m),c()}})}),setFixedDirection:d,setMin:function(g){r.setMin(g),l()},setMax:function(g){r.setMax(g),c()}}),v=ht(t,"onResizeGroupStart",p);return n.isResize=v!==!1,n.isResize?r:!1},dragGroupControl:function(t,e){var n=e.datas;if(n.isResize){var r=ai(t.props,"resizable");Na(t,"onBeforeResize",function(g){ht(t,"onBeforeResizeGroup",It(t,e,B(B({},g),{targets:r.targets}),!0))});var i=this.dragControl(t,B(B({},e),{isGroup:!0}));if(i){var s=i.boundingWidth,u=i.boundingHeight,l=i.dist,c=r.keepRatio,f=[s/(s-l[0]),u/(u-l[1])],d=n.fixedPosition,p=lr(t,this,"dragControl",e,function(g,m){var _=F(We(Wo(t.rotation/180*Math.PI,3),[m.datas.originalX*f[0],m.datas.originalY*f[1],1],3),2),b=_[0],x=_[1];return B(B({},m),{parentDist:null,parentScale:f,dragClient:Vt(d,[b,x]),parentKeepRatio:c})}),v=B({targets:r.targets,events:p},i);return ht(t,"onResizeGroup",v),v}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isResize){this.dragControlEnd(t,e);var i=lr(t,this,"dragControlEnd",e),s=cn(t,e,{targets:t.props.targets,events:i});return ht(t,"onResizeGroupEnd",s),n}},request:function(t){var e={},n=0,r=0,i=!1,s=t.getRect();return{isControl:!0,requestStart:function(u){var l;return i=u.useSnap,{datas:e,parentDirection:u.direction||[1,1],parentIsWidth:(l=u==null?void 0:u.horizontal)!==null&&l!==void 0?l:!0,useSnap:i}},request:function(u){return"offsetWidth"in u?n=u.offsetWidth-s.offsetWidth:"deltaWidth"in u&&(n+=u.deltaWidth),"offsetHeight"in u?r=u.offsetHeight-s.offsetHeight:"deltaHeight"in u&&(r+=u.deltaHeight),{datas:e,parentDist:[n,r],parentKeepRatio:u.keepRatio,useSnap:i}},requestEnd:function(){return{datas:e,isDrag:!0,useSnap:i}}}},unset:function(t){t.state.gestos.resizable=null}};function hc(t,e,n,r,i){var s=t.props.groupable,u=t.state,l=u.is3d?4:3,c=e.origin,f=he(t.state.rootMatrix,bt([c[0],c[1]],s?[0,0]:[u.left,u.top]),l),d=Vt([i.left,i.top],f);e.startAbsoluteOrigin=d,e.prevDeg=me(d,[n,r])/Math.PI*180,e.defaultDeg=e.prevDeg,e.prevSnapDeg=0,e.loop=0,e.startDist=ur(d,[n,r])}function ka(t,e,n){var r=n.defaultDeg,i=n.prevDeg,s=i%360,u=Math.floor(i/360);s<0&&(s+=360),s>t&&s>270&&t<90?++u:s<t&&s<90&&t>270&&--u;var l=e*(u*360+t-r);return n.prevDeg=r+l,l}function dc(t,e,n,r){return ka(me(r.startAbsoluteOrigin,[t,e])/Math.PI*180,n,r)}function pc(t,e,n,r,i,s){var u=t.props.throttleRotate,l=u===void 0?0:u,c=n.prevSnapDeg,f=0,d=!1;if(s){var p=$E(t,e,r,i+r);d=p.isSnap,f=i+p.dist}d||(f=Mt(i+r,l));var v=f-i;return n.prevSnapDeg=v,[v-c,v,f]}function Av(t,e,n){var r=F(e,4),i=r[0],s=r[1],u=r[2],l=r[3];if(t==="none")return[];if(Se(t))return t.map(function(b){return Av(b,[i,s,u,l],n)[0]});var c=F((t||"top").split("-"),2),f=c[0],d=c[1],p=[i,s];f==="left"?p=[u,i]:f==="right"?p=[s,l]:f==="bottom"&&(p=[l,u]);var v=[(p[0][0]+p[1][0])/2,(p[0][1]+p[1][1])/2],g=Yv(p,n);if(d){var m=d==="top"||d==="left",_=f==="bottom"||f==="left";v=p[m&&!_||!m&&_?0:1]}return[[v,g]]}function vc(t,e){if(e.isRequest)return e.requestAble==="rotatable";var n=e.inputEvent.target;if(De(n,_t("rotation-control"))||t.props.rotateAroundControls&&De(n,_t("around-control"))||De(n,_t("control"))&&De(n,_t("rotatable")))return!0;var r=t.props.rotationTarget;return r?Mc(r,!0).some(function(i){return i?n===i||n.contains(i):!1}):!1}var BE=`.rotation {
position: absolute;
height: 40px;
width: 1px;
transform-origin: 50% 100%;
height: calc(40px * var(--zoom));
top: auto;
left: 0;
bottom: 100%;
will-change: transform;
}
.rotation .rotation-line {
display: block;
width: 100%;
height: 100%;
transform-origin: 50% 50%;
}
.rotation .rotation-control {
border-color: #4af;
border-color: var(--moveable-color);
background:#fff;
cursor: alias;
}
:global .view-rotation-dragging, .rotatable.direction.control {
cursor: alias;
}
.rotatable.direction.control.move {
cursor: move;
}
`,GE={name:"rotatable",canPinch:!0,props:["rotatable","rotationPosition","throttleRotate","renderDirections","rotationTarget","rotateAroundControls","edge","resolveAblesWithRotatable","displayAroundControls"],events:["rotateStart","beforeRotate","rotate","rotateEnd","rotateGroupStart","beforeRotateGroup","rotateGroup","rotateGroupEnd"],css:[BE],viewClassName:function(t){return t.isDragging("rotatable")?_t("view-rotation-dragging"):""},render:function(t,e){var n=ai(t.props,"rotatable"),r=n.rotatable,i=n.rotationPosition,s=n.zoom,u=n.renderDirections,l=n.rotateAroundControls,c=n.resolveAblesWithRotatable,f=t.getState(),d=f.renderPoses,p=f.direction;if(!r)return null;var v=Av(i,d,p),g=[];if(v.forEach(function(x,w){var E=F(x,2),D=E[0],M=E[1];g.push(e.createElement("div",{key:"rotation".concat(w),className:_t("rotation"),style:{transform:"translate(-50%) translate(".concat(D[0],"px, ").concat(D[1],"px) rotate(").concat(M,"rad)")}},e.createElement("div",{className:_t("line rotation-line"),style:{transform:"scaleX(".concat(s,")")}}),e.createElement("div",{className:_t("control rotation-control"),style:{transform:"translate(0.5px) scale(".concat(s,")")}})))}),u){var m=ar(c||{}),_={};m.forEach(function(x){c[x].forEach(function(w){_[w]=x})});var b=[];Se(u)&&(b=u.map(function(x){var w=_[x];return{data:w?{resolve:w}:{},classNames:w?["move"]:[],dir:x}})),g.push.apply(g,it([],F(Kp(t,"rotatable",b,e)),!1))}return l&&g.push.apply(g,it([],F(iv(t,e)),!1)),g},dragControlCondition:vc,dragControlStart:function(t,e){var n,r,i=e.datas,s=e.clientX,u=e.clientY,l=e.parentRotate,c=e.parentFlag,f=e.isPinch,d=e.isRequest,p=t.state,v=p.target,g=p.left,m=p.top,_=p.direction,b=p.beforeDirection,x=p.targetTransform,w=p.moveableClientRect,E=p.offsetMatrix,D=p.targetMatrix,M=p.allMatrix,A=p.width,T=p.height;if(!d&&!v)return!1;var O=t.getRect();i.rect=O,i.transform=x,i.left=g,i.top=m;var I=function(lt){var ot=Ev(t.state,lt);i.fixedDirection=ot.fixedDirection,i.fixedOffset=ot.fixedOffset,i.fixedPosition=ot.fixedPosition,H&&H.setFixedPosition(lt)},k=function(lt){var ot=kE(t.state,lt);i.fixedDirection=ot.fixedDirection,i.fixedOffset=ot.fixedOffset,i.fixedPosition=ot.fixedPosition,H&&H.setFixedDirection(lt)},N=s,z=u;if(d||f||c){var G=l||0;i.beforeInfo={origin:O.beforeOrigin,prevDeg:G,defaultDeg:G,prevSnapDeg:0,startDist:0},i.afterInfo=B(B({},i.beforeInfo),{origin:O.origin}),i.absoluteInfo=B(B({},i.beforeInfo),{origin:O.origin,startValue:G})}else{var Y=(r=e.inputEvent)===null||r===void 0?void 0:r.target;if(Y){var X=Y.getAttribute("data-direction")||"",K=WS[X];if(K){i.isControl=!0,i.isAroundControl=De(Y,_t("around-control")),i.controlDirection=K;var tt=Y.getAttribute("data-resolve");tt&&(i.resolveAble=tt);var U=fD(p.rootMatrix,p.renderPoses,w);n=F(Ce(U,K),2),N=n[0],z=n[1]}}i.beforeInfo={origin:O.beforeOrigin},i.afterInfo={origin:O.origin},i.absoluteInfo={origin:O.origin,startValue:O.rotation};var rt=I;I=function(lt){var ot=p.is3d?4:3,dt=F(Vt(Ap(D,ot),lt),2),gt=dt[0],Dt=dt[1],jt=We(E,ti([gt,Dt],ot)),st=We(M,ti([lt[0],lt[1]],ot));rt(lt);var vt=p.posDelta;i.beforeInfo.origin=bt(jt,vt),i.afterInfo.origin=bt(st,vt),i.absoluteInfo.origin=bt(st,vt),hc(t,i.beforeInfo,N,z,w),hc(t,i.afterInfo,N,z,w),hc(t,i.absoluteInfo,N,z,w)},k=function(lt){var ot=Ce([[0,0],[A,0],[0,T],[A,T]],lt);I(ot)}}i.startClientX=N,i.startClientY=z,i.direction=_,i.beforeDirection=b,i.startValue=0,i.datas={},Ea(t,e,"rotate");var nt=!1,H=!1;if(i.isControl&&i.resolveAble){var ut=i.resolveAble;ut==="resizable"&&(H=fc.dragControlStart(t,B(B({},new zi("resizable").dragStart([0,0],e)),{parentPosition:i.controlPosition,parentFixedPosition:i.fixedPosition})))}H||(nt=He.dragStart(t,new zi().dragStart([0,0],e))),I(hD(t));var ft=It(t,e,B(B({set:function(lt){i.startValue=lt*Math.PI/180},setFixedDirection:k,setFixedPosition:I},Sa(t,e)),{dragStart:nt,resizeStart:H})),at=ht(t,"onRotateStart",ft);return i.isRotate=at!==!1,p.snapRenderInfo={request:e.isRequest},i.isRotate?ft:!1},dragControl:function(t,e){var n,r,i,s=e.datas,u=e.clientDistX,l=e.clientDistY,c=e.parentRotate,f=e.parentFlag,d=e.isPinch,p=e.groupDelta,v=e.resolveMatrix,g=s.beforeDirection,m=s.beforeInfo,_=s.afterInfo,b=s.absoluteInfo,x=s.isRotate,w=s.startValue,E=s.rect,D=s.startClientX,M=s.startClientY;if(x){xa(t,e,"rotate");var A=YS(e),T=g*A,O=t.props.parentMoveable,I=0,k,N,z=0,G,Y,X=0,K,tt,U=180/Math.PI*w,rt=b.startValue,nt=!1,H=D+u,ut=M+l;if(!f&&"parentDist"in e){var ft=e.parentDist;k=ft,G=ft,K=ft}else d||f?(k=ka(c,g,m),G=ka(c,T,_),K=ka(c,T,b)):(k=dc(H,ut,g,m),G=dc(H,ut,T,_),K=dc(H,ut,T,b),nt=!0);if(N=U+k,Y=U+G,tt=rt+K,ht(t,"onBeforeRotate",It(t,e,{beforeRotation:N,rotation:Y,absoluteRotation:tt,setRotation:function(Ut){G=Ut-U,k=G,K=G}},!0)),n=F(pc(t,E,m,k,U,nt),3),I=n[0],k=n[1],N=n[2],r=F(pc(t,E,_,G,U,nt),3),z=r[0],G=r[1],Y=r[2],i=F(pc(t,E,b,K,rt,nt),3),X=i[0],K=i[1],tt=i[2],!(!X&&!z&&!I&&!O&&!v)){var at=wa(s,"rotate(".concat(Y,"deg)"),"rotate(".concat(G,"deg)"));v&&(s.fixedPosition=nc(t,s.targetAllTransform,s.fixedDirection,s.fixedOffset,s));var lt=tE(t,G,s),ot=bt(Vt(p||[0,0],lt),s.prevInverseDist||[0,0]);s.prevInverseDist=lt,s.requestValue=null;var dt=Qp(t,at,ot,d,e),gt=dt,Dt=ur([H,ut],b.startAbsoluteOrigin)-b.startDist,jt=void 0;if(s.resolveAble==="resizable"){var st=fc.dragControl(t,B(B({},Uo(e,t.state,[e.deltaX,e.deltaY],!!d,!1,"resizable")),{resolveMatrix:!0,parentDistance:Dt}));st&&(jt=st,gt=Vv(gt,st,e))}var vt=It(t,e,B(B({delta:z,dist:G,rotate:Y,rotation:Y,beforeDist:k,beforeDelta:I,beforeRotate:N,beforeRotation:N,absoluteDist:K,absoluteDelta:X,absoluteRotate:tt,absoluteRotation:tt,isPinch:!!d,resize:jt},dt),gt));return ht(t,"onRotate",vt),vt}}},dragControlEnd:function(t,e){var n=e.datas;if(n.isRotate){n.isRotate=!1;var r=cn(t,e,{});return ht(t,"onRotateEnd",r),r}},dragGroupControlCondition:vc,dragGroupControlStart:function(t,e){var n=e.datas,r=t.state,i=r.left,s=r.top,u=r.beforeOrigin,l=this.dragControlStart(t,e);if(!l)return!1;l.set(n.beforeDirection*t.rotation);var c=lr(t,this,"dragControlStart",e,function(p,v){var g=p.state,m=g.left,_=g.top,b=g.beforeOrigin,x=Vt(bt([m,_],[i,s]),bt(b,u));return v.datas.startGroupClient=x,v.datas.groupClient=x,B(B({},v),{parentRotate:0})}),f=B(B({},l),{targets:t.props.targets,events:c}),d=ht(t,"onRotateGroupStart",f);return n.isRotate=d!==!1,n.isRotate?l:!1},dragGroupControl:function(t,e){var n=e.datas;if(n.isRotate){Na(t,"onBeforeRotate",function(f){ht(t,"onBeforeRotateGroup",It(t,e,B(B({},f),{targets:t.props.targets}),!0))});var r=this.dragControl(t,e);if(r){var i=n.beforeDirection,s=r.beforeDist,u=s/180*Math.PI,l=lr(t,this,"dragControl",e,function(f,d){var p=d.datas.startGroupClient,v=F(d.datas.groupClient,2),g=v[0],m=v[1],_=F(jo(p,u*i),2),b=_[0],x=_[1],w=[b-g,x-m];return d.datas.groupClient=[b,x],B(B({},d),{parentRotate:s,groupDelta:w})});t.rotation=i*r.beforeRotation;var c=B({targets:t.props.targets,events:l,set:function(f){t.rotation=f},setGroupRotation:function(f){t.rotation=f}},r);return ht(t,"onRotateGroup",c),c}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isRotate){this.dragControlEnd(t,e);var i=lr(t,this,"dragControlEnd",e),s=cn(t,e,{targets:t.props.targets,events:i});return ht(t,"onRotateGroupEnd",s),n}},request:function(t){var e={},n=0,r=t.getRotation();return{isControl:!0,requestStart:function(){return{datas:e}},request:function(i){return"deltaRotate"in i?n+=i.deltaRotate:"rotate"in i&&(n=i.rotate-r),{datas:e,parentDist:n}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function LE(t,e){var n,r=t.direction,i=t.classNames,s=t.size,u=t.pos,l=t.zoom,c=t.key,f=r==="horizontal",d=f?"Y":"X";return e.createElement("div",{key:c,className:i.join(" "),style:(n={},n[f?"width":"height"]="".concat(s),n.transform="translate(".concat(u[0],", ").concat(u[1],") translate").concat(d,"(-50%) scale").concat(d,"(").concat(l,")"),n)})}function gc(t,e){return LE(B(B({},t),{classNames:it([_t("line","guideline",t.direction)],F(t.classNames),!1).filter(function(n){return n}),size:t.size||"".concat(t.sizeValue,"px"),pos:t.pos||t.posValue.map(function(n){return"".concat(Mt(n,.1),"px")})}),e)}function Cv(t,e,n,r,i,s,u,l){var c=t.props.zoom;return n.map(function(f,d){var p=f.type,v=f.pos,g=[0,0];return g[u]=r,g[u?0:1]=-i+v,gc({key:"".concat(e,"TargetGuideline").concat(d),classNames:[_t("target","bold",p)],posValue:g,sizeValue:s,zoom:c,direction:e},l)})}function Mv(t,e,n,r,i,s){var u=t.props,l=u.zoom,c=u.isDisplayInnerSnapDigit,f=e==="horizontal"?Tr:Ir,d=i[f.start],p=i[f.end];return n.filter(function(v){var g=v.hide,m=v.elementRect;if(g)return!1;if(c&&m){var _=m.rect;if(_[f.start]<=d&&p<=_[f.end])return!1}return!0}).map(function(v,g){var m=v.pos,_=v.size,b=v.element,x=v.className,w=[-r[0]+m[0],-r[1]+m[1]];return gc({key:"".concat(e,"-default-guideline-").concat(g),classNames:b?[_t("bold"),x]:[_t("normal"),x],direction:e,posValue:w,sizeValue:_,zoom:l},s)})}function Zo(t,e,n,r,i,s,u,l){var c,f=t.props,d=f.snapDigit,p=d===void 0?0:d,v=f.isDisplaySnapDigit,g=v===void 0?!0:v,m=f.snapDistFormat,_=m===void 0?function(M,A){return M}:m,b=f.zoom,x=e==="horizontal"?"X":"Y",w=e==="vertical"?"height":"width",E=Math.abs(i),D=g?parseFloat(E.toFixed(p)):0;return l.createElement("div",{key:"".concat(e,"-").concat(n,"-guideline-").concat(r),className:_t("guideline-group",e),style:(c={left:"".concat(s[0],"px"),top:"".concat(s[1],"px")},c[w]="".concat(E,"px"),c)},gc({direction:e,classNames:[_t(n),u],size:"100%",posValue:[0,0],sizeValue:E,zoom:b},l),l.createElement("div",{className:_t("size-value","gap"),style:{transform:"translate".concat(x,"(-50%) scale(").concat(b,")")}},D>0?_(D,e):""))}function FE(t,e,n,r){var i=t==="vertical"?0:1,s=t==="vertical"?1:0,u=i?Tr:Ir,l=n[u.start],c=n[u.end];return $v(e,function(f){return f.pos[i]}).map(function(f){var d=[],p=[],v=[];return f.forEach(function(g){var m,_,b=g.element,x=g.elementRect.rect;if(x[u.end]<l)d.push(g);else if(c<x[u.start])p.push(g);else if(x[u.start]<=l&&c<=x[u.end]&&r){var w=g.pos,E={element:b,rect:B(B({},x),(m={},m[u.end]=x[u.start],m))},D={element:b,rect:B(B({},x),(_={},_[u.start]=x[u.end],_))},M=[0,0],A=[0,0];M[i]=w[i],M[s]=w[s],A[i]=w[i],A[s]=w[s]+g.size,d.push({type:t,pos:M,size:0,elementRect:E,direction:"",elementDirection:"end"}),p.push({type:t,pos:A,size:0,elementRect:D,direction:"",elementDirection:"start"})}}),d.sort(function(g,m){return m.pos[s]-g.pos[s]}),p.sort(function(g,m){return g.pos[s]-m.pos[s]}),{total:f,start:d,end:p,inner:v}})}function zE(t,e,n,r,i){var s=t.props.isDisplayInnerSnapDigit,u=[];return["vertical","horizontal"].forEach(function(l){var c=e.filter(function(b){return b.type===l}),f=l==="vertical"?1:0,d=f?0:1,p=FE(l,c,r,s),v=f?Ir:Tr,g=f?Tr:Ir,m=r[v.start],_=r[v.end];p.forEach(function(b){var x=b.total,w=b.start,E=b.end,D=b.inner,M=n[d]+x[0].pos[d]-r[g.start],A=r;w.forEach(function(T){var O=T.elementRect.rect,I=A[v.start]-O[v.end];if(I>0){var k=[0,0];k[f]=n[f]+A[v.start]-m-I,k[d]=M,u.push(Zo(t,l,"dashed",u.length,I,k,T.className,i))}A=O}),A=r,E.forEach(function(T){var O=T.elementRect.rect,I=O[v.start]-A[v.end];if(I>0){var k=[0,0];k[f]=n[f]+A[v.end]-m,k[d]=M,u.push(Zo(t,l,"dashed",u.length,I,k,T.className,i))}A=O}),D.forEach(function(T){var O=T.elementRect.rect,I=m-O[v.start],k=O[v.end]-_,N=[0,0],z=[0,0];N[f]=n[f]-I,N[d]=M,z[f]=n[f]+_-m,z[d]=M,u.push(Zo(t,l,"dashed",u.length,I,N,T.className,i)),u.push(Zo(t,l,"dashed",u.length,k,z,T.className,i))})})}),u}function NE(t,e,n,r,i){var s=[];return["horizontal","vertical"].forEach(function(u){var l=e.filter(function(b){return b.type===u}).slice(0,1),c=u==="vertical"?0:1,f=c?0:1,d=c?Ir:Tr,p=c?Tr:Ir,v=r[d.start],g=r[d.end],m=r[p.start],_=r[p.end];l.forEach(function(b){var x=b.gap,w=b.gapRects,E=Math.max.apply(Math,it([m],F(w.map(function(A){var T=A.rect;return T[p.start]})),!1)),D=Math.min.apply(Math,it([_],F(w.map(function(A){var T=A.rect;return T[p.end]})),!1)),M=(E+D)/2;E===D||M===(m+_)/2||w.forEach(function(A){var T=A.rect,O=A.className,I=[n[0],n[1]];if(T[d.end]<v)I[c]+=T[d.end]-v;else if(g<T[d.start])I[c]+=T[d.start]-v-x;else return;I[f]+=M-m,s.push(Zo(t,c?"vertical":"horizontal","gap",s.length,x,I,O,i))})})}),s}function mc(t){var e,n,r=t.state,i=r.containerClientRect,s=r.hasFixed,u=i.overflow,l=i.scrollHeight,c=i.scrollWidth,f=i.clientHeight,d=i.clientWidth,p=i.clientLeft,v=i.clientTop,g=t.props,m=g.snapGap,_=m===void 0?!0:m,b=g.verticalGuidelines,x=g.horizontalGuidelines,w=g.snapThreshold,E=w===void 0?5:w,D=g.maxSnapElementGuidelineDistance,M=D===void 0?1/0:D,A=g.isDisplayGridGuidelines,T=bn(wn(t.state)),O=T.top,I=T.left,k=T.bottom,N=T.right,z={top:O,left:I,bottom:k,right:N,center:(I+N)/2,middle:(O+k)/2},G=XE(t),Y=it([],F(G),!1),X=((n=(e=r.snapThresholdInfo)===null||e===void 0?void 0:e.multiples)!==null&&n!==void 0?n:[1,1]).map(function(rt){return rt*E});_&&Y.push.apply(Y,it([],F(jE(t,z,X)),!1));var K=B({},r.snapOffset||{left:0,top:0,bottom:0,right:0});if(Y.push.apply(Y,it([],F(YE(t,u?c:d,u?l:f,p,v,K,A)),!1)),s){var tt=i.left,U=i.top;K.left+=tt,K.top+=U,K.right+=tt,K.bottom+=U}return Y.push.apply(Y,it([],F(Tv(x||!1,b||!1,u?c:d,u?l:f,p,v,K)),!1)),Y=Y.filter(function(rt){var nt=rt.element,H=rt.elementRect,ut=rt.type;if(!nt||!H)return!0;var ft=H.rect;return Rv(z,ft,ut,M)}),Y}function jE(t,e,n){var r=t.props,i=r.maxSnapElementGuidelineDistance,s=i===void 0?1/0:i,u=r.maxSnapElementGapDistance,l=u===void 0?1/0:u,c=t.state.elementRects,f=[];return[["vertical",Tr,Ir],["horizontal",Ir,Tr]].forEach(function(d){var p=F(d,3),v=p[0],g=p[1],m=p[2],_=e[g.start],b=e[g.end],x=e[g.center],w=e[m.start],E=e[m.end],D={left:n[0],top:n[1]};function M(O){var I=O.rect,k=D[g.start];return I[g.end]<_+k?_-I[g.end]:b-k<I[g.start]?I[g.start]-b:-1}var A=c.filter(function(O){var I=O.rect;return I[m.start]>E||I[m.end]<w?!1:M(O)>0}).sort(function(O,I){return M(O)-M(I)}),T=[];A.forEach(function(O){A.forEach(function(I){if(O!==I){var k=O.rect,N=I.rect,z=k[m.start],G=k[m.end],Y=N[m.start],X=N[m.end];z>X||Y>G||T.push([O,I])}})}),T.forEach(function(O){var I=F(O,2),k=I[0],N=I[1],z=k.rect,G=N.rect,Y=z[g.start],X=z[g.end],K=G[g.start],tt=G[g.end],U=D[g.start],rt=0,nt=0,H=!1,ut=!1,ft=!1;if(X<=_&&b<=K){if(ut=!0,rt=(K-X-(b-_))/2,nt=X+rt+(b-_)/2,Z(nt-x)>U)return}else if(X<K&&tt<_+U){if(H=!0,rt=K-X,nt=tt+rt,Z(nt-_)>U)return}else if(X<K&&b-U<Y){if(ft=!0,rt=K-X,nt=Y-rt,Z(nt-b)>U)return}else return;rt&&Rv(e,G,v,s)&&(rt>l||f.push({type:v,pos:v==="vertical"?[nt,0]:[0,nt],element:N.element,size:0,className:N.className,isStart:H,isCenter:ut,isEnd:ft,gap:rt,hide:!0,gapRects:[k,N],direction:"",elementDirection:""}))})}),f}function WE(t,e,n,r){var i,s,u=t.props,l=t.state,c=u.snapGridAll,f=u.snapGridWidth,d=f===void 0?0:f,p=u.snapGridHeight,v=p===void 0?0:p,g=l.snapRenderInfo,m=g&&(((i=g.direction)===null||i===void 0?void 0:i[0])||((s=g.direction)===null||s===void 0?void 0:s[1])),_=t.moveables;if(c&&_&&m&&(d||v)){if(l.snapThresholdInfo)return;l.snapThresholdInfo={multiples:[1,1],offset:[0,0]};var b=t.getRect(),x=b.children,w=g.direction;if(x){var E=w.map(function(M,A){var T=A===0?{snapSize:d,posName:"left",sizeName:"width",clientOffset:r.left-e}:{snapSize:v,posName:"top",sizeName:"height",clientOffset:r.top-n},O=T.snapSize,I=T.posName,k=T.sizeName,N=T.clientOffset;if(!O)return{dir:M,multiple:1,snapSize:O,snapOffset:0};var z=b[k],G=b[I],Y=Qd(x.map(function(H){return[H[I]-G,H[k],z-H[k]-H[I]+G]})).filter(function(H){return H}).sort(function(H,ut){return H-ut}),X=Y[0],K=Y.map(function(H){return Mt(H/X,.1)*O}),tt=1,U=Mt(z/X,.1);for(tt=1;tt<=10&&!K.every(function(H){return H*tt%1===0});++tt);var rt=(-M+1)/2,nt=la(G-N,G-N+z,rt,1-rt);return{multiple:U*tt,dir:M,snapSize:O,snapOffset:Math.round(nt/O)}}),D=E.map(function(M){return M.multiple||1});l.snapThresholdInfo.multiples=D,l.snapThresholdInfo.offset=E.map(function(M){return M.snapOffset}),E.forEach(function(M,A){M.snapSize})}}else l.snapThresholdInfo=null}function YE(t,e,n,r,i,s,u){r===void 0&&(r=0),i===void 0&&(i=0);var l=t.props,c=t.state,f=l.snapGridWidth,d=f===void 0?0:f,p=l.snapGridHeight,v=p===void 0?0:p,g=[],m=s.left,_=s.top,b=[0,0];WE(t,r,i,s);var x=c.snapThresholdInfo,w=d,E=v;if(x&&(d*=x.multiples[0]||1,v*=x.multiples[1]||1,b=x.offset),v){for(var D=function(A){g.push({type:"horizontal",pos:[m,Mt(b[1]*E+A-i+_,.1)],className:_t("grid-guideline"),size:e,hide:!u,direction:"",grid:!0})},M=0;M<=n*2;M+=v)D(M);for(var M=-v;M>=-n;M-=v)D(M)}if(d){for(var D=function(O){g.push({type:"vertical",pos:[Mt(b[0]*w+O-r+m,.1),_],className:_t("grid-guideline"),size:n,hide:!u,direction:"",grid:!0})},M=0;M<=e*2;M+=d)D(M);for(var M=-d;M>=-e;M-=d)D(M)}return g}function Rv(t,e,n,r){return n==="horizontal"?Z(t.right-e.left)<=r||Z(t.left-e.right)<=r||t.left<=e.right&&e.left<=t.right:n==="vertical"?Z(t.bottom-e.top)<=r||Z(t.top-e.bottom)<=r||t.top<=e.bottom&&e.top<=t.bottom:!0}function XE(t){var e=t.state,n=t.props.elementGuidelines,r=n===void 0?[]:n;if(!r.length)return e.elementRects=[],[];var i=(e.elementRects||[]).filter(function(v){return!v.refresh}),s=r.map(function(v){return kn(v)&&"element"in v?B(B({},v),{element:$n(v.element,!0)}):{element:$n(v,!0)}}).filter(function(v){return v.element}),u=tS(i.map(function(v){return v.element}),s.map(function(v){return v.element})),l=u.maintained,c=u.added,f=[];l.forEach(function(v){var g=F(v,2),m=g[0],_=g[1];f[_]=i[m]}),qE(t,c.map(function(v){return s[v]})).map(function(v,g){f[c[g]]=v}),e.elementRects=f;var d=oc(t.props.elementSnapDirections),p=[];return f.forEach(function(v){var g=v.element,m=v.top,_=m===void 0?d.top:m,b=v.left,x=b===void 0?d.left:b,w=v.right,E=w===void 0?d.right:w,D=v.bottom,M=D===void 0?d.bottom:D,A=v.center,T=A===void 0?d.center:A,O=v.middle,I=O===void 0?d.middle:O,k=v.className,N=v.rect,z=sc({top:_,right:E,left:x,bottom:M,center:T,middle:I},N),G=z.horizontal,Y=z.vertical,X=z.horizontalNames,K=z.verticalNames,tt=N.top,U=N.left,rt=N.right-U,nt=N.bottom-tt,H=[rt,nt];Y.forEach(function(ut,ft){p.push({type:"vertical",element:g,pos:[Mt(ut,.1),tt],size:nt,sizes:H,className:k,elementRect:v,elementDirection:av[K[ft]]||K[ft],direction:""})}),G.forEach(function(ut,ft){p.push({type:"horizontal",element:g,pos:[U,Mt(ut,.1)],size:rt,sizes:H,className:k,elementRect:v,elementDirection:av[X[ft]]||X[ft],direction:""})})}),p}function Ov(t,e){return t?t.map(function(n){var r=kn(n)?n:{pos:n},i=r.pos;return Ii(i)?r:B(B({},r),{pos:ee(i,e)})}):[]}function Tv(t,e,n,r,i,s,u){i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u={left:0,top:0,right:0,bottom:0});var l=[],c=u.left,f=u.top,d=u.bottom,p=u.right,v=n+p-c,g=r+d-f;return Ov(t,g).forEach(function(m){l.push({type:"horizontal",pos:[c,Mt(m.pos-s+f,.1)],size:v,className:m.className,direction:""})}),Ov(e,v).forEach(function(m){l.push({type:"vertical",pos:[Mt(m.pos-i+c,.1),f],size:g,className:m.className,direction:""})}),l}function qE(t,e){if(!e.length)return[];var n=t.props.groupable,r=t.state,i=r.containerClientRect,s=r.rootMatrix,u=r.is3d,l=r.offsetDelta,c=u?4:3,f=F(vE(s,i,c),2),d=f[0],p=f[1],v=n?0:l[0],g=n?0:l[1];return e.map(function(m){var _=m.element.getBoundingClientRect(),b=_.left-d-v,x=_.top-p-g,w=x+_.height,E=b+_.width,D=F(Ui(s,[b,x],c),2),M=D[0],A=D[1],T=F(Ui(s,[E,w],c),2),O=T[0],I=T[1];return B(B({},m),{rect:{left:M,right:O,top:A,bottom:I,center:(M+O)/2,middle:(A+I)/2}})})}function Ba(t){var e=t.state,n=e.container,r=t.props.snapContainer||n;if(e.snapContainer===r&&e.guidelines&&e.guidelines.length)return!1;var i=e.containerClientRect,s={left:0,top:0,bottom:0,right:0};if(n!==r){var u=$n(r,!0);if(u){var l=ns(u),c=Jv(e,[l.left-i.left,l.top-i.top]),f=Jv(e,[l.right-i.right,l.bottom-i.bottom]);s.left=Mt(c[0],1e-5),s.top=Mt(c[1],1e-5),s.right=Mt(f[0],1e-5),s.bottom=Mt(f[1],1e-5)}}return e.snapContainer=r,e.snapOffset=s,e.guidelines=mc(t),e.enableSnap=!0,!0}function Iv(t,e,n,r,i,s){var u=si(t,e,n,s?4:3),l=Ce(u,r);return wc(u,bt(i,l))}function Pv(t){return t?t/Z(t):0}function HE(t,e,n,r,i,s){var u=s.fixedDirection,l=yE(n,u,r),c=lc(t,e,n,r),f=it(it([],F(TE(t,e,l,r,i,s)),!1),F(yv(t,c,s)),!1),d=Ta(f,0),p=Ta(f,1);return{width:{isBound:d.isBound,offset:d.offset[0]},height:{isBound:p.isBound,offset:p.offset[1]}}}function VE(t,e,n,r,i,s,u,l,c){var f=Ce(e,u),d=Pa(t,l,{vertical:[f[0]],horizontal:[f[1]]}),p=d.horizontal.offset,v=d.vertical.offset;if(Mt(v,Ql)||Mt(p,Ql)){var g=F(Un({datas:c,distX:-v,distY:-p}),2),m=g[0],_=g[1],b=Math.min(i||1/0,n+u[0]*m),x=Math.min(s||1/0,r+u[1]*_);return[b-n,x-r]}return[0,0]}function kv(t,e,n,r,i,s,u,l){for(var c=wn(t.state),f=t.props.keepRatio,d=0,p=0,v=0;v<2;++v){var g=e(d,p),m=HE(t,g,i,f,u,l),_=m.width,b=m.height,x=_.isBound,w=b.isBound,E=_.offset,D=b.offset;if(v===1&&(x||(E=0),w||(D=0)),v===0&&u&&!x&&!w)return[0,0];if(f){var M=Z(E)*(n?1/n:1),A=Z(D)*(r?1/r:1),T=x&&w?M<A:w||!x&&M<A;T?E=n*D/r:D=r*E/n}d+=E,p+=D}if(!f&&i[0]&&i[1]){var O=PE(t,c,i,s,l),I=O.maxWidth,k=O.maxHeight,N=F(VE(t,e(d,p).map(function(Y){return Y.map(function(X){return Mt(X,Ql)})}),n+d,r+p,I,k,i,u,l),2),E=N[0],D=N[1];d+=E,p+=D}return[d,p]}function Jo(t){return t<0&&(t=t%360+360),t%=360,t}function UE(t,e){e=Jo(e);var n=Math.floor(t/360),r=n*360+360-e,i=n*360+e;return Z(t-r)<Z(t-i)?r:i}function _c(t,e){t=Jo(t),e=Jo(e);var n=Jo(t-e);return Math.min(n,360-n)}function $E(t,e,n,r){var i,s=t.props,u=(i=s[uv])!==null&&i!==void 0?i:5,l=s[lv];if(qi(t,"rotatable")){var c=e.pos1,f=e.pos2,d=e.pos3,p=e.pos4,v=e.origin,g=n*Math.PI/180,m=[c,f,d,p].map(function(D){return bt(D,v)}),_=m.map(function(D){return jo(D,g)}),b=it(it([],F(fE(t,m,_,v,n)),!1),F(DE(t,m,_,v,n)),!1);b.sort(function(D,M){return Z(D-n)-Z(M-n)});var x=b.length>0;if(x)return{isSnap:x,dist:x?b[0]:n}}if(l!=null&&l.length&&u){var w=l.slice().sort(function(D,M){return _c(D,r)-_c(M,r)}),E=w[0];if(_c(E,r)<=u)return{isSnap:!0,dist:n+UE(r,E)-r}}return{isSnap:!1,dist:n}}function QE(t,e,n,r,i,s,u){if(!qi(t,"resizable"))return[0,0];var l=u.fixedDirection,c=u.nextAllMatrix,f=t.state,d=f.allMatrix,p=f.is3d;return kv(t,function(v,g){return Iv(c||d,e+v,n+g,l,i,p)},e,n,r,i,s,u)}function ZE(t,e,n,r,i){if(!qi(t,"scalable"))return[0,0];var s=i.startOffsetWidth,u=i.startOffsetHeight,l=i.fixedPosition,c=i.fixedDirection,f=i.is3d,d=kv(t,function(p,v){return Iv(QS(i,Vt(e,[p/s,v/u])),s,u,c,l,f)},s,u,n,l,r,i);return[d[0]/s,d[1]/u]}function JE(t,e){e.absolutePoses=wn(t.state)}function Bv(t){var e=[];return t.forEach(function(n){n.guidelineInfos.forEach(function(r){var i=r.guideline;tn(e,function(s){return s.guideline===i})||(i.direction="",e.push({guideline:i,posInfo:n}))})}),e.map(function(n){var r=n.guideline,i=n.posInfo;return B(B({},r),{direction:i.direction})})}function Gv(t,e,n,r,i,s){var u=ic(Ra(t,s),e,n),l=u.vertical,c=u.horizontal,f=Xi();l.forEach(function(m){m.isBound&&(m.direction==="start"&&(f.left=!0),m.direction==="end"&&(f.right=!0),r.push({type:"bounds",pos:m.pos}))}),c.forEach(function(m){m.isBound&&(m.direction==="start"&&(f.top=!0),m.direction==="end"&&(f.bottom=!0),i.push({type:"bounds",pos:m.pos}))});var d=AE(t),p=d.boundMap,v=d.vertical,g=d.horizontal;return v.forEach(function(m){sr(r,function(_){var b=_.type,x=_.pos;return b==="bounds"&&x===m})>=0||r.push({type:"bounds",pos:m})}),g.forEach(function(m){sr(i,function(_){var b=_.type,x=_.pos;return b==="bounds"&&x===m})>=0||i.push({type:"bounds",pos:m})}),{boundMap:f,innerBoundMap:p}}var KE=Cc("",["resizable","scalable"]),tD={name:"snappable",dragRelation:"strong",props:["snappable","snapContainer","snapDirections","elementSnapDirections","snapGap","snapGridWidth","snapGridHeight","isDisplaySnapDigit","isDisplayInnerSnapDigit","isDisplayGridGuidelines","snapDigit","snapThreshold","snapRenderThreshold","snapGridAll",uv,lv,cv,fv,"horizontalGuidelines","verticalGuidelines","elementGuidelines","bounds","innerBounds","snapDistFormat","maxSnapElementGuidelineDistance","maxSnapElementGapDistance"],events:["snap","bound"],css:[`:host {
--bounds-color: #d66;
}
.guideline {
pointer-events: none;
z-index: 2;
}
.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}
.guideline-group {
position: absolute;
top: 0;
left: 0;
}
.guideline-group .size-value {
position: absolute;
color: #f55;
font-size: 12px;
font-size: calc(12px * var(--zoom));
font-weight: bold;
}
.guideline-group.horizontal .size-value {
transform-origin: 50% 100%;
transform: translateX(-50%);
left: 50%;
bottom: 5px;
bottom: calc(2px + 3px * var(--zoom));
}
.guideline-group.vertical .size-value {
transform-origin: 0% 50%;
top: 50%;
transform: translateY(-50%);
left: 5px;
left: calc(2px + 3px * var(--zoom));
}
.guideline.gap {
background: #f55;
}
.size-value.gap {
color: #f55;
}
`],render:function(t,e){var n=t.state,r=n.top,i=n.left,s=n.pos1,u=n.pos2,l=n.pos3,c=n.pos4,f=n.snapRenderInfo,d=t.props.snapRenderThreshold,p=d===void 0?1:d;if(!f||!f.render||!qi(t,""))return $i(t,"boundMap",Xi(),function(at){return JSON.stringify(at)}),$i(t,"innerBoundMap",Xi(),function(at){return JSON.stringify(at)}),[];n.guidelines=mc(t);var v=Math.min(s[0],u[0],l[0],c[0]),g=Math.min(s[1],u[1],l[1],c[1]),m=f.externalPoses||[],_=wn(t.state),b=[],x=[],w=[],E=[],D=[],M=bn(_),A=M.width,T=M.height,O=M.top,I=M.left,k=M.bottom,N=M.right,z={left:I,right:N,top:O,bottom:k,center:(I+N)/2,middle:(O+k)/2},G=m.length>0,Y=G?bn(m):{};if(!f.request){if(f.direction&&D.push(_E(t,_,f.direction,p,p)),f.snap){var X=bn(_);f.center&&(X.middle=(X.top+X.bottom)/2,X.center=(X.left+X.right)/2),D.push(dv(t,X,p,p))}G&&(f.center&&(Y.middle=(Y.top+Y.bottom)/2,Y.center=(Y.left+Y.right)/2),D.push(dv(t,Y,p,p))),D.forEach(function(at){var lt=at.vertical.posInfos,ot=at.horizontal.posInfos;b.push.apply(b,it([],F(lt.filter(function(dt){var gt=dt.guidelineInfos;return gt.some(function(Dt){var jt=Dt.guideline;return!jt.hide})}).map(function(dt){return{type:"snap",pos:dt.pos}})),!1)),x.push.apply(x,it([],F(ot.filter(function(dt){var gt=dt.guidelineInfos;return gt.some(function(Dt){var jt=Dt.guideline;return!jt.hide})}).map(function(dt){return{type:"snap",pos:dt.pos}})),!1)),w.push.apply(w,it([],F(Bv(lt)),!1)),E.push.apply(E,it([],F(Bv(ot)),!1))})}var K=Gv(t,[I,N],[O,k],b,x),tt=K.boundMap,U=K.innerBoundMap;G&&Gv(t,[Y.left,Y.right],[Y.top,Y.bottom],b,x,f.externalBounds);var rt=it(it([],F(w),!1),F(E),!1),nt=rt.filter(function(at){return at.element&&!at.gapRects}),H=rt.filter(function(at){return at.gapRects}).sort(function(at,lt){return at.gap-lt.gap});ht(t,"onSnap",{guidelines:rt.filter(function(at){var lt=at.element;return!lt}),elements:nt,gaps:H},!0);var ut=$i(t,"boundMap",tt,function(at){return JSON.stringify(at)},Xi()),ft=$i(t,"innerBoundMap",U,function(at){return JSON.stringify(at)},Xi());return(tt===ut||U===ft)&&ht(t,"onBound",{bounds:tt,innerBounds:U},!0),it(it(it(it(it(it([],F(zE(t,nt,[v,g],z,e)),!1),F(NE(t,H,[v,g],z,e)),!1),F(Mv(t,"horizontal",E,[i,r],z,e)),!1),F(Mv(t,"vertical",w,[i,r],z,e)),!1),F(Cv(t,"horizontal",x,v,r,A,0,e)),!1),F(Cv(t,"vertical",b,g,i,T,1,e)),!1)},dragStart:function(t,e){t.state.snapRenderInfo={request:e.isRequest,snap:!0,center:!0},Ba(t)},drag:function(t){var e=t.state;Ba(t)||(e.guidelines=mc(t)),e.snapRenderInfo&&(e.snapRenderInfo.render=!0)},pinchStart:function(t){this.unset(t)},dragEnd:function(t){this.unset(t)},dragControlCondition:function(t,e){if(KE(t,e)||vc(t,e))return!0;if(!e.isRequest&&e.inputEvent)return De(e.inputEvent.target,_t("snap-control"))},dragControlStart:function(t){t.state.snapRenderInfo=null,Ba(t)},dragControl:function(t){this.drag(t)},dragControlEnd:function(t){this.unset(t)},dragGroupStart:function(t,e){this.dragStart(t,e)},dragGroup:function(t){this.drag(t)},dragGroupEnd:function(t){this.unset(t)},dragGroupControlStart:function(t){t.state.snapRenderInfo=null,Ba(t)},dragGroupControl:function(t){this.drag(t)},dragGroupControlEnd:function(t){this.unset(t)},unset:function(t){var e=t.state;e.enableSnap=!1,e.guidelines=[],e.snapRenderInfo=null,e.elementRects=[]}};function eD(t,e){return[t[0]*e[0],t[1]*e[1]]}function _t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ux.apply(void 0,it([$l],F(t),!1))}function Lv(t){t()}function nD(t){return!t||t==="none"?[1,0,0,1,0,0]:kn(t)?t:Xo(t)}function Ko(t,e,n){return pa(e,ei(n,e),t,ei(n.map(function(r){return-r}),e))}function rD(t,e,n){if(e==="%"){var r=bc(t.ownerSVGElement);return r[n?"width":"height"]/100}return 1}function iD(t){var e=oD(Ec(t,":before"));return e.map(function(n,r){var i=Po(n),s=i.value,u=i.unit;return s*rD(t,u,r===0)})}function Ga(t){return t?t.split(" "):["0","0"]}function oD(t){return Ga(t.transformOrigin)}function Fv(t){var e=nn(t),n=e("transform");if(n&&n!=="none")return n;if("transform"in t){var r=t.transform,i=r.baseVal;if(!i)return"";var s=i.length;if(!s)return"";for(var u=[],l=function(f){var d=i[f].matrix;u.push("matrix(".concat(["a","b","c","d","e","f"].map(function(p){return d[p]}).join(", "),")"))},c=0;c<s;++c)l(c);return u.join(" ")}return""}function ts(t,e,n,r,i){var s,u,l=xl(t)||Rr(t),c=!1,f,d;if(!t||n)f=t;else{var p=(s=t==null?void 0:t.assignedSlot)===null||s===void 0?void 0:s.parentElement,v=t.parentElement;p?(c=!0,d=v,f=p):f=v}for(var g=!1,m=t===e||f===e,_="relative",b=1,x=parseFloat(i==null?void 0:i("zoom"))||1,w=i==null?void 0:i("position");f&&f!==l;){e===f&&(m=!0);var E=nn(f),D=f.tagName.toLowerCase(),M=Fv(f),A=E("willChange"),T=parseFloat(E("zoom"))||1;if(_=E("position"),r&&T!==1){b=T;break}if(!n&&r&&x!==1&&w&&w!=="absolute"||D==="svg"||D==="foreignobject"||_!=="static"||M&&M!=="none"||A==="transform")break;var O=(u=t==null?void 0:t.assignedSlot)===null||u===void 0?void 0:u.parentNode,I=f.parentNode;O&&(c=!0,d=I);var k=I;if(k&&k.nodeType===11){f=k.host,g=!0,_=nn(f)("position");break}f=k,_="relative"}return{offsetZoom:b,hasSlot:c,parentSlotElement:d,isCustomElement:g,isStatic:_==="static",isEnd:m||!f||f===l,offsetParent:f||l}}function sD(t,e){var n,r=t.tagName.toLowerCase(),i=t.offsetLeft,s=t.offsetTop,u=nn(t),l=Io(i),c=!l,f,d;return!c&&(r!=="svg"||t.ownerSVGElement)?(f=Np?iD(t):Ga(u("transformOrigin")).map(function(p){return parseFloat(p)}),d=f.slice(),c=!0,r==="svg"?(i=0,s=0):(n=F(lD(t,f,t===e&&e.tagName.toLowerCase()==="g"),4),i=n[0],s=n[1],f[0]=n[2],f[1]=n[3])):(f=Ga(u("transformOrigin")).map(function(p){return parseFloat(p)}),d=f.slice()),{tagName:r,isSVG:l,hasOffset:c,offset:[i||0,s||0],origin:f,targetOrigin:d}}function zv(t,e){var n=nn(t),r=nn(Rr(t)),i=r("position");if(!e&&(!i||i==="static"))return[0,0];var s=parseInt(r("marginLeft"),10),u=parseInt(r("marginTop"),10);return n("position")==="absolute"&&((n("top")!=="auto"||n("bottom")!=="auto")&&(u=0),(n("left")!=="auto"||n("right")!=="auto")&&(s=0)),[s,u]}function yc(t){t.forEach(function(e){var n=e.matrix;n&&(e.matrix=Gn(n,3,4))})}function aD(t){for(var e=t.parentElement,n=!1,r=Rr(t);e;){var i=Ec(e).transform;if(i&&i!=="none"){n=!0;break}if(e===r)break;e=e.parentElement}return{fixedContainer:e||r,hasTransform:n}}function La(t,e){return e===void 0&&(e=t.length>9),"".concat(e?"matrix3d":"matrix","(").concat(Cp(t,!e).join(","),")")}function bc(t){var e=t.clientWidth,n=t.clientHeight;if(!t)return{x:0,y:0,width:0,height:0,clientWidth:e,clientHeight:n};var r=t.viewBox,i=r&&r.baseVal||{x:0,y:0,width:0,height:0};return{x:i.x,y:i.y,width:i.width||e,height:i.height||n,clientWidth:e,clientHeight:n}}function uD(t,e){var n,r=bc(t),i=r.width,s=r.height,u=r.clientWidth,l=r.clientHeight,c=u/i,f=l/s,d=t.preserveAspectRatio.baseVal,p=d.align,v=d.meetOrSlice,g=[0,0],m=[c,f],_=[0,0];if(p!==1){var b=(p-2)%3,x=Math.floor((p-2)/3);g[0]=i*b/2,g[1]=s*x/2;var w=v===2?Math.max(f,c):Math.min(c,f);m[0]=w,m[1]=w,_[0]=(u-i)/2*b,_[1]=(l-s)/2*x}var E=kl(m,e);return n=F(_,2),E[e*(e-1)]=n[0],E[e*(e-1)+1]=n[1],Ko(E,e,g)}function lD(t,e,n){var r=t.tagName.toLowerCase();if(!t.getBBox||!n&&r==="g")return[0,0,0,0];var i=nn(t),s=i("transform-box")==="fill-box",u=t.getBBox(),l=bc(t.ownerSVGElement),c=u.x,f=u.y;r==="foreignobject"&&!c&&!f&&(c=parseFloat(t.getAttribute("x"))||0,f=parseFloat(t.getAttribute("y"))||0);var d=c-l.x,p=f-l.y,v=s?e[0]:e[0]-d,g=s?e[1]:e[1]-p;return[d,p,v,g]}function he(t,e,n){return We(t,ti(e,n),n)}function si(t,e,n,r){return[[0,0],[e,0],[0,n],[e,n]].map(function(i){return he(t,i,r)})}function bn(t){var e=t.map(function(f){return f[0]}),n=t.map(function(f){return f[1]}),r=Math.min.apply(Math,it([],F(e),!1)),i=Math.min.apply(Math,it([],F(n),!1)),s=Math.max.apply(Math,it([],F(e),!1)),u=Math.max.apply(Math,it([],F(n),!1)),l=s-r,c=u-i;return{left:r,top:i,right:s,bottom:u,width:l,height:c}}function Nv(t,e,n,r){var i=si(t,e,n,r);return bn(i)}function cD(t,e,n,r,i){var s,u=t.target,l=t.origin,c=e.matrix,f=Wv(u),d=f.offsetWidth,p=f.offsetHeight,v=n.getBoundingClientRect(),g=[0,0];n===Rr(n)&&(g=zv(u,!0));for(var m=u.getBoundingClientRect(),_=m.left-v.left+n.scrollLeft-(n.clientLeft||0)+g[0],b=m.top-v.top+n.scrollTop-(n.clientTop||0)+g[1],x=m.width,w=m.height,E=pa(r,i,c),D=Nv(E,d,p,r),M=D.left,A=D.top,T=D.width,O=D.height,I=he(E,l,r),k=bt(I,[M,A]),N=[_+k[0]*x/T,b+k[1]*w/O],z=[0,0],G=0;++G<10;){var Y=Vn(i,r);s=F(bt(he(Y,N,r),he(Y,I,r)),2),z[0]=s[0],z[1]=s[1];var X=pa(r,i,ei(z,r),c),K=Nv(X,d,p,r),tt=K.left,U=K.top,rt=tt-_,nt=U-b;if(Z(rt)<2&&Z(nt)<2)break;N[0]-=rt,N[1]-=nt}return z.map(function(H){return Math.round(H)})}function fD(t,e,n){var r=t.length===16,i=r?4:3,s=e.map(function(c){return he(t,c,i)}),u=n.left,l=n.top;return s.map(function(c){return[c[0]+u,c[1]+l]})}function xn(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function jv(t,e){return xn([e[0]-t[0],e[1]-t[1]])}function es(t,e,n,r){n===void 0&&(n=1),r===void 0&&(r=me(t,e));var i=jv(t,e);return{transform:"translateY(-50%) translate(".concat(t[0],"px, ").concat(t[1],"px) rotate(").concat(r,"rad) scaleY(").concat(n,")"),width:"".concat(i,"px")}}function Fa(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=n.length,s=n.reduce(function(l,c){return l+c[0]},0)/i,u=n.reduce(function(l,c){return l+c[1]},0)/i;return{transform:"translateZ(0px) translate(".concat(s,"px, ").concat(u,"px) rotate(").concat(t,"rad) scale(").concat(e,")")}}function ai(t,e){var n=t[e];return kn(n)?B(B({},t),n):t}function Wv(t){var e=t&&!Io(t.offsetWidth),n=0,r=0,i=0,s=0,u=0,l=0,c=0,f=0,d=0,p=0,v=0,g=0,m=1/0,_=1/0,b=1/0,x=1/0,w=0,E=0,D=!1;if(t)if(!e&&t.ownerSVGElement){var M=t.getBBox();D=!0,n=M.width,r=M.height,u=n,l=r,c=n,f=r,i=n,s=r}else{var A=nn(t),T=t.style,O=A("boxSizing")==="border-box",I=parseFloat(A("borderLeftWidth"))||0,k=parseFloat(A("borderRightWidth"))||0,N=parseFloat(A("borderTopWidth"))||0,z=parseFloat(A("borderBottomWidth"))||0,G=parseFloat(A("paddingLeft"))||0,Y=parseFloat(A("paddingRight"))||0,X=parseFloat(A("paddingTop"))||0,K=parseFloat(A("paddingBottom"))||0,tt=G+Y,U=X+K,rt=I+k,nt=N+z,H=tt+rt,ut=U+nt,ft=A("position"),at=0,lt=0;if("clientLeft"in t){var ot=null;if(ft==="absolute"){var dt=ts(t,Rr(t));ot=dt.offsetParent}else ot=t.parentElement;if(ot){var gt=nn(ot);at=parseFloat(gt("width")),lt=parseFloat(gt("height"))}}d=Math.max(tt,ee(A("minWidth"),at)||0),p=Math.max(U,ee(A("minHeight"),lt)||0),m=ee(A("maxWidth"),at),_=ee(A("maxHeight"),lt),isNaN(m)&&(m=1/0),isNaN(_)&&(_=1/0),w=ee(T.width,0)||0,E=ee(T.height,0)||0,u=parseFloat(A("width"))||0,l=parseFloat(A("height"))||0,c=Z(u-w)<1?yl(d,w||u,m):u,f=Z(l-E)<1?yl(p,E||l,_):l,n=c,r=f,i=c,s=f,O?(b=m,x=_,v=d,g=p,c=n-H,f=r-ut):(b=m+H,x=_+ut,v=d+H,g=p+ut,n=c+H,r=f+ut),i=c+tt,s=f+U}return{svg:D,offsetWidth:n,offsetHeight:r,clientWidth:i,clientHeight:s,contentWidth:c,contentHeight:f,inlineCSSWidth:w,inlineCSSHeight:E,cssWidth:u,cssHeight:l,minWidth:d,minHeight:p,maxWidth:m,maxHeight:_,minOffsetWidth:v,minOffsetHeight:g,maxOffsetWidth:b,maxOffsetHeight:x}}function Yv(t,e){return me(e>0?t[0]:t[1],e>0?t[1]:t[0])}function za(){return{left:0,top:0,width:0,height:0,right:0,bottom:0,clientLeft:0,clientTop:0,clientWidth:0,clientHeight:0,scrollWidth:0,scrollHeight:0}}function Xv(t,e){var n=t===Rr(t)||t===xl(t),r={clientLeft:t.clientLeft,clientTop:t.clientTop,clientWidth:t.clientWidth,clientHeight:t.clientHeight,scrollWidth:t.scrollWidth,scrollHeight:t.scrollHeight,overflow:!1};return n&&(r.clientHeight=Math.max(e.height,r.clientHeight),r.scrollHeight=Math.max(e.height,r.scrollHeight)),r.overflow=nn(t)("overflow")!=="visible",B(B({},e),r)}function xc(t,e,n,r){var i=t.left,s=t.right,u=t.top,l=t.bottom,c=e.top,f=e.left,d={left:f+i,top:c+u,right:f+s,bottom:c+l,width:s-i,height:l-u};return n&&r?Xv(n,d):d}function ns(t,e){var n=0,r=0,i=0,s=0;if(t){var u=t.getBoundingClientRect();n=u.left,r=u.top,i=u.width,s=u.height}var l={left:n,top:r,width:i,height:s,right:n+i,bottom:r+s};return t&&e?Xv(t,l):l}function hD(t){var e=t.props,n=e.groupable,r=e.svgOrigin,i=t.getState(),s=i.offsetWidth,u=i.offsetHeight,l=i.svg,c=i.transformOrigin;return!n&&l&&r?Oc(r,s,u):c}function qv(t,e,n,r){var i;if(t)i=t;else if(e)i=[0,0];else{var s=n.target;i=Hv(s,r)}return i}function Hv(t,e){if(t){var n=t.getAttribute("data-rotation")||"",r=t.getAttribute("data-direction");if(e.deg=n,!!r){var i=[0,0];return r.indexOf("w")>-1&&(i[0]=-1),r.indexOf("e")>-1&&(i[0]=1),r.indexOf("n")>-1&&(i[1]=-1),r.indexOf("s")>-1&&(i[1]=1),i}}}function wc(t,e){return[Vt(e,t[0]),Vt(e,t[1]),Vt(e,t[2]),Vt(e,t[3])]}function wn(t){var e=t.left,n=t.top,r=t.pos1,i=t.pos2,s=t.pos3,u=t.pos4;return wc([r,i,s,u],[e,n])}function Sc(t,e){t[e?"controlAbles":"targetAbles"].forEach(function(n){n.unset&&n.unset(t)})}function Hi(t,e){var n=e?"controlGesto":"targetGesto",r=t[n];(r==null?void 0:r.isIdle())===!1&&Sc(t,e),r==null||r.unset(),t[n]=null}function Ve(t,e){if(e){var n=ji(e);n.nextStyle=B(B({},n.nextStyle),t)}return{style:t,cssText:ar(t).map(function(r){return"".concat(ca(r,"-"),": ").concat(t[r],";")}).join("")}}function Vv(t,e,n){var r=e.afterTransform||e.transform;return B(B({},Ve(B(B(B({},t.style),e.style),{transform:r}),n)),{afterTransform:r,transform:t.transform})}function It(t,e,n,r){var i=e.datas;i.datas||(i.datas={});var s=B(B({},n),{target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,moveable:t,datas:i.datas,isRequest:e.isRequest,isRequestChild:e.isRequestChild,isFirstDrag:!!e.isFirstDrag,isTrusted:e.isTrusted!==!1,stopAble:function(){i.isEventStart=!1},stopDrag:function(){var u;(u=e.stop)===null||u===void 0||u.call(e)}});return i.isStartEvent?r||(i.lastEvent=s):i.isStartEvent=!0,s}function cn(t,e,n){var r=e.datas,i="isDrag"in n?n.isDrag:e.isDrag;return r.datas||(r.datas={}),B(B({isDrag:i},n),{moveable:t,target:t.state.target,clientX:e.clientX,clientY:e.clientY,inputEvent:e.inputEvent,currentTarget:t,lastEvent:r.lastEvent,isDouble:e.isDouble,datas:r.datas,isFirstDrag:!!e.isFirstDrag})}function Na(t,e,n){t._emitter.on(e,n)}function ht(t,e,n,r,i){return t.triggerEvent(e,n,r,i)}function Ec(t,e){return Or(t).getComputedStyle(t,e)}function ja(t,e,n){var r={},i={};return t.filter(function(s){var u=s.name;if(r[u]||!e.some(function(l){return s[l]}))return!1;if(!n&&s.ableGroup){if(i[s.ableGroup])return!1;i[s.ableGroup]=!0}return r[u]=!0,!0})}function Dc(t,e){return t===e||t==null&&e==null}function Uv(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=t.length-1,r=0;r<n;++r){var i=t[r];if(!Io(i))return i}return t[n]}function $v(t,e){var n=[],r=[];return t.forEach(function(i,s){var u=e(i,s,t),l=r.indexOf(u),c=n[l]||[];l===-1&&(r.push(u),n.push(c)),c.push(i)}),n}function dD(t,e){var n=[],r={};return t.forEach(function(i,s){var u=e(i,s,t),l=r[u];l||(l=[],r[u]=l,n.push(l)),l.push(i)}),n}function Qv(t){return t.reduce(function(e,n){return e.concat(n)},[])}function Vi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.sort(function(n,r){return Z(r)-Z(n)}),t[0]}function Ui(t,e,n){return We(Vn(t,n),ti(e,n),n)}function Zv(t,e){var n,r=t.is3d,i=t.rootMatrix,s=r?4:3;return n=F(Ui(i,[e.distX,e.distY],s),2),e.distX=n[0],e.distY=n[1],e}function Sn(t,e,n,r){if(!n[0]&&!n[1])return e;var i=he(t,[Pv(n[0]||1),0],r),s=he(t,[0,Pv(n[1]||1)],r),u=he(t,[n[0]/xn(i),n[1]/xn(s)],r);return Vt(e,u)}function Fn(t,e,n){return n?"".concat(t/e*100,"%"):"".concat(t,"px")}function Wa(t){return Z(t)<=qe?0:t}function Ac(t){return function(e){if(!e.isDragging(t))return"";var n=rE(e,t),r=n.deg;return r?_t("view-control-rotation".concat(r)):""}}function Cc(t,e){return e===void 0&&(e=[t]),function(n,r){if(r.isRequest)return e.some(function(s){return r.requestAble===s})?r.parentDirection:!1;var i=r.inputEvent.target;return De(i,_t("direction"))&&(!t||De(i,_t(t)))}}function pD(t,e,n){var r,i=Gi(t,{"x%":function(M){return M/100*e.offsetWidth},"y%":function(M){return M/100*e.offsetHeight}}),s=t.slice(0,n<0?void 0:n),u=t.slice(0,n<0?void 0:n+1),l=t[n]||"",c=n<0?[]:t.slice(n),f=n<0?[]:t.slice(n+1),d=i.slice(0,n<0?void 0:n),p=i.slice(0,n<0?void 0:n+1),v=(r=i[n])!==null&&r!==void 0?r:Gi([""])[0],g=n<0?[]:i.slice(n),m=n<0?[]:i.slice(n+1),_=v?[v]:[],b=Bi(d),x=Bi(p),w=Bi(g),E=Bi(m),D=ne(b,w,4);return{transforms:t,beforeFunctionMatrix:b,beforeFunctionMatrix2:x,targetFunctionMatrix:Bi(_),afterFunctionMatrix:w,afterFunctionMatrix2:E,allFunctionMatrix:D,beforeFunctions:d,beforeFunctions2:p,targetFunction:_[0],afterFunctions:g,afterFunctions2:m,beforeFunctionTexts:s,beforeFunctionTexts2:u,targetFunctionText:l,afterFunctionTexts:c,afterFunctionTexts2:f}}function vD(t){return!t||!kn(t)||ki(t)?!1:Se(t)||"length"in t}function $n(t,e){return t?ki(t)?t:Ke(t)?e?document.querySelector(t):t:gl(t)?t():tp(t)?t:"current"in t?t.current:t:null}function Mc(t,e){if(!t)return[];var n=vD(t)?[].slice.call(t):[t];return n.reduce(function(r,i){return Ke(i)&&e?it(it([],F(r),!1),F([].slice.call(document.querySelectorAll(i))),!1):(Se(i)?r.push(Mc(i,e)):r.push($n(i,e)),r)},[])}function gD(t,e,n){var r=me(t,e)/Math.PI*180;return r=n>=0?r:180-r,r=r>=0?r:360+r,r}function Jv(t,e){var n=t.rootMatrix,r=t.is3d,i=r?4:3,s=Vn(n,i);return r||(s=Gn(s,3,4)),s[12]=0,s[13]=0,s[14]=0,Jw(s,e)}function Kv(t,e,n,r,i){var s=F(t,2),u=s[0],l=s[1],c=0,f=0;if(i&&u&&l){var d=me([0,0],e),p=me([0,0],r),v=xn(e),g=Math.cos(d-p)*v;if(!r[0])f=g,c=f*n;else if(!r[1])c=g,f=c/n;else{var m=r[0]*u,_=r[1]*l,b=Math.atan2(m+e[0],_+e[1]),x=Math.atan2(m,_);b<0&&(b+=Math.PI*2),x<0&&(x+=Math.PI*2);var w=0;Z(b-x)<Math.PI/2||Z(b-x)>Math.PI/2*3||(x+=Math.PI),w=b-x,w>Math.PI*2?w-=Math.PI*2:w>Math.PI?w=2*Math.PI-w:w<-Math.PI&&(w=-2*Math.PI-w);var E=xn([m+e[0],_+e[1]])*Math.cos(w);c=E*Math.sin(x)-m,f=E*Math.cos(x)-_,r[0]<0&&(c*=-1),r[1]<0&&(f*=-1)}}else c=r[0]*e[0],f=r[1]*e[1];return[c,f]}function tg(t,e,n,r){var i,s=n.ratio,u=n.startOffsetWidth,l=n.startOffsetHeight,c=0,f=0,d=r.distX,p=r.distY,v=r.pinchScale,g=r.parentDistance,m=r.parentDist,_=r.parentScale,b=n.fixedDirection,x=[0,1].map(function(T){return Z(t[T]-b[T])}),w=[0,1].map(function(T){var O=x[T];return O!==0&&(O=2/O),O});if(m)c=m[0],f=m[1],e&&(c?f||(f=c/s):c=f*s);else if(Ii(v))c=(v-1)*u,f=(v-1)*l;else if(_)c=(_[0]-1)*u,f=(_[1]-1)*l;else if(g){var E=u*x[0],D=l*x[1],M=xn([E,D]);c=g/M*E*w[0],f=g/M*D*w[1]}else{var A=Un({datas:n,distX:d,distY:p});A=w.map(function(T,O){return A[O]*T}),i=F(Kv([u,l],A,s,t,e),2),c=i[0],f=i[1]}return{distWidth:c,distHeight:f}}function Rc(t,e){if(e){if(t==="left")return{x:"0%",y:"50%"};if(t==="top")return{x:"50%",y:"50%"};if(t==="center")return{x:"50%",y:"50%"};if(t==="right")return{x:"100%",y:"50%"};if(t==="bottom")return{x:"50%",y:"100%"};var n=F(t.split(" "),2),r=n[0],i=n[1],s=Rc(r||""),u=Rc(i||""),l=B(B({},s),u),c={x:"50%",y:"50%"};return l.x&&(c.x=l.x),l.y&&(c.y=l.y),l.value&&(l.x&&!l.y&&(c.y=l.value),!l.x&&l.y&&(c.x=l.value)),c}return t==="left"?{x:"0%"}:t==="right"?{x:"100%"}:t==="top"?{y:"0%"}:t==="bottom"?{y:"100%"}:t?t==="center"?{value:"50%"}:{value:t}:{}}function Oc(t,e,n){var r=Rc(t,!0),i=r.x,s=r.y;return[ee(i,e)||0,ee(s,n)||0]}function mD(t,e,n){var r=t.map(function(s){return bt(s,e)}),i=r.map(function(s){return jo(s,n)});return{prev:r,next:i,result:i.map(function(s){return Vt(s,e)})}}function eg(t,e){return t.length===e.length&&t.every(function(n,r){var i=e[r],s=Se(n),u=Se(i);return s&&u?eg(n,i):!s&&!u?n===i:!1})}function $i(t,e,n,r,i){var s=t._store,u=s[e];if(!(e in s))if(i!=null)s[e]=i,u=i;else return s[e]=n,n;return u===n||r(u)===r(n)?u:(s[e]=n,n)}function Ue(t){return t>=0?1:-1}function Z(t){return Math.abs(t)}function Tc(t,e){return fw(t).map(function(n){return e(n)})}function ng(t){return Ii(t)?{top:t,left:t,right:t,bottom:t}:{left:t.left||0,top:t.top||0,right:t.right||0,bottom:t.bottom||0}}var _D=Vo("pinchable",{props:["pinchable"],events:["pinchStart","pinch","pinchEnd","pinchGroupStart","pinchGroup","pinchGroupEnd"],dragStart:function(){return!0},pinchStart:function(t,e){var n=e.datas,r=e.targets,i=e.angle,s=e.originalDatas,u=t.props,l=u.pinchable,c=u.ables;if(!l)return!1;var f="onPinch".concat(r?"Group":"","Start"),d="drag".concat(r?"Group":"","ControlStart"),p=(l===!0?t.controlAbles:c.filter(function(_){return l.indexOf(_.name)>-1})).filter(function(_){return _.canPinch&&_[d]}),v=It(t,e,{});r&&(v.targets=r);var g=ht(t,f,v);n.isPinch=g!==!1,n.ables=p;var m=n.isPinch;return m?(p.forEach(function(_){if(s[_.name]=s[_.name]||{},!!_[d]){var b=B(B({},e),{datas:s[_.name],parentRotate:i,isPinch:!0});_[d](t,b)}}),t.state.snapRenderInfo={request:e.isRequest,direction:[0,0]},m):!1},pinch:function(t,e){var n=e.datas,r=e.scale,i=e.distance,s=e.originalDatas,u=e.inputEvent,l=e.targets,c=e.angle;if(n.isPinch){var f=i*(1-1/r),d=It(t,e,{});l&&(d.targets=l);var p="onPinch".concat(l?"Group":"");ht(t,p,d);var v=n.ables,g="drag".concat(l?"Group":"","Control");return v.forEach(function(m){m[g]&&m[g](t,B(B({},e),{datas:s[m.name],inputEvent:u,resolveMatrix:!0,pinchScale:r,parentDistance:f,parentRotate:c,isPinch:!0}))}),d}},pinchEnd:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,s=e.targets,u=e.originalDatas;if(n.isPinch){var l="onPinch".concat(s?"Group":"","End"),c=cn(t,e,{isDrag:r});s&&(c.targets=s),ht(t,l,c);var f=n.ables,d="drag".concat(s?"Group":"","ControlEnd");return f.forEach(function(p){p[d]&&p[d](t,B(B({},e),{isDrag:r,datas:u[p.name],inputEvent:i,isPinch:!0}))}),r}},pinchGroupStart:function(t,e){return this.pinchStart(t,B(B({},e),{targets:t.props.targets}))},pinchGroup:function(t,e){return this.pinch(t,B(B({},e),{targets:t.props.targets}))},pinchGroupEnd:function(t,e){return this.pinchEnd(t,B(B({},e),{targets:t.props.targets}))}}),rg=Cc("scalable"),yD={name:"scalable",ableGroup:"size",canPinch:!0,props:["scalable","throttleScale","renderDirections","keepRatio","edge","displayAroundControls"],events:["scaleStart","beforeScale","scale","scaleEnd","scaleGroupStart","beforeScaleGroup","scaleGroup","scaleGroupEnd"],render:nv("scalable"),dragControlCondition:rg,viewClassName:Ac("scalable"),dragControlStart:function(t,e){var n=e.datas,r=e.isPinch,i=e.inputEvent,s=e.parentDirection,u=qv(s,r,i,n),l=t.state,c=l.width,f=l.height,d=l.targetTransform,p=l.target,v=l.pos1,g=l.pos2,m=l.pos4;if(!u||!p)return!1;r||ri(t,e),n.datas={},n.transform=d,n.prevDist=[1,1],n.direction=u,n.startOffsetWidth=c,n.startOffsetHeight=f,n.startValue=[1,1];var _=!u[0]&&!u[1]||u[0]||!u[1];Ea(t,e,"scale"),n.isWidth=_;function b(A){n.ratio=A&&isFinite(A)?A:0}n.startPositions=wn(t.state);function x(A){var T=Sv(n.startPositions,A);n.fixedDirection=T.fixedDirection,n.fixedPosition=T.fixedPosition,n.fixedOffset=T.fixedOffset}n.setFixedDirection=x,b(ur(v,g)/ur(g,m)),x([-u[0],-u[1]]);var w=function(A){n.minScaleSize=A},E=function(A){n.maxScaleSize=A};w([-1/0,-1/0]),E([1/0,1/0]);var D=It(t,e,B(B({direction:u,set:function(A){n.startValue=A},setRatio:b,setFixedDirection:x,setMinScaleSize:w,setMaxScaleSize:E},Sa(t,e)),{dragStart:He.dragStart(t,new zi().dragStart([0,0],e))})),M=ht(t,"onScaleStart",D);return n.startFixedDirection=n.fixedDirection,M!==!1&&(n.isScale=!0,t.state.snapRenderInfo={request:e.isRequest,direction:u}),n.isScale?D:!1},dragControl:function(t,e){xa(t,e,"scale");var n=e.datas,r=e.parentKeepRatio,i=e.parentFlag,s=e.isPinch,u=e.dragClient,l=e.isRequest,c=e.useSnap,f=e.resolveMatrix,d=n.prevDist,p=n.direction,v=n.startOffsetWidth,g=n.startOffsetHeight,m=n.isScale,_=n.startValue,b=n.isWidth,x=n.ratio;if(!m)return!1;var w=t.props,E=w.throttleScale,D=w.parentMoveable,M=p;!p[0]&&!p[1]&&(M=[1,1]);var A=x&&(r??w.keepRatio)||!1,T=t.state,O=[_[0],_[1]];function I(){var st=tg(M,A,n,e),vt=st.distWidth,Ut=st.distHeight,yt=v?(v+vt)/v:1,Et=g?(g+Ut)/g:1;_[0]||(O[0]=vt/v),_[1]||(O[1]=Ut/g);var Bt=(M[0]||A?yt:1)*O[0],zt=(M[1]||A?Et:1)*O[1];return Bt===0&&(Bt=Ue(d[0])*ba),zt===0&&(zt=Ue(d[1])*ba),[Bt,zt]}var k=I();if(!s&&t.props.groupable){var N=T.snapRenderInfo||{},z=N.direction;Se(z)&&(z[0]||z[1])&&(T.snapRenderInfo={direction:p,request:e.isRequest})}ht(t,"onBeforeScale",It(t,e,{scale:k,setFixedDirection:function(st){return n.setFixedDirection(st),k=I(),k},startFixedDirection:n.startFixedDirection,setScale:function(st){k=st}},!0));var G=[k[0]/O[0],k[1]/O[1]],Y=u,X=[0,0],K=Ue(G[0]*G[1]),tt=!u&&!i&&s;if(tt||f?Y=nc(t,n.targetAllTransform,[0,0],[0,0],n):u||(Y=n.fixedPosition),s||(X=ZE(t,G,p,!c&&l,n)),A){M[0]&&M[1]&&X[0]&&X[1]&&(Math.abs(X[0]*v)>Math.abs(X[1]*g)?X[1]=0:X[0]=0);var U=!X[0]&&!X[1];if(U&&(b?G[0]=Mt(G[0]*O[0],E)/O[0]:G[1]=Mt(G[1]*O[1],E)/O[1]),M[0]&&!M[1]||X[0]&&!X[1]||U&&b){G[0]+=X[0];var rt=v*G[0]*O[0]/x;G[1]=Ue(K*G[0])*Z(rt/g/O[1])}else if(!M[0]&&M[1]||!X[0]&&X[1]||U&&!b){G[1]+=X[1];var nt=g*G[1]*O[1]*x;G[0]=Ue(K*G[1])*Z(nt/v/O[0])}}else G[0]+=X[0],G[1]+=X[1],X[0]||(G[0]=Mt(G[0]*O[0],E)/O[0]),X[1]||(G[1]=Mt(G[1]*O[1],E)/O[1]);G[0]===0&&(G[0]=Ue(d[0])*ba),G[1]===0&&(G[1]=Ue(d[1])*ba),k=eD(G,[O[0],O[1]]);var H=[v,g],ut=[v*k[0],g*k[1]];ut=Vd(ut,n.minScaleSize,n.maxScaleSize,A?x:!1),k=Tc(2,function(st){return H[st]?ut[st]/H[st]:ut[st]}),G=Tc(2,function(st){return k[st]/O[st]});var ft=Tc(2,function(st){return d[st]?G[st]/d[st]:G[st]}),at="scale(".concat(G.join(", "),")"),lt="scale(".concat(k.join(", "),")"),ot=wa(n,lt,at),dt=!_[0]||!_[1],gt=ZS(t,dt?lt:at,n.fixedDirection,Y,n.fixedOffset,n,dt),Dt=tt?gt:bt(gt,n.prevInverseDist||[0,0]);if(n.prevDist=G,n.prevInverseDist=gt,k[0]===d[0]&&k[1]===d[1]&&Dt.every(function(st){return!st})&&!D&&!tt)return!1;var jt=It(t,e,B({offsetWidth:v,offsetHeight:g,direction:p,scale:k,dist:G,delta:ft,isPinch:!!s},Qp(t,ot,Dt,s,e)));return ht(t,"onScale",jt),jt},dragControlEnd:function(t,e){var n=e.datas;if(!n.isScale)return!1;n.isScale=!1;var r=cn(t,e,{});return ht(t,"onScaleEnd",r),r},dragGroupControlCondition:rg,dragGroupControlStart:function(t,e){var n=e.datas,r=this.dragControlStart(t,e);if(!r)return!1;var i=Ln(t,"resizable",e);n.moveableScale=t.scale;var s=lr(t,this,"dragControlStart",e,function(f,d){return Ma(t,f,n,d)}),u=function(f){r.setFixedDirection(f),s.forEach(function(d,p){d.setFixedDirection(f),Ma(t,d.moveable,n,i[p])})};n.setFixedDirection=u;var l=B(B({},r),{targets:t.props.targets,events:s,setFixedDirection:u}),c=ht(t,"onScaleGroupStart",l);return n.isScale=c!==!1,n.isScale?l:!1},dragGroupControl:function(t,e){var n=e.datas;if(n.isScale){Na(t,"onBeforeScale",function(d){ht(t,"onBeforeScaleGroup",It(t,e,B(B({},d),{targets:t.props.targets}),!0))});var r=this.dragControl(t,e);if(r){var i=r.dist,s=n.moveableScale;t.scale=[i[0]*s[0],i[1]*s[1]];var u=t.props.keepRatio,l=n.fixedPosition,c=lr(t,this,"dragControl",e,function(d,p){var v=F(We(Wo(t.rotation/180*Math.PI,3),[p.datas.originalX*i[0],p.datas.originalY*i[1],1],3),2),g=v[0],m=v[1];return B(B({},p),{parentDist:null,parentScale:i,parentKeepRatio:u,dragClient:Vt(l,[g,m])})}),f=B({targets:t.props.targets,events:c},r);return ht(t,"onScaleGroup",f),f}}},dragGroupControlEnd:function(t,e){var n=e.isDrag,r=e.datas;if(r.isScale){this.dragControlEnd(t,e);var i=lr(t,this,"dragControlEnd",e),s=cn(t,e,{targets:t.props.targets,events:i});return ht(t,"onScaleGroupEnd",s),n}},request:function(){var t={},e=0,n=0,r=!1;return{isControl:!0,requestStart:function(i){return r=i.useSnap,{datas:t,parentDirection:i.direction||[1,1],useSnap:r}},request:function(i){return e+=i.deltaWidth,n+=i.deltaHeight,{datas:t,parentDist:[e,n],parentKeepRatio:i.keepRatio,useSnap:r}},requestEnd:function(){return{datas:t,isDrag:!0,useSnap:r}}}}};function Br(t,e){return t.map(function(n,r){return la(n,e[r],1,2)})}function ig(t,e,n){var r=me(t,e),i=me(t,n),s=i-r;return s>=0?s:s+2*Math.PI}function bD(t,e){var n=ig(t[0],t[1],t[2]),r=ig(e[0],e[1],e[2]),i=Math.PI;return!(n>=i&&r<=i||n<=i&&r>=i)}var xD={name:"warpable",ableGroup:"size",props:["warpable","renderDirections","edge","displayAroundControls"],events:["warpStart","warp","warpEnd"],viewClassName:Ac("warpable"),render:function(t,e){var n=t.props,r=n.resizable,i=n.scalable,s=n.warpable,u=n.zoom;if(r||i||!s)return[];var l=t.state,c=l.pos1,f=l.pos2,d=l.pos3,p=l.pos4,v=Br(c,f),g=Br(f,c),m=Br(c,d),_=Br(d,c),b=Br(d,p),x=Br(p,d),w=Br(f,p),E=Br(p,f);return it([e.createElement("div",{className:_t("line"),key:"middeLine1",style:es(v,b,u)}),e.createElement("div",{className:_t("line"),key:"middeLine2",style:es(g,x,u)}),e.createElement("div",{className:_t("line"),key:"middeLine3",style:es(m,w,u)}),e.createElement("div",{className:_t("line"),key:"middeLine4",style:es(_,E,u)})],F(rv(t,"warpable",e)),!1)},dragControlCondition:function(t,e){if(e.isRequest)return!1;var n=e.inputEvent.target;return De(n,_t("direction"))&&De(n,_t("warpable"))},dragControlStart:function(t,e){var n=e.datas,r=e.inputEvent,i=t.props.target,s=r.target,u=Hv(s,n);if(!u||!i)return!1;var l=t.state,c=l.transformOrigin,f=l.is3d,d=l.targetTransform,p=l.targetMatrix,v=l.width,g=l.height,m=l.left,_=l.top;n.datas={},n.targetTransform=d,n.warpTargetMatrix=f?p:Gn(p,3,4),n.targetInverseMatrix=Dp(Vn(n.warpTargetMatrix,4),3,4),n.direction=u,n.left=m,n.top=_,n.poses=[[0,0],[v,0],[0,g],[v,g]].map(function(w){return bt(w,c)}),n.nextPoses=n.poses.map(function(w){var E=F(w,2),D=E[0],M=E[1];return We(n.warpTargetMatrix,[D,M,0,1],4)}),n.startValue=ae(4),n.prevMatrix=ae(4),n.absolutePoses=wn(l),n.posIndexes=$p(u),ri(t,e),Ea(t,e,"matrix3d"),l.snapRenderInfo={request:e.isRequest,direction:u};var b=It(t,e,B({set:function(w){n.startValue=w}},Sa(t,e))),x=ht(t,"onWarpStart",b);return x!==!1&&(n.isWarp=!0),n.isWarp},dragControl:function(t,e){var n=e.datas,r=e.isRequest,i=e.distX,s=e.distY,u=n.targetInverseMatrix,l=n.prevMatrix,c=n.isWarp,f=n.startValue,d=n.poses,p=n.posIndexes,v=n.absolutePoses;if(!c)return!1;if(xa(t,e,"matrix3d"),qi(t,"warpable")){var g=p.map(function(I){return v[I]});g.length>1&&g.push([(g[0][0]+g[1][0])/2,(g[0][1]+g[1][1])/2]);var m=Pa(t,r,{horizontal:g.map(function(I){return I[1]+s}),vertical:g.map(function(I){return I[0]+i})}),_=m.horizontal,b=m.vertical;s-=_.offset,i-=b.offset}var x=Un({datas:n,distX:i,distY:s},!0),w=n.nextPoses.slice();if(p.forEach(function(I){w[I]=Vt(w[I],x)}),!jS.every(function(I){return bD(I.map(function(k){return d[k]}),I.map(function(k){return w[k]}))}))return!1;var E=Bl(d[0],d[2],d[1],d[3],w[0],w[2],w[1],w[3]);if(!E.length)return!1;var D=ne(u,E,4),M=Vp(n,D,!0),A=ne(Vn(l,4),M,4);n.prevMatrix=M;var T=ne(f,M,4),O=wa(n,"matrix3d(".concat(T.join(", "),")"),"matrix3d(".concat(M.join(", "),")"));return ec(e,O),ht(t,"onWarp",It(t,e,B({delta:A,matrix:T,dist:M,multiply:ne,transform:O},Ve({transform:O},e)))),!0},dragControlEnd:function(t,e){var n=e.datas,r=e.isDrag;return n.isWarp?(n.isWarp=!1,ht(t,"onWarpEnd",cn(t,e,{})),r):!1}},wD=_t("area-pieces"),Ya=_t("area-piece"),og=_t("avoid"),SD=_t("view-dragging");function Ic(t){var e=t.areaElement;if(e){var n=t.state,r=n.width,i=n.height;Kd(e,og),e.style.cssText+="left: 0px; top: 0px; width: ".concat(r,"px; height: ").concat(i,"px")}}function sg(t){return t.createElement("div",{key:"area_pieces",className:wD},t.createElement("div",{className:Ya}),t.createElement("div",{className:Ya}),t.createElement("div",{className:Ya}),t.createElement("div",{className:Ya}))}var ag={name:"dragArea",props:["dragArea","passDragArea"],events:["click","clickGroup"],render:function(t,e){var n=t.props,r=n.target,i=n.dragArea,s=n.groupable,u=n.passDragArea,l=t.getState(),c=l.width,f=l.height,d=l.renderPoses,p=u?_t("area","pass"):_t("area");if(s)return[e.createElement("div",{key:"area",ref:or(t,"areaElement"),className:p}),sg(e)];if(!r||!i)return[];var v=Bl([0,0],[c,0],[0,f],[c,f],d[0],d[1],d[2],d[3]),g=v.length?La(v,!0):"none";return[e.createElement("div",{key:"area",ref:or(t,"areaElement"),className:p,style:{top:"0px",left:"0px",width:"".concat(c,"px"),height:"".concat(f,"px"),transformOrigin:"0 0",transform:g}}),sg(e)]},dragStart:function(t,e){var n=e.datas,r=e.clientX,i=e.clientY,s=e.inputEvent;if(!s)return!1;n.isDragArea=!1;var u=t.areaElement,l=t.state,c=l.moveableClientRect,f=l.renderPoses,d=l.rootMatrix,p=l.is3d,v=c.left,g=c.top,m=bn(f),_=m.left,b=m.top,x=m.width,w=m.height,E=p?4:3,D=F(Ui(d,[r-v,i-g],E),2),M=D[0],A=D[1];M-=_,A-=b;var T=[{left:_,top:b,width:x,height:A-10},{left:_,top:b,width:M-10,height:w},{left:_,top:b+A+10,width:x,height:w-A-10},{left:_+M+10,top:b,width:x-M-10,height:w}],O=[].slice.call(u.nextElementSibling.children);T.forEach(function(I,k){O[k].style.cssText="left: ".concat(I.left,"px;top: ").concat(I.top,"px; width: ").concat(I.width,"px; height: ").concat(I.height,"px;")}),Jd(u,og),l.disableNativeEvent=!0},drag:function(t,e){var n=e.datas,r=e.inputEvent;if(this.enableNativeEvent(t),!r)return!1;n.isDragArea||(n.isDragArea=!0,Ic(t))},dragEnd:function(t,e){this.enableNativeEvent(t);var n=e.inputEvent,r=e.datas;if(!n)return!1;r.isDragArea||Ic(t)},dragGroupStart:function(t,e){return this.dragStart(t,e)},dragGroup:function(t,e){return this.drag(t,e)},dragGroupEnd:function(t,e){return this.dragEnd(t,e)},unset:function(t){Ic(t),t.state.disableNativeEvent=!1},enableNativeEvent:function(t){var e=t.state;e.disableNativeEvent&&qd(function(){e.disableNativeEvent=!1})}},ED=Vo("origin",{props:["origin","svgOrigin"],render:function(t,e){var n=t.props,r=n.zoom,i=n.svgOrigin,s=n.groupable,u=t.getState(),l=u.beforeOrigin,c=u.rotation,f=u.svg,d=u.allMatrix,p=u.is3d,v=u.left,g=u.top,m=u.offsetWidth,_=u.offsetHeight,b;if(!s&&f&&i){var x=F(Oc(i,m,_),2),w=x[0],E=x[1],D=p?4:3,M=he(d,[w,E],D);b=Fa(c,r,bt(M,[v,g]))}else b=Fa(c,r,l);return[e.createElement("div",{className:_t("control","origin"),style:b,key:"beforeOrigin"})]}});function DD(t){var e=t.scrollContainer;return[e.scrollLeft,e.scrollTop]}var AD={name:"scrollable",canPinch:!0,props:["scrollable","scrollContainer","scrollThreshold","scrollThrottleTime","getScrollPosition","scrollOptions"],events:["scroll","scrollGroup"],dragRelation:"strong",dragStart:function(t,e){var n=t.props,r=n.scrollContainer,i=r===void 0?t.getContainer():r,s=n.scrollOptions,u=new sS,l=$n(i,!0);e.datas.dragScroll=u,t.state.dragScroll=u;var c=e.isControl?"controlGesto":"targetGesto",f=e.targets;u.on("scroll",function(d){var p=d.container,v=d.direction,g=It(t,e,{scrollContainer:p,direction:v}),m=f?"onScrollGroup":"onScroll";f&&(g.targets=f),ht(t,m,g)}).on("move",function(d){var p=d.offsetX,v=d.offsetY,g=d.inputEvent;t[c].scrollBy(p,v,g.inputEvent,!1)}).on("scrollDrag",function(d){var p=d.next;p(t[c].getCurrentEvent())}),u.dragStart(e,B({container:l},s))},checkScroll:function(t,e){var n=e.datas.dragScroll;if(n){var r=t.props,i=r.scrollContainer,s=i===void 0?t.getContainer():i,u=r.scrollThreshold,l=u===void 0?0:u,c=r.scrollThrottleTime,f=c===void 0?0:c,d=r.getScrollPosition,p=d===void 0?DD:d,v=r.scrollOptions;return n.drag(e,B({container:s,threshold:l,throttleTime:f,getScrollPosition:function(g){return p({scrollContainer:g.container,direction:g.direction})}},v)),!0}},drag:function(t,e){return this.checkScroll(t,e)},dragEnd:function(t,e){e.datas.dragScroll.dragEnd(),e.datas.dragScroll=null},dragControlStart:function(t,e){return this.dragStart(t,B(B({},e),{isControl:!0}))},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupStart:function(t,e){return this.dragStart(t,B(B({},e),{targets:t.props.targets}))},dragGroup:function(t,e){return this.drag(t,B(B({},e),{targets:t.props.targets}))},dragGroupEnd:function(t,e){return this.dragEnd(t,B(B({},e),{targets:t.props.targets}))},dragGroupControlStart:function(t,e){return this.dragStart(t,B(B({},e),{targets:t.props.targets,isControl:!0}))},dragGroupControl:function(t,e){return this.drag(t,B(B({},e),{targets:t.props.targets}))},dragGroupControEnd:function(t,e){return this.dragEnd(t,B(B({},e),{targets:t.props.targets}))},unset:function(t){var e,n=t.state;(e=n.dragScroll)===null||e===void 0||e.dragEnd(),n.dragScroll=null}},ug={name:"",props:["target","dragTargetSelf","dragTarget","dragContainer","container","warpSelf","rootContainer","useResizeObserver","useMutationObserver","zoom","dragFocusedInput","transformOrigin","ables","className","pinchThreshold","pinchOutside","triggerAblesSimultaneously","checkInput","cspNonce","translateZ","hideDefaultLines","props","flushSync","stopPropagation","preventClickEventOnDrag","preventClickDefault","viewContainer","persistData","useAccuratePosition","firstRenderState","linePadding","controlPadding","preventDefault","preventRightClick","preventWheelClick","requestStyles"],events:["changeTargets"]},CD=Vo("padding",{props:["padding"],render:function(t,e){var n=t.props;if(n.dragArea)return[];var r=ng(n.padding||{}),i=r.left,s=r.top,u=r.right,l=r.bottom,c=t.getState(),f=c.renderPoses,d=c.pos1,p=c.pos2,v=c.pos3,g=c.pos4,m=[d,p,v,g],_=[];return i>0&&_.push([0,2]),s>0&&_.push([0,1]),u>0&&_.push([1,3]),l>0&&_.push([2,3]),_.map(function(b,x){var w=F(b,2),E=w[0],D=w[1],M=m[E],A=m[D],T=f[E],O=f[D],I=Bl([0,0],[100,0],[0,100],[100,100],M,A,T,O);if(I.length)return e.createElement("div",{key:"padding".concat(x),className:_t("padding"),style:{transform:La(I,!0)}})})}}),lg=["nw","ne","se","sw"];function Xa(t,e){var n=t[0]+t[1],r=n>e?e/n:1;return t[0]*=r,t[1]=e-t[1]*r,t}var MD=[1,2,5,6],RD=[0,3,4,7],ui=[1,-1,-1,1],li=[1,1,-1,-1];function Pc(t,e,n,r,i,s,u,l){i===void 0&&(i=0),s===void 0&&(s=0),u===void 0&&(u=n),l===void 0&&(l=r);var c=[],f=!1,d=t.filter(function(v){return!v.virtual}),p=d.map(function(v){var g=v.horizontal,m=v.vertical,_=v.pos;if(m&&!f&&(f=!0,c.push("/")),f){var b=Math.max(0,m===1?_[1]-s:l-_[1]);return c.push(Fn(b,r,e)),b}else{var b=Math.max(0,g===1?_[0]-i:u-_[0]);return c.push(Fn(b,n,e)),b}});return{radiusPoses:d,styles:c,raws:p}}function cg(t){for(var e=[0,0],n=[0,0],r=t.length,i=0;i<r;++i){var s=t[i];s.sub&&(s.horizontal&&(e[1]===0&&(e[0]=i),e[1]=i-e[0]+1,n[0]=i+1),s.vertical&&(n[1]===0&&(n[0]=i),n[1]=i-n[0]+1))}return{horizontalRange:e,verticalRange:n}}function fg(t,e,n,r,i,s,u){var l,c,f,d;s===void 0&&(s=[0,0]),u===void 0&&(u=!1);var p=t.indexOf("/"),v=(p>-1?t.slice(0,p):t).length,g=t.slice(0,v),m=t.slice(v+1),_=g.length,b=m.length,x=b>0,w=F(g,4),E=w[0],D=E===void 0?"0px":E,M=w[1],A=M===void 0?D:M,T=w[2],O=T===void 0?D:T,I=w[3],k=I===void 0?A:I,N=F(m,4),z=N[0],G=z===void 0?D:z,Y=N[1],X=Y===void 0?x?G:A:Y,K=N[2],tt=K===void 0?x?G:O:K,U=N[3],rt=U===void 0?x?X:k:U,nt=[D,A,O,k].map(function(ot){return ee(ot,e)}),H=[G,X,tt,rt].map(function(ot){return ee(ot,n)}),ut=nt.slice(),ft=H.slice();l=F(Xa([ut[0],ut[1]],e),2),ut[0]=l[0],ut[1]=l[1],c=F(Xa([ut[3],ut[2]],e),2),ut[3]=c[0],ut[2]=c[1],f=F(Xa([ft[0],ft[3]],n),2),ft[0]=f[0],ft[3]=f[1],d=F(Xa([ft[1],ft[2]],n),2),ft[1]=d[0],ft[2]=d[1];var at=u?ut:ut.slice(0,Math.max(s[0],_)),lt=u?ft:ft.slice(0,Math.max(s[1],b));return it(it([],F(at.map(function(ot,dt){var gt=lg[dt];return{virtual:dt>=_,horizontal:ui[dt],vertical:0,pos:[r+ot,i+(li[dt]===-1?n:0)],sub:!0,raw:nt[dt],direction:gt}})),!1),F(lt.map(function(ot,dt){var gt=lg[dt];return{virtual:dt>=b,horizontal:0,vertical:li[dt],pos:[r+(ui[dt]===-1?e:0),i+ot],sub:!0,raw:H[dt],direction:gt}})),!1)}function OD(t,e,n,r,i){i===void 0&&(i=e.length);var s=cg(t.slice(r)),u=s.horizontalRange,l=s.verticalRange,c=n-r,f=0;if(c===0)f=i;else if(c>0&&c<u[1])f=u[1]-c;else if(c>=l[0])f=l[0]+l[1]-c;else return;t.splice(n,f),e.splice(n,f)}function TD(t,e,n,r,i,s,u,l,c,f,d){f===void 0&&(f=0),d===void 0&&(d=0);var p=cg(t.slice(n)),v=p.horizontalRange,g=p.verticalRange;if(r>-1)for(var m=ui[r]===1?s-f:l-s,_=v[1];_<=r;++_){var b=li[_]===1?d:c,x=0;if(r===_?x=s:_===0?x=f+m:ui[_]===-1&&(x=l-(e[n][0]-f)),t.splice(n+_,0,{horizontal:ui[_],vertical:0,pos:[x,b]}),e.splice(n+_,0,[x,b]),_===0)break}else if(i>-1){var w=li[i]===1?u-d:c-u;if(v[1]===0&&g[1]===0){var E=[f+w,d];t.push({horizontal:ui[0],vertical:0,pos:E}),e.push(E)}for(var D=g[0],_=g[1];_<=i;++_){var x=ui[_]===1?f:l,b=0;if(i===_?b=u:_===0?b=d+w:li[_]===1?b=e[n+D][1]:li[_]===-1&&(b=c-(e[n+D][1]-d)),t.push({horizontal:0,vertical:li[_],pos:[x,b]}),e.push([x,b]),_===0)break}}}function ID(t,e){e===void 0&&(e=t.map(function(i){return i.raw}));var n=t.map(function(i,s){return i.horizontal?e[s]:null}).filter(function(i){return i!=null}),r=t.map(function(i,s){return i.vertical?e[s]:null}).filter(function(i){return i!=null});return{horizontals:n,verticals:r}}var PD=[[0,-1,"n"],[1,0,"e"]],kD=[[-1,-1,"nw"],[0,-1,"n"],[1,-1,"ne"],[1,0,"e"],[1,1,"se"],[0,1,"s"],[-1,1,"sw"],[-1,0,"w"]];function kc(t,e,n){var r=t.props.clipRelative,i=t.state,s=i.width,u=i.height,l=e,c=l.type,f=l.poses,d=c==="rect",p=c==="circle";if(c==="polygon")return n.map(function(A){return"".concat(Fn(A[0],s,r)," ").concat(Fn(A[1],u,r))});if(d||c==="inset"){var v=n[1][1],g=n[3][0],m=n[7][0],_=n[5][1];if(d)return[v,g,_,m].map(function(A){return"".concat(A,"px")});var b=[v,s-g,u-_,m].map(function(A,T){return Fn(A,T%2?s:u,r)});if(n.length>8){var x=F(bt(n[4],n[0]),2),w=x[0],E=x[1];b.push.apply(b,it(["round"],F(Pc(f.slice(8).map(function(A,T){return B(B({},A),{pos:n[T]})}),r,w,E,m,v,g,_).styles),!1))}return b}else if(p||c==="ellipse"){var D=n[0],M=Fn(Z(n[1][1]-D[1]),p?Math.sqrt((s*s+u*u)/2):u,r),b=p?[M]:[Fn(Z(n[2][0]-D[0]),s,r),M];return b.push("at",Fn(D[0],s,r),Fn(D[1],u,r)),b}}function qa(t,e,n,r){var i=[r,(r+e)/2,e],s=[t,(t+n)/2,n];return kD.map(function(u){var l=F(u,3),c=l[0],f=l[1],d=l[2],p=i[c+1],v=s[f+1];return{vertical:Z(f),horizontal:Z(c),direction:d,pos:[p,v]}})}function hg(t){var e=[1/0,-1/0],n=[1/0,-1/0];return t.forEach(function(r){var i=r.pos;e[0]=Math.min(e[0],i[0]),e[1]=Math.max(e[1],i[0]),n[0]=Math.min(n[0],i[1]),n[1]=Math.max(n[1],i[1])}),[Z(e[1]-e[0]),Z(n[1]-n[0])]}function dg(t,e,n,r,i){var s,u,l,c,f,d,p,v,g;if(t){var m=i;if(!m){var _=nn(t),b=_("clipPath");m=b!=="none"?b:_("clip")}if(!((!m||m==="none"||m==="auto")&&(m=r,!m))){var x=Xd(m),w=x.prefix,E=w===void 0?m:w,D=x.value,M=D===void 0?"":D,A=E==="circle",T=" ";if(E==="polygon"){var O=Kr(M||"0% 0%, 100% 0%, 100% 100%, 0% 100%");T=",";var I=O.map(function(Jt){var _e=F(Jt.split(" "),2),ye=_e[0],ve=_e[1];return{vertical:1,horizontal:1,pos:[ee(ye,e),ee(ve,n)]}}),k=ni(I.map(function(Jt){return Jt.pos}));return{type:E,clipText:m,poses:I,splitter:T,left:k.minX,right:k.maxX,top:k.minY,bottom:k.maxY}}else if(A||E==="ellipse"){var N="",z="",G=0,Y=0,O=Mr(M);if(A){var X="";s=F(O,4),u=s[0],X=u===void 0?"50%":u,l=s[2],N=l===void 0?"50%":l,c=s[3],z=c===void 0?"50%":c,G=ee(X,Math.sqrt((e*e+n*n)/2)),Y=G}else{var K="",tt="";f=F(O,5),d=f[0],K=d===void 0?"50%":d,p=f[1],tt=p===void 0?"50%":p,v=f[3],N=v===void 0?"50%":v,g=f[4],z=g===void 0?"50%":g,G=ee(K,e),Y=ee(tt,n)}var U=[ee(N,e),ee(z,n)],I=it([{vertical:1,horizontal:1,pos:U,direction:"nesw"}],F(PD.slice(0,A?1:2).map(function(ye){return{vertical:Z(ye[1]),horizontal:ye[0],direction:ye[2],sub:!0,pos:[U[0]+ye[0]*G,U[1]+ye[1]*Y]}})),!1);return{type:E,clipText:m,radiusX:G,radiusY:Y,left:U[0]-G,top:U[1]-Y,right:U[0]+G,bottom:U[1]+Y,poses:I,splitter:T}}else if(E==="inset"){var O=Mr(M||"0 0 0 0"),rt=O.indexOf("round"),nt=(rt>-1?O.slice(0,rt):O).length,H=O.slice(nt+1),ut=F(O.slice(0,nt),4),ft=ut[0],at=ut[1],lt=at===void 0?ft:at,ot=ut[2],dt=ot===void 0?ft:ot,gt=ut[3],Dt=gt===void 0?lt:gt,jt=F([ft,dt].map(function(ye){return ee(ye,n)}),2),st=jt[0],vt=jt[1],Ut=F([Dt,lt].map(function(ye){return ee(ye,e)}),2),yt=Ut[0],Et=Ut[1],Bt=e-Et,zt=n-vt,Zt=fg(H,Bt-yt,zt-st,yt,st),I=it(it([],F(qa(st,Bt,zt,yt)),!1),F(Zt),!1);return{type:"inset",clipText:m,poses:I,top:st,left:yt,right:Bt,bottom:zt,radius:H,splitter:T}}else if(E==="rect"){var O=Kr(M||"0px, ".concat(e,"px, ").concat(n,"px, 0px"));T=",";var Pt=F(O.map(function(Qn){var rn=Po(Qn).value;return rn}),4),Wt=Pt[0],Et=Pt[1],vt=Pt[2],yt=Pt[3],I=qa(Wt,Et,vt,yt);return{type:"rect",clipText:m,poses:I,top:Wt,right:Et,bottom:vt,left:yt,values:O,splitter:T}}}}}function BD(t,e,n,r,i){var s=t[e],u=s.direction,l=s.sub,c=t.map(function(){return[0,0]}),f=u?u.split(""):[];if(r&&e<8){var d=f.filter(function(G){return G==="w"||G==="e"}),p=f.filter(function(G){return G==="n"||G==="s"}),v=d[0],g=p[0];c[e]=n;var m=F(hg(t),2),_=m[0],b=m[1],x=_&&b?_/b:0;if(x&&i){var w=(e+4)%8,E=t[w].pos,D=[0,0];u.indexOf("w")>-1?D[0]=-1:u.indexOf("e")>-1&&(D[0]=1),u.indexOf("n")>-1?D[1]=-1:u.indexOf("s")>-1&&(D[1]=1);var M=Kv([_,b],n,x,D,!0),A=_+M[0],T=b+M[1],O=E[1],I=E[1],k=E[0],N=E[0];D[0]===-1?k=N-A:D[0]===1?N=k+A:(k=k-A/2,N=N+A/2),D[1]===-1?O=I-T:(D[1]===1||(O=I-T/2),I=O+T);var z=qa(O,N,I,k);t.forEach(function(G,Y){c[Y][0]=z[Y].pos[0]-G.pos[0],c[Y][1]=z[Y].pos[1]-G.pos[1]})}else t.forEach(function(G,Y){var X=G.direction;X&&(X.indexOf(v)>-1&&(c[Y][0]=n[0]),X.indexOf(g)>-1&&(c[Y][1]=n[1]))}),v&&(c[1][0]=n[0]/2,c[5][0]=n[0]/2),g&&(c[3][1]=n[1]/2,c[7][1]=n[1]/2)}else u&&!l?f.forEach(function(G){var Y=G==="n"||G==="s";t.forEach(function(X,K){var tt=X.direction,U=X.horizontal,rt=X.vertical;!tt||tt.indexOf(G)===-1||(c[K]=[Y||!U?0:n[0],!Y||!rt?0:n[1]])})}):c[e]=n;return c}function GD(t,e){var n=F(Hp(t,e),2),r=n[0],i=n[1],s=e.datas,u=s.clipPath,l=s.clipIndex,c=u,f=c.type,d=c.poses,p=c.splitter,v=d.map(function(w){return w.pos});if(f==="polygon")v.splice(l,0,[r,i]);else if(f==="inset"){var g=MD.indexOf(l),m=RD.indexOf(l),_=d.length;if(TD(d,v,8,g,m,r,i,v[4][0],v[4][1],v[0][0],v[0][1]),_===d.length)return}else return;var b=kc(t,u,v),x="".concat(f,"(").concat(b.join(p),")");ht(t,"onClip",It(t,e,B({clipEventType:"added",clipType:f,poses:v,clipStyles:b,clipStyle:x,distX:0,distY:0},Ve({clipPath:x},e))))}function LD(t,e){var n=e.datas,r=n.clipPath,i=n.clipIndex,s=r,u=s.type,l=s.poses,c=s.splitter,f=l.map(function(g){return g.pos}),d=f.length;if(u==="polygon")l.splice(i,1),f.splice(i,1);else if(u==="inset"){if(i<8||(OD(l,f,i,8,d),d===l.length))return}else return;var p=kc(t,r,f),v="".concat(u,"(").concat(p.join(c),")");ht(t,"onClip",It(t,e,B({clipEventType:"removed",clipType:u,poses:f,clipStyles:p,clipStyle:v,distX:0,distY:0},Ve({clipPath:v},e))))}var FD={name:"clippable",props:["clippable","defaultClipPath","customClipPath","keepRatio","clipRelative","clipArea","dragWithClip","clipTargetBounds","clipVerticalGuidelines","clipHorizontalGuidelines","clipSnapThreshold"],events:["clipStart","clip","clipEnd"],css:[`.control.clip-control {
background: #6d6;
cursor: pointer;
}
.control.clip-control.clip-radius {
background: #d66;
}
.line.clip-line {
background: #6e6;
cursor: move;
z-index: 1;
}
.clip-area {
position: absolute;
top: 0;
left: 0;
}
.clip-ellipse {
position: absolute;
cursor: move;
border: 1px solid #6d6;
border: var(--zoompx) solid #6d6;
border-radius: 50%;
transform-origin: 0px 0px;
}`,`:host {
--bounds-color: #d66;
}`,`.guideline {
pointer-events: none;
z-index: 2;
}`,`.line.guideline.bounds {
background: #d66;
background: var(--bounds-color);
}`],render:function(t,e){var n=t.props,r=n.customClipPath,i=n.defaultClipPath,s=n.clipArea,u=n.zoom,l=n.groupable,c=t.getState(),f=c.target,d=c.width,p=c.height,v=c.allMatrix,g=c.is3d,m=c.left,_=c.top,b=c.pos1,x=c.pos2,w=c.pos3,E=c.pos4,D=c.clipPathState,M=c.snapBoundInfos,A=c.rotation;if(!f||l)return[];var T=dg(f,d,p,i||"inset",D||r);if(!T)return[];var O=g?4:3,I=T.type,k=T.poses,N=k.map(function(Et){var Bt=he(v,Et.pos,O);return[Bt[0]-m,Bt[1]-_]}),z=[],G=[],Y=I==="rect",X=I==="inset",K=I==="polygon";if(Y||X||K){var tt=X?N.slice(0,8):N;G=tt.map(function(Et,Bt){var zt=Bt===0?tt[tt.length-1]:tt[Bt-1],Zt=me(zt,Et),Pt=jv(zt,Et);return e.createElement("div",{key:"clipLine".concat(Bt),className:_t("line","clip-line","snap-control"),"data-clip-index":Bt,style:{width:"".concat(Pt,"px"),transform:"translate(".concat(zt[0],"px, ").concat(zt[1],"px) rotate(").concat(Zt,"rad) scaleY(").concat(u,")")}})})}if(z=N.map(function(Et,Bt){return e.createElement("div",{key:"clipControl".concat(Bt),className:_t("control","clip-control","snap-control"),"data-clip-index":Bt,style:{transform:"translate(".concat(Et[0],"px, ").concat(Et[1],"px) rotate(").concat(A,"rad) scale(").concat(u,")")}})}),X&&z.push.apply(z,it([],F(N.slice(8).map(function(Et,Bt){return e.createElement("div",{key:"clipRadiusControl".concat(Bt),className:_t("control","clip-control","clip-radius","snap-control"),"data-clip-index":8+Bt,style:{transform:"translate(".concat(Et[0],"px, ").concat(Et[1],"px) rotate(").concat(A,"rad) scale(").concat(u,")")}})})),!1)),I==="circle"||I==="ellipse"){var U=T.left,rt=T.top,nt=T.radiusX,H=T.radiusY,ut=F(bt(he(v,[U,rt],O),he(v,[0,0],O)),2),ft=ut[0],at=ut[1],lt="none";if(!s){for(var ot=Math.max(10,nt/5,H/5),dt=[],gt=0;gt<=ot;++gt){var Dt=Math.PI*2/ot*gt;dt.push([nt+(nt-u)*Math.cos(Dt),H+(H-u)*Math.sin(Dt)])}dt.push([nt,-2]),dt.push([-2,-2]),dt.push([-2,H*2+2]),dt.push([nt*2+2,H*2+2]),dt.push([nt*2+2,-2]),dt.push([nt,-2]),lt="polygon(".concat(dt.map(function(Et){return"".concat(Et[0],"px ").concat(Et[1],"px")}).join(", "),")")}z.push(e.createElement("div",{key:"clipEllipse",className:_t("clip-ellipse","snap-control"),style:{width:"".concat(nt*2,"px"),height:"".concat(H*2,"px"),clipPath:lt,transform:"translate(".concat(-m+ft,"px, ").concat(-_+at,"px) ").concat(La(v))}}))}if(s){var jt=bn(it([b,x,w,E],F(N),!1)),st=jt.width,vt=jt.height,Ut=jt.left,yt=jt.top;if(K||Y||X){var dt=X?N.slice(0,8):N;z.push(e.createElement("div",{key:"clipArea",className:_t("clip-area","snap-control"),style:{width:"".concat(st,"px"),height:"".concat(vt,"px"),transform:"translate(".concat(Ut,"px, ").concat(yt,"px)"),clipPath:"polygon(".concat(dt.map(function(Bt){return"".concat(Bt[0]-Ut,"px ").concat(Bt[1]-yt,"px")}).join(", "),")")}}))}}return M&&["vertical","horizontal"].forEach(function(Et){var Bt=M[Et],zt=Et==="horizontal";Bt.isSnap&&G.push.apply(G,it([],F(Bt.snap.posInfos.map(function(Zt,Pt){var Wt=Zt.pos,Jt=bt(he(v,zt?[0,Wt]:[Wt,0],O),[m,_]),_e=bt(he(v,zt?[d,Wt]:[Wt,p],O),[m,_]);return Qo(e,"",Jt,_e,u,"clip".concat(Et,"snap").concat(Pt),"guideline")})),!1)),Bt.isBound&&G.push.apply(G,it([],F(Bt.bounds.map(function(Zt,Pt){var Wt=Zt.pos,Jt=bt(he(v,zt?[0,Wt]:[Wt,0],O),[m,_]),_e=bt(he(v,zt?[d,Wt]:[Wt,p],O),[m,_]);return Qo(e,"",Jt,_e,u,"clip".concat(Et,"bounds").concat(Pt),"guideline","bounds","bold")})),!1))}),it(it([],F(z),!1),F(G),!1)},dragControlCondition:function(t,e){return e.inputEvent&&(e.inputEvent.target.getAttribute("class")||"").indexOf("clip")>-1},dragStart:function(t,e){var n=t.props,r=n.dragWithClip,i=r===void 0?!0:r;return i?!1:this.dragControlStart(t,e)},drag:function(t,e){return this.dragControl(t,B(B({},e),{isDragTarget:!0}))},dragEnd:function(t,e){return this.dragControlEnd(t,e)},dragControlStart:function(t,e){var n=t.state,r=t.props,i=r.defaultClipPath,s=r.customClipPath,u=n.target,l=n.width,c=n.height,f=e.inputEvent?e.inputEvent.target:null,d=f&&f.getAttribute("class")||"",p=e.datas,v=dg(u,l,c,i||"inset",s);if(!v)return!1;var g=v.clipText,m=v.type,_=v.poses,b=ht(t,"onClipStart",It(t,e,{clipType:m,clipStyle:g,poses:_.map(function(x){return x.pos})}));return b===!1?(p.isClipStart=!1,!1):(p.isControl=d&&d.indexOf("clip-control")>-1,p.isLine=d.indexOf("clip-line")>-1,p.isArea=d.indexOf("clip-area")>-1||d.indexOf("clip-ellipse")>-1,p.clipIndex=f?parseInt(f.getAttribute("data-clip-index"),10):-1,p.clipPath=v,p.isClipStart=!0,n.clipPathState=g,ri(t,e),!0)},dragControl:function(t,e){var n,r,i,s=e.datas,u=e.originalDatas,l=e.isDragTarget;if(!s.isClipStart)return!1;var c=s,f=c.isControl,d=c.isLine,p=c.isArea,v=c.clipIndex,g=c.clipPath;if(!g)return!1;var m=ai(t.props,"clippable"),_=m.keepRatio,b=0,x=0,w=u.draggable,E=Un(e);l&&w?(n=F(w.prevBeforeDist,2),b=n[0],x=n[1]):(r=F(E,2),b=r[0],x=r[1]);var D=[b,x],M=t.state,A=M.width,T=M.height,O=!p&&!f&&!d,I=g.type,k=g.poses,N=g.splitter,z=k.map(function(re){return re.pos});O&&(b=-b,x=-x);var G=!f||k[v].direction==="nesw",Y=I==="inset"||I==="rect",X=k.map(function(){return[0,0]});if(f&&!G){var K=k[v],tt=K.horizontal,U=K.vertical,rt=[b*Z(tt),x*Z(U)];X=BD(k,v,rt,Y,_)}else G&&(X=z.map(function(){return[b,x]}));var nt=z.map(function(re,Te){return Vt(re,X[Te])}),H=it([],F(nt),!1);M.snapBoundInfos=null;var ut=g.type==="circle",ft=g.type==="ellipse";if(ut||ft){var at=bn(nt),lt=Z(at.bottom-at.top),ot=Z(ft?at.right-at.left:lt),dt=nt[0][1]+lt,gt=nt[0][0]-ot,Dt=nt[0][0]+ot;ut&&(H.push([Dt,at.bottom]),X.push([1,0])),H.push([at.left,dt]),X.push([0,1]),H.push([gt,at.bottom]),X.push([1,0])}var jt=Tv((m.clipHorizontalGuidelines||[]).map(function(re){return ee("".concat(re),T)}),(m.clipVerticalGuidelines||[]).map(function(re){return ee("".concat(re),A)}),A,T),st=[],vt=[];if(ut||ft)st=[H[4][0],H[2][0]],vt=[H[1][1],H[3][1]];else if(Y){var Ut=[H[0],H[2],H[4],H[6]],yt=[X[0],X[2],X[4],X[6]];st=Ut.filter(function(re,Te){return yt[Te][0]}).map(function(re){return re[0]}),vt=Ut.filter(function(re,Te){return yt[Te][1]}).map(function(re){return re[1]})}else st=H.filter(function(re,Te){return X[Te][0]}).map(function(re){return re[0]}),vt=H.filter(function(re,Te){return X[Te][1]}).map(function(re){return re[1]});var Et=[0,0],Bt=xv(jt,m.clipTargetBounds&&{left:0,top:0,right:A,bottom:T},st,vt,5,5),zt=Bt.horizontal,Zt=Bt.vertical,Pt=zt.offset,Wt=Zt.offset;if(zt.isBound&&(Et[1]+=Pt),Zt.isBound&&(Et[0]+=Wt),(ft||ut)&&X[0][0]===0&&X[0][1]===0){var at=bn(nt),Jt=at.bottom-at.top,_e=ft?at.right-at.left:Jt,ye=Zt.isBound?Z(Wt):Zt.snapIndex===0?-Wt:Wt,ve=zt.isBound?Z(Pt):zt.snapIndex===0?-Pt:Pt;_e-=ye,Jt-=ve,ut&&(Jt=vv(Zt,zt)>0?Jt:_e,_e=Jt);var ue=H[0];H[1][1]=ue[1]-Jt,H[2][0]=ue[0]+_e,H[3][1]=ue[1]+Jt,H[4][0]=ue[0]-_e}else if(Y&&_&&f){var Qn=F(hg(k),2),rn=Qn[0],cr=Qn[1],to=rn&&cr?rn/cr:0,us=k[v],Gr=us.direction||"",ci=H[1][1],dt=H[5][1],gt=H[7][0],Dt=H[3][0];Z(Pt)<=Z(Wt)?Pt=Ue(Pt)*Z(Wt)/to:Wt=Ue(Wt)*Z(Pt)*to,Gr.indexOf("w")>-1?gt-=Wt:Gr.indexOf("e")>-1?Dt-=Wt:(gt+=Wt/2,Dt-=Wt/2),Gr.indexOf("n")>-1?ci-=Pt:Gr.indexOf("s")>-1?dt-=Pt:(ci+=Pt/2,dt-=Pt/2);var ls=qa(ci,Dt,dt,gt);H.forEach(function(eu,Hc){var ps;ps=F(ls[Hc].pos,2),eu[0]=ps[0],eu[1]=ps[1]})}else H.forEach(function(re,Te){var ds=X[Te];ds[0]&&(re[0]-=Wt),ds[1]&&(re[1]-=Pt)});var eo=kc(t,g,nt),fi="".concat(I,"(").concat(eo.join(N),")");if(M.clipPathState=fi,ut||ft)st=[H[4][0],H[2][0]],vt=[H[1][1],H[3][1]];else if(Y){var Ut=[H[0],H[2],H[4],H[6]];st=Ut.map(function(Te){return Te[0]}),vt=Ut.map(function(Te){return Te[1]})}else st=H.map(function(re){return re[0]}),vt=H.map(function(re){return re[1]});if(M.snapBoundInfos=xv(jt,m.clipTargetBounds&&{left:0,top:0,right:A,bottom:T},st,vt,1,1),w){var cs=M.is3d,fs=M.allMatrix,qc=cs?4:3,hs=Et;l&&(hs=[D[0]+Et[0]-E[0],D[1]+Et[1]-E[1]]),w.deltaOffset=ne(fs,[hs[0],hs[1],0,0],qc)}return ht(t,"onClip",It(t,e,B({clipEventType:"changed",clipType:I,poses:nt,clipStyle:fi,clipStyles:eo,distX:b,distY:x},Ve((i={},i[I==="rect"?"clip":"clipPath"]=fi,i),e)))),!0},dragControlEnd:function(t,e){this.unset(t);var n=e.isDrag,r=e.datas,i=e.isDouble,s=r.isLine,u=r.isClipStart,l=r.isControl;return u?(ht(t,"onClipEnd",cn(t,e,{})),i&&(l?LD(t,e):s&&GD(t,e)),i||n):!1},unset:function(t){t.state.clipPathState="",t.state.snapBoundInfos=null}},zD={name:"originDraggable",props:["originDraggable","originRelative"],events:["dragOriginStart","dragOrigin","dragOriginEnd"],css:[`:host[data-able-origindraggable] .control.origin {
pointer-events: auto;
}`],dragControlCondition:function(t,e){return e.isRequest?e.requestAble==="originDraggable":De(e.inputEvent.target,_t("origin"))},dragControlStart:function(t,e){var n=e.datas;ri(t,e);var r=It(t,e,{dragStart:He.dragStart(t,new zi().dragStart([0,0],e))}),i=ht(t,"onDragOriginStart",r);return n.startOrigin=t.state.transformOrigin,n.startTargetOrigin=t.state.targetOrigin,n.prevOrigin=[0,0],n.isDragOrigin=!0,i===!1?(n.isDragOrigin=!1,!1):r},dragControl:function(t,e){var n=e.datas,r=e.isPinch,i=e.isRequest;if(!n.isDragOrigin)return!1;var s=F(Un(e),2),u=s[0],l=s[1],c=t.state,f=c.width,d=c.height,p=c.offsetMatrix,v=c.targetMatrix,g=c.is3d,m=t.props.originRelative,_=m===void 0?!0:m,b=g?4:3,x=[u,l];if(i){var w=e.distOrigin;(w[0]||w[1])&&(x=w)}var E=Vt(n.startOrigin,x),D=Vt(n.startTargetOrigin,x),M=bt(x,n.prevOrigin),A=$o(p,v,E,b),T=t.getRect(),O=bn(si(A,f,d,b)),I=[T.left-O.left,T.top-O.top];n.prevOrigin=x;var k=[Fn(D[0],f,_),Fn(D[1],d,_)].join(" "),N=He.drag(t,Uo(e,t.state,I,!!r,!1)),z=It(t,e,B(B({width:f,height:d,origin:E,dist:x,delta:M,transformOrigin:k,drag:N},Ve({transformOrigin:k,transform:N.transform},e)),{afterTransform:N.transform}));return ht(t,"onDragOrigin",z),z},dragControlEnd:function(t,e){var n=e.datas;return n.isDragOrigin?(ht(t,"onDragOriginEnd",cn(t,e,{})),!0):!1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragGroupControlStart:function(t,e){var n=this.dragControlStart(t,e);return!!n},dragGroupControl:function(t,e){var n=this.dragControl(t,e);return n?(t.transformOrigin=n.transformOrigin,!0):!1},request:function(t){var e={},n=t.getRect(),r=0,i=0,s=n.transformOrigin,u=[0,0];return{isControl:!0,requestStart:function(){return{datas:e}},request:function(l){return"deltaOrigin"in l?(u[0]+=l.deltaOrigin[0],u[1]+=l.deltaOrigin[1]):"origin"in l?(u[0]=l.origin[0]-s[0],u[1]=l.origin[1]-s[1]):("x"in l?r=l.x-n.left:"deltaX"in l&&(r+=l.deltaX),"y"in l?i=l.y-n.top:"deltaY"in l&&(i+=l.deltaY)),{datas:e,distX:r,distY:i,distOrigin:u}},requestEnd:function(){return{datas:e,isDrag:!0}}}}};function ND(t,e,n,r){var i=t.filter(function(c){var f=c.virtual,d=c.horizontal;return d&&!f}).length,s=t.filter(function(c){var f=c.virtual,d=c.vertical;return d&&!f}).length,u=-1;if(e===0&&(i===0?u=0:i===1&&(u=1)),e===2&&(i<=2?u=2:i<=3&&(u=3)),e===3&&(s===0?u=4:s<4&&(u=7)),e===1&&(s<=1?u=5:s<=2&&(u=6)),!(u===-1||!t[u].virtual)){var l=t[u];jD(t,u),u<4?l.pos[0]=n:l.pos[1]=r}}function jD(t,e){e<4?t.slice(0,e+1).forEach(function(n){n.virtual=!1}):(t[0].virtual&&(t[0].virtual=!1),t.slice(4,e+1).forEach(function(n){n.virtual=!1}))}function WD(t,e){e<4?t.slice(e,4).forEach(function(n){n.virtual=!0}):t.slice(e).forEach(function(n){n.virtual=!0})}function pg(t,e,n,r,i){r===void 0&&(r=[0,0]);var s=[];return!t||t==="0px"?s=[]:s=Mr(t),fg(s,e,n,0,0,r,i)}function vg(t,e,n,r,i){var s=t.state,u=s.width,l=s.height,c=Pc(i,t.props.roundRelative,u,l),f=c.raws,d=c.styles,p=c.radiusPoses,v=ID(p,f),g=v.horizontals,m=v.verticals,_=d.join(" ");s.borderRadiusState=_;var b=It(t,e,B({horizontals:g,verticals:m,borderRadius:_,width:u,height:l,delta:r,dist:n},Ve({borderRadius:_},e)));return ht(t,"onRound",b),b}function gg(t){var e,n,r=t.getState().style,i=r.borderRadius||"";if(!i&&t.props.groupable){var s=t.moveables[0],u=t.getTargets()[0];u&&((s==null?void 0:s.props.target)===u?(i=(n=(e=t.moveables[0])===null||e===void 0?void 0:e.state.style.borderRadius)!==null&&n!==void 0?n:"",r.borderRadius=i):(i=Ec(u).borderRadius,r.borderRadius=i))}return i}var YD={name:"roundable",props:["roundable","roundRelative","minRoundControls","maxRoundControls","roundClickable","roundPadding","isDisplayShadowRoundControls"],events:["roundStart","round","roundEnd","roundGroupStart","roundGroup","roundGroupEnd"],css:[`.control.border-radius {
background: #d66;
cursor: pointer;
z-index: 3;
}`,`.control.border-radius.vertical {
background: #d6d;
z-index: 2;
}`,`.control.border-radius.virtual {
opacity: 0.5;
z-index: 1;
}`,`:host.round-line-clickable .line.direction {
cursor: pointer;
}`],className:function(t){var e=t.props.roundClickable;return e===!0||e==="line"?_t("round-line-clickable"):""},requestStyle:function(){return["borderRadius"]},requestChildStyle:function(){return["borderRadius"]},render:function(t,e){var n=t.getState(),r=n.target,i=n.width,s=n.height,u=n.allMatrix,l=n.is3d,c=n.left,f=n.top,d=n.borderRadiusState,p=t.props,v=p.minRoundControls,g=v===void 0?[0,0]:v,m=p.maxRoundControls,_=m===void 0?[4,4]:m,b=p.zoom,x=p.roundPadding,w=x===void 0?0:x,E=p.isDisplayShadowRoundControls,D=p.groupable;if(!r)return null;var M=d||gg(t),A=l?4:3,T=pg(M,i,s,g,!0);if(!T)return null;var O=0,I=0,k=D?[0,0]:[c,f];return T.map(function(N,z){var G=N.horizontal,Y=N.vertical,X=N.direction||"",K=it([],F(N.pos),!1);I+=Math.abs(G),O+=Math.abs(Y),G&&X.indexOf("n")>-1&&(K[1]-=w),Y&&X.indexOf("w")>-1&&(K[0]-=w),G&&X.indexOf("s")>-1&&(K[1]+=w),Y&&X.indexOf("e")>-1&&(K[0]+=w);var tt=bt(he(u,K,A),k),U=E&&E!=="horizontal",rt=N.vertical?O<=_[1]&&(U||!N.virtual):I<=_[0]&&(E||!N.virtual);return e.createElement("div",{key:"borderRadiusControl".concat(z),className:_t("control","border-radius",N.vertical?"vertical":"",N.virtual?"virtual":""),"data-radius-index":z,style:{display:rt?"block":"none",transform:"translate(".concat(tt[0],"px, ").concat(tt[1],"px) scale(").concat(b,")")}})})},dragControlCondition:function(t,e){if(!e.inputEvent||e.isRequest)return!1;var n=e.inputEvent.target.getAttribute("class")||"";return n.indexOf("border-radius")>-1||n.indexOf("moveable-line")>-1&&n.indexOf("moveable-direction")>-1},dragGroupControlCondition:function(t,e){return this.dragControlCondition(t,e)},dragControlStart:function(t,e){var n=e.inputEvent,r=e.datas,i=n.target,s=i.getAttribute("class")||"",u=s.indexOf("border-radius")>-1,l=s.indexOf("moveable-line")>-1&&s.indexOf("moveable-direction")>-1,c=u?parseInt(i.getAttribute("data-radius-index"),10):-1,f=-1;if(l){var d=i.getAttribute("data-line-key")||"";d&&(f=parseInt(d.replace(/render-line-/g,""),10),isNaN(f)&&(f=-1))}if(!u&&!l)return!1;var p=It(t,e,{}),v=ht(t,"onRoundStart",p);if(v===!1)return!1;r.lineIndex=f,r.controlIndex=c,r.isControl=u,r.isLine=l,ri(t,e);var g=t.props,m=g.roundRelative,_=g.minRoundControls,b=_===void 0?[0,0]:_,x=t.state,w=x.width,E=x.height;r.isRound=!0,r.prevDist=[0,0];var D=gg(t),M=pg(D||"",w,E,b,!0)||[];return r.controlPoses=M,x.borderRadiusState=Pc(M,m,w,E).styles.join(" "),p},dragControl:function(t,e){var n=e.datas,r=n.controlPoses;if(!n.isRound||!n.isControl||!r.length)return!1;var i=n.controlIndex,s=F(Un(e),2),u=s[0],l=s[1],c=[u,l],f=bt(c,n.prevDist),d=t.props.maxRoundControls,p=d===void 0?[4,4]:d,v=t.state,g=v.width,m=v.height,_=r[i],b=_.vertical,x=_.horizontal,w=r.map(function(D){var M=D.horizontal,A=D.vertical,T=[M*x*c[0],A*b*c[1]];if(M){if(p[0]===1||p[0]<4&&M!==x)return T}else{if(p[1]===0)return T[1]=A*x*c[0]/g*m,T;if(b&&(p[1]===1||p[1]<4&&A!==b))return T}return[0,0]});w[i]=c;var E=r.map(function(D,M){return B(B({},D),{pos:Vt(D.pos,w[M])})});return i<4?E.slice(0,i+1).forEach(function(D){D.virtual=!1}):E.slice(4,i+1).forEach(function(D){D.virtual=!1}),n.prevDist=[u,l],vg(t,e,c,f,E)},dragControlEnd:function(t,e){var n=t.state;n.borderRadiusState="";var r=e.datas,i=e.isDouble;if(!r.isRound)return!1;var s=r.isControl,u=r.controlIndex,l=r.isLine,c=r.lineIndex,f=r.controlPoses,d=f.filter(function(x){var w=x.virtual;return w}).length,p=t.props.roundClickable,v=p===void 0?!0:p;if(i&&v){if(s&&(v===!0||v==="control"))WD(f,u);else if(l&&(v===!0||v==="line")){var g=F(Hp(t,e),2),m=g[0],_=g[1];ND(f,c,m,_)}d!==f.filter(function(x){var w=x.virtual;return w}).length&&vg(t,e,[0,0],[0,0],f)}var b=cn(t,e,{});return ht(t,"onRoundEnd",b),n.borderRadiusState="",b},dragGroupControlStart:function(t,e){var n=this.dragControlStart(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,s=Ln(t,"roundable",e),u=B({targets:t.props.targets,events:s.map(function(l,c){return B(B({},l),{target:i[c],moveable:r[c],currentTarget:r[c]})})},n);return ht(t,"onRoundGroupStart",u),n},dragGroupControl:function(t,e){var n=this.dragControl(t,e);if(!n)return!1;var r=t.moveables,i=t.props.targets,s=Ln(t,"roundable",e),u=B({targets:t.props.targets,events:s.map(function(l,c){return B(B(B({},l),{target:i[c],moveable:r[c],currentTarget:r[c]}),Ve({borderRadius:n.borderRadius},l))})},n);return ht(t,"onRoundGroup",u),u},dragGroupControlEnd:function(t,e){var n=t.moveables,r=t.props.targets,i=Ln(t,"roundable",e);Na(t,"onRound",function(l){var c=B({targets:t.props.targets,events:i.map(function(f,d){return B(B(B({},f),{target:r[d],moveable:n[d],currentTarget:n[d]}),Ve({borderRadius:l.borderRadius},f))})},l);ht(t,"onRoundGroup",c)});var s=this.dragControlEnd(t,e);if(!s)return!1;var u=B({targets:t.props.targets,events:i.map(function(l,c){var f;return B(B({},l),{target:r[c],moveable:n[c],currentTarget:n[c],lastEvent:(f=l.datas)===null||f===void 0?void 0:f.lastEvent})})},s);return ht(t,"onRoundGroupEnd",u),u},unset:function(t){t.state.borderRadiusState=""}};function XD(t,e){var n=e?4:3,r=ae(n),i="matrix".concat(e?"3d":"","(").concat(r.join(","),")");return t===i||t==="matrix(1,0,0,1,0,0)"}var mg={isPinch:!0,name:"beforeRenderable",props:[],events:["beforeRenderStart","beforeRender","beforeRenderEnd","beforeRenderGroupStart","beforeRenderGroup","beforeRenderGroupEnd"],dragRelation:"weak",setTransform:function(t,e){var n=t.state,r=n.is3d,i=n.targetMatrix,s=n.inlineTransform,u=r?"matrix3d(".concat(i.join(","),")"):"matrix(".concat(Cp(i,!0),")"),l=!s||s==="none"?u:s;e.datas.startTransforms=XD(l,r)?[]:Mr(l)},resetStyle:function(t){var e=t.datas;e.nextStyle={},e.nextTransforms=t.datas.startTransforms,e.nextTransformAppendedIndexes=[]},fillDragStartParams:function(t,e){return It(t,e,{setTransform:function(n){e.datas.startTransforms=Se(n)?n:Mr(n)},isPinch:!!e.isPinch})},fillDragParams:function(t,e){return It(t,e,{isPinch:!!e.isPinch})},dragStart:function(t,e){this.setTransform(t,e),this.resetStyle(e),ht(t,"onBeforeRenderStart",this.fillDragStartParams(t,e))},drag:function(t,e){e.datas.startTransforms||this.setTransform(t,e),this.resetStyle(e),ht(t,"onBeforeRender",It(t,e,{isPinch:!!e.isPinch}))},dragEnd:function(t,e){e.datas.startTransforms||(this.setTransform(t,e),this.resetStyle(e)),ht(t,"onBeforeRenderEnd",It(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag}))},dragGroupStart:function(t,e){var n=this;this.dragStart(t,e);var r=Ln(t,"beforeRenderable",e),i=t.moveables,s=r.map(function(u,l){var c=i[l];return n.setTransform(c,u),n.resetStyle(u),n.fillDragStartParams(c,u)});ht(t,"onBeforeRenderGroupStart",It(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,setTransform:function(){},events:s}))},dragGroup:function(t,e){var n=this;this.drag(t,e);var r=Ln(t,"beforeRenderable",e),i=t.moveables,s=r.map(function(u,l){var c=i[l];return n.resetStyle(u),n.fillDragParams(c,u)});ht(t,"onBeforeRenderGroup",It(t,e,{isPinch:!!e.isPinch,targets:t.props.targets,events:s}))},dragGroupEnd:function(t,e){this.dragEnd(t,e),ht(t,"onBeforeRenderGroupEnd",It(t,e,{isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets}))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)}},_g={name:"renderable",props:[],events:["renderStart","render","renderEnd","renderGroupStart","renderGroup","renderGroupEnd"],dragRelation:"weak",dragStart:function(t,e){ht(t,"onRenderStart",It(t,e,{isPinch:!!e.isPinch}))},drag:function(t,e){ht(t,"onRender",this.fillDragParams(t,e))},dragAfter:function(t,e){return this.drag(t,e)},dragEnd:function(t,e){ht(t,"onRenderEnd",this.fillDragEndParams(t,e))},dragGroupStart:function(t,e){ht(t,"onRenderGroupStart",It(t,e,{isPinch:!!e.isPinch,targets:t.props.targets}))},dragGroup:function(t,e){var n=this,r=Ln(t,"beforeRenderable",e),i=t.moveables,s=r.map(function(u,l){var c=i[l];return n.fillDragParams(c,u)});ht(t,"onRenderGroup",It(t,e,B(B({isPinch:!!e.isPinch,targets:t.props.targets,transform:Aa(e),transformObject:{}},Ve(Ca(e))),{events:s})))},dragGroupEnd:function(t,e){var n=this,r=Ln(t,"beforeRenderable",e),i=t.moveables,s=r.map(function(u,l){var c=i[l];return n.fillDragEndParams(c,u)});ht(t,"onRenderGroupEnd",It(t,e,B({isPinch:!!e.isPinch,isDrag:e.isDrag,targets:t.props.targets,events:s,transformObject:{},transform:Aa(e)},Ve(Ca(e)))))},dragControlStart:function(t,e){return this.dragStart(t,e)},dragControl:function(t,e){return this.drag(t,e)},dragControlAfter:function(t,e){return this.dragAfter(t,e)},dragControlEnd:function(t,e){return this.dragEnd(t,e)},dragGroupControlStart:function(t,e){return this.dragGroupStart(t,e)},dragGroupControl:function(t,e){return this.dragGroup(t,e)},dragGroupControlEnd:function(t,e){return this.dragGroupEnd(t,e)},fillDragParams:function(t,e){var n={};return Gi(Da(e)||[]).forEach(function(r){n[r.name]=r.functionValue}),It(t,e,B({isPinch:!!e.isPinch,transformObject:n,transform:Aa(e)},Ve(Ca(e))))},fillDragEndParams:function(t,e){var n={};return Gi(Da(e)||[]).forEach(function(r){n[r.name]=r.functionValue}),It(t,e,B({isPinch:!!e.isPinch,isDrag:e.isDrag,transformObject:n,transform:Aa(e)},Ve(Ca(e))))}};function rs(t,e,n,r,i,s,u){s.clientDistX=s.distX,s.clientDistY=s.distY;var l=i==="Start",c=i==="End",f=i==="After",d=t.state.target,p=s.isRequest,v=r.indexOf("Control")>-1;if(!d||l&&v&&!p&&t.areaElement===s.inputEvent.target)return!1;var g=it([],F(e),!1);if(p){var m=s.requestAble;g.some(function(z){return z.name===m})||g.push.apply(g,it([],F(t.props.ables.filter(function(z){return z.name===m})),!1))}if(!g.length||g.every(function(z){return z.dragRelation}))return!1;var _=s.inputEvent,b;c&&_&&(b=document.elementFromPoint(s.clientX,s.clientY)||_.target);var x=!1,w=function(){var z;x=!0,(z=s.stop)===null||z===void 0||z.call(s)},E=l&&(!t.targetGesto||!t.controlGesto||!t.targetGesto.isFlag()||!t.controlGesto.isFlag());E&&t.updateRect(i,!0,!1);var D=s.datas,M=v?"controlGesto":"targetGesto",A=t[M],T=function(z,G,Y){if(!(G in z)||A!==t[M])return!1;var X=z.name,K=D[X]||(D[X]={});if(l&&(K.isEventStart=!Y||!z[Y]||z[Y](t,s)),!K.isEventStart)return!1;var tt=z[G](t,B(B({},s),{stop:w,datas:K,originalDatas:D,inputTarget:b}));return t._emitter.off(),l&&tt===!1&&(K.isEventStart=!1),tt};E&&g.forEach(function(z){z.unset&&z.unset(t)}),T(mg,"drag".concat(r).concat(i));var O=0,I=0;n.forEach(function(z){if(x)return!1;var G="".concat(z).concat(r).concat(i),Y="".concat(z).concat(r,"Condition");i===""&&!p&&Zv(t.state,s);var X=g.filter(function(U){return U[G]});X=X.filter(function(U,rt){return U.name&&X.indexOf(U)===rt});var K=X.filter(function(U){return T(U,G,Y)}),tt=K.length;x&&++O,tt&&++I,!x&&l&&X.length&&!tt&&(O+=X.filter(function(U){var rt=U.name,nt=D[rt];return nt.isEventStart?U.dragRelation!=="strong":!1}).length?1:0)}),(!f||I)&&T(_g,"drag".concat(r).concat(i));var k=A!==t[M]||O===n.length;if((c||x||k)&&(t.state.gestos={},t.moveables&&t.moveables.forEach(function(z){z.state.gestos={}}),g.forEach(function(z){z.unset&&z.unset(t)})),l&&!k&&!p&&I&&t.props.preventDefault&&(s==null||s.preventDefault()),t.isUnmounted||k)return!1;if(!l&&I&&!u||c){var N=t.props.flushSync||Lv;N(function(){t.updateRect(c?i:"",!0,!1),t.forceUpdate()})}return!l&&!c&&!f&&I&&!u&&rs(t,e,n,r,i+"After",s),!0}function Bc(t,e){return function(n,r){var i;r===void 0&&(r=n.inputEvent.target);var s=r,u=t.areaElement,l=t._dragTarget;return!l||!e&&!((i=t.controlGesto)===null||i===void 0)&&i.isFlag()?!1:s===l||l.contains(s)||s===u||!t.isMoveableElement(s)&&!t.controlBox.contains(s)||De(s,"moveable-area")||De(s,"moveable-padding")||De(s,"moveable-edgeDraggable")}}function yg(t,e,n){var r=t.controlBox,i=[],s=t.props,u=s.dragArea,l=t.state.target,c=s.dragTarget;i.push(r),(!u||c)&&i.push(e),!u&&c&&l&&e!==l&&s.dragTargetSelf&&i.push(l);var f=Bc(t);return xg(t,i,"targetAbles",n,{dragStart:f,pinchStart:f})}function bg(t,e){var n=t.controlBox,r=[];r.push(n);var i=Bc(t,!0),s=function(u,l){if(l===void 0&&(l=u.inputEvent.target),l===n)return!0;var c=i(u,l);return!c};return xg(t,r,"controlAbles",e,{dragStart:s,pinchStart:s})}function xg(t,e,n,r,i){i===void 0&&(i={});var s=n==="targetAbles",u=t.props,l=u.pinchOutside,c=u.pinchThreshold,f=u.preventClickEventOnDrag,d=u.preventClickDefault,p=u.checkInput,v=u.dragFocusedInput,g=u.preventDefault,m=g===void 0?!0:g,_=u.preventRightClick,b=_===void 0?!0:_,x=u.preventWheelClick,w=x===void 0?!0:x,E=u.dragContainer,D=$n(E,!0),M={preventDefault:m,preventRightClick:b,preventWheelClick:w,container:D||Or(t.getControlBoxElement()),pinchThreshold:c,pinchOutside:l,preventClickEventOnDrag:s?f:!1,preventClickEventOnDragStart:s?d:!1,preventClickEventByCondition:s?null:function(O){return t.controlBox.contains(O.target)},checkInput:s?p:!1,dragFocusedInput:v},A=new _S(e,M),T=r==="Control";return["drag","pinch"].forEach(function(O){["Start","","End"].forEach(function(I){A.on("".concat(O).concat(I),function(k){var N,z=k.eventType,G=O==="drag"&&k.isPinch;if(i[z]&&!i[z](k)){k.stop();return}if(!G){var Y=O==="drag"?[O]:["drag",O],X=it([],F(t[n]),!1),K=rs(t,X,Y,r,I,k);K?(t.props.stopPropagation||I==="Start"&&T)&&((N=k==null?void 0:k.inputEvent)===null||N===void 0||N.stopPropagation()):k.stop()}})})}),A}var qD=function(){function t(e,n,r){var i=this;this.target=e,this.moveable=n,this.eventName=r,this.ables=[],this._onEvent=function(s){var u=i.eventName,l=i.moveable;l.state.disableNativeEvent||i.ables.forEach(function(c){c[u](l,{inputEvent:s})})},e.addEventListener(r.toLowerCase(),this._onEvent)}return t.prototype.setAbles=function(e){this.ables=e},t.prototype.destroy=function(){this.target.removeEventListener(this.eventName.toLowerCase(),this._onEvent),this.target=null,this.moveable=null},t}();function HD(t,e,n,r){var i;n===void 0&&(n=e);var s=Jp(t,e),u=s.matrixes,l=s.is3d,c=s.targetMatrix,f=s.transformOrigin,d=s.targetOrigin,p=s.offsetContainer,v=s.hasFixed,g=s.zoom,m=aE(p,n),_=m.matrixes,b=m.is3d,x=m.offsetContainer,w=m.zoom,E=r||b||l,D=E?4:3,M=t.tagName.toLowerCase()!=="svg"&&"ownerSVGElement"in t,A=c,T=ae(D),O=ae(D),I=ae(D),k=ae(D),N=u.length,z=_.map(function(rt){return B(B({},rt),{matrix:rt.matrix?it([],F(rt.matrix),!1):void 0})}).reverse();u.reverse(),!l&&E&&(A=Gn(A,3,4),yc(u)),!b&&E&&yc(z),z.forEach(function(rt){O=ne(O,rt.matrix,D)});var G=n||Rr(t),Y=((i=z[0])===null||i===void 0?void 0:i.target)||ts(G,G,!0).offsetParent,X=z.slice(1).reduce(function(rt,nt){return ne(rt,nt.matrix,D)},ae(D));u.forEach(function(rt,nt){if(N-2===nt&&(I=T.slice()),N-1===nt&&(k=T.slice()),!rt.matrix){var H=u[nt+1],ut=cD(rt,H,Y,D,ne(X,T,D));rt.matrix=ei(ut,D)}T=ne(T,rt.matrix,D)});var K=!M&&l;A||(A=ae(K?4:3));var tt=La(M&&A.length===16?Gn(A,4,3):A,K),U=O;return O=Dp(O,D,D),{hasZoom:g!==1||w!==1,hasFixed:v,matrixes:u,rootMatrix:O,originalRootMatrix:U,beforeMatrix:I,offsetMatrix:k,allMatrix:T,targetMatrix:A,targetTransform:tt,inlineTransform:t.style.transform,transformOrigin:f,targetOrigin:d,is3d:E,offsetContainer:p,offsetRootContainer:x}}function VD(t,e,n,r){n===void 0&&(n=e);var i=0,s=0,u=0,l={},c=Wv(t);if(t&&(i=c.offsetWidth,s=c.offsetHeight),t){var f=HD(t,e,n,r),d=Ni(f.allMatrix,f.transformOrigin,i,s);l=B(B({},f),d);var p=Ni(f.allMatrix,[50,50],100,100);u=Yv([p.pos1,p.pos2],p.direction)}var v=r?4:3;return B(B(B({hasZoom:!1,width:i,height:s,rotation:u},c),{originalRootMatrix:ae(v),rootMatrix:ae(v),beforeMatrix:ae(v),offsetMatrix:ae(v),allMatrix:ae(v),targetMatrix:ae(v),targetTransform:"",inlineTransform:"",transformOrigin:[0,0],targetOrigin:[0,0],is3d:!!r,left:0,top:0,right:0,bottom:0,origin:[0,0],pos1:[0,0],pos2:[0,0],pos3:[0,0],pos4:[0,0],direction:1,hasFixed:!1,offsetContainer:null,offsetRootContainer:null,matrixes:[]}),l)}function Gc(t,e,n,r,i,s){s===void 0&&(s=[]);var u=1,l=[0,0],c=za(),f=za(),d=za(),p=za(),v=[0,0],g={},m=VD(e,n,i,!0);if(e){var _=nn(e);s.forEach(function(z){g[z]=_(z)});var b=m.is3d?4:3,x=Ni(m.offsetMatrix,Vt(m.transformOrigin,Ap(m.targetMatrix,b)),m.width,m.height);u=x.direction,l=Vt(x.origin,[x.left-m.left,x.top-m.top]),p=ns(m.offsetRootContainer);var w=ts(r,r,!0).offsetParent||m.offsetRootContainer;if(m.hasZoom){var E=Ni(ne(m.originalRootMatrix,m.allMatrix),m.transformOrigin,m.width,m.height),D=Ni(m.originalRootMatrix,Ga(nn(w)("transformOrigin")).map(function(z){return parseFloat(z)}),w.offsetWidth,w.offsetHeight);if(c=xc(E,p),d=xc(D,p,w,!0),t){var M=E.left,A=E.top;f=xc({left:M,top:A,bottom:A,right:A},p)}}else{c=ns(e),d=sE(w),t&&(f=ns(t));var T=d.left,O=d.top,I=d.clientLeft,k=d.clientTop,N=[c.left-T,c.top-O];v=bt(Ui(m.rootMatrix,N,4),[I+m.left,k+m.top])}}return B({targetClientRect:c,containerClientRect:d,moveableClientRect:f,rootContainerClientRect:p,beforeDirection:u,beforeOrigin:l,originalBeforeOrigin:l,target:e,style:g,offsetDelta:v},m)}function wg(t){var e=t.pos1,n=t.pos2,r=t.pos3,i=t.pos4;if(!e||!n||!r||!i)return null;var s=ni([e,n,r,i]),u=[s.minX,s.minY],l=bt(t.origin,u);return e=bt(e,u),n=bt(n,u),r=bt(r,u),i=bt(i,u),B(B({},t),{left:t.left,top:t.top,posDelta:u,pos1:e,pos2:n,pos3:r,pos4:i,origin:l,beforeOrigin:l,isPersisted:!0})}var Qi=function(t){Ho(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.state=B({container:null,gestos:{},renderLines:[[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]],[[0,0],[0,0]]],renderPoses:[[0,0],[0,0],[0,0],[0,0]],disableNativeEvent:!1,posDelta:[0,0]},Gc(null)),n.renderState={},n.enabledAbles=[],n.targetAbles=[],n.controlAbles=[],n.rotation=0,n.scale=[1,1],n.isMoveableMounted=!1,n.isUnmounted=!1,n.events={mouseEnter:null,mouseLeave:null},n._emitter=new ga,n._prevOriginalDragTarget=null,n._originalDragTarget=null,n._prevDragTarget=null,n._dragTarget=null,n._prevPropTarget=null,n._propTarget=null,n._prevDragArea=!1,n._isPropTargetChanged=!1,n._hasFirstTarget=!1,n._reiszeObserver=null,n._observerId=0,n._mutationObserver=null,n._rootContainer=null,n._viewContainer=null,n._viewClassNames=[],n._store={},n.checkUpdateRect=function(){if(!n.isDragging()){var r=n.props.parentMoveable;if(r){r.checkUpdateRect();return}aw(n._observerId),n._observerId=qd(function(){n.isDragging()||n.updateRect()})}},n._onPreventClick=function(r){r.stopPropagation(),r.preventDefault()},n}return e.prototype.render=function(){var n=this.props,r=this.getState(),i=n.parentPosition,s=n.className,u=n.target,l=n.zoom,c=n.cspNonce,f=n.translateZ,d=n.cssStyled,p=n.groupable,v=n.linePadding,g=n.controlPadding;this._checkUpdateRootContainer(),this.checkUpdate(),this.updateRenderPoses();var m=F(i||[0,0],2),_=m[0],b=m[1],x=r.left,w=r.top,E=r.target,D=r.direction,M=r.hasFixed,A=r.offsetDelta,T=n.targets,O=this.isDragging(),I={};this.getEnabledAbles().forEach(function(X){I["data-able-".concat(X.name.toLowerCase())]=!0});var k=this._getAbleClassName(),N=T&&T.length&&(E||p)||u||!this._hasFirstTarget&&this.state.isPersisted,z=this.controlBox||this.props.firstRenderState||this.props.persistData,G=[x-_,w-b];!p&&n.useAccuratePosition&&(G[0]+=A[0],G[1]+=A[1]);var Y={position:M?"fixed":"absolute",display:N?"block":"none",visibility:z?"visible":"hidden",transform:"translate3d(".concat(G[0],"px, ").concat(G[1],"px, ").concat(f,")"),"--zoom":l,"--zoompx":"".concat(l,"px")};return v&&(Y["--moveable-line-padding"]=v),g&&(Y["--moveable-control-padding"]=g),Bn(d,B({cspNonce:c,ref:or(this,"controlBox"),className:"".concat(_t("control-box",D===-1?"reverse":"",O?"dragging":"")," ").concat(k," ").concat(s)},I,{onClick:this._onPreventClick,style:Y}),this.renderAbles(),this._renderLines())},e.prototype.componentDidMount=function(){this.isMoveableMounted=!0,this.isUnmounted=!1;var n=this.props,r=n.parentMoveable,i=n.container;this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateTargets(),this._updateNativeEvents(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(this.props),!i&&!r&&!this.state.isPersisted&&(this.updateRect("",!1,!1),this.forceUpdate())},e.prototype.componentDidUpdate=function(n){this._checkUpdateRootContainer(),this._checkUpdateViewContainer(),this._updateNativeEvents(),this._updateTargets(),this._updateEvents(),this.updateCheckInput(),this._updateObserver(n)},e.prototype.componentWillUnmount=function(){var n,r;this.isMoveableMounted=!1,this.isUnmounted=!0,this._emitter.off(),(n=this._reiszeObserver)===null||n===void 0||n.disconnect(),(r=this._mutationObserver)===null||r===void 0||r.disconnect();var i=this._viewContainer;i&&this._changeAbleViewClassNames([]),Hi(this,!1),Hi(this,!0);var s=this.events;for(var u in s){var l=s[u];l&&l.destroy()}},e.prototype.getTargets=function(){var n=this.props.target;return n?[n]:[]},e.prototype.getAble=function(n){var r=this.props.ables||[];return tn(r,function(i){return i.name===n})},e.prototype.getContainer=function(){var n=this.props,r=n.parentMoveable,i=n.wrapperMoveable,s=n.container;return s||i&&i.getContainer()||r&&r.getContainer()||this.controlBox.parentElement},e.prototype.getControlBoxElement=function(){return this.controlBox},e.prototype.getDragElement=function(){return this._dragTarget},e.prototype.isMoveableElement=function(n){var r;return n&&(((r=n.getAttribute)===null||r===void 0?void 0:r.call(n,"class"))||"").indexOf($l)>-1},e.prototype.dragStart=function(n,r){r===void 0&&(r=n.target);var i=this.targetGesto,s=this.controlGesto;return i&&Bc(this)({inputEvent:n},r)?i.isFlag()||i.triggerDragStart(n):s&&this.isMoveableElement(r)&&(s.isFlag()||s.triggerDragStart(n)),this},e.prototype.hitTest=function(n){var r=this.state,i=r.target,s=r.pos1,u=r.pos2,l=r.pos3,c=r.pos4,f=r.targetClientRect;if(!i)return 0;var d;if(ki(n)){var p=n.getBoundingClientRect();d={left:p.left,top:p.top,width:p.width,height:p.height}}else d=B({width:0,height:0},n);var v=d.left,g=d.top,m=d.width,_=d.height,b=Pp([s,u,c,l],f),x=hS(b,[[v,g],[v+m,g],[v+m,g+_],[v,g+_]]),w=Ip(b);return!x||!w?0:Math.min(100,x/w*100)},e.prototype.isInside=function(n,r){var i=this.state,s=i.target,u=i.pos1,l=i.pos2,c=i.pos3,f=i.pos4,d=i.targetClientRect;return s?zl([n,r],Pp([u,l,f,c],d)):!1},e.prototype.updateRect=function(n,r,i){i===void 0&&(i=!0);var s=this.props,u=!s.parentPosition&&!s.wrapperMoveable;u&&Yi(!0);var l=s.parentMoveable,c=this.state,f=c.target||s.target,d=this.getContainer(),p=l?l._rootContainer:this._rootContainer,v=Gc(this.controlBox,f,d,d,p||d,this._getRequestStyles());if(!f&&this._hasFirstTarget&&s.persistData){var g=wg(s.persistData);for(var m in g)v[m]=g[m]}u&&Yi(),this.updateState(v,l?!1:i)},e.prototype.isDragging=function(n){var r,i,s=this.targetGesto,u=this.controlGesto;if(s!=null&&s.isFlag()){if(!n)return!0;var l=s.getEventData();return!!(!((r=l[n])===null||r===void 0)&&r.isEventStart)}if(u!=null&&u.isFlag()){if(!n)return!0;var l=u.getEventData();return!!(!((i=l[n])===null||i===void 0)&&i.isEventStart)}return!1},e.prototype.updateTarget=function(n){this.updateRect(n,!0)},e.prototype.getRect=function(){var n=this.state,r=wn(this.state),i=F(r,4),s=i[0],u=i[1],l=i[2],c=i[3],f=bn(r),d=n.width,p=n.height,v=f.width,g=f.height,m=f.left,_=f.top,b=[n.left,n.top],x=Vt(b,n.origin),w=Vt(b,n.beforeOrigin),E=n.transformOrigin;return{width:v,height:g,left:m,top:_,pos1:s,pos2:u,pos3:l,pos4:c,offsetWidth:d,offsetHeight:p,beforeOrigin:w,origin:x,transformOrigin:E,rotation:this.getRotation()}},e.prototype.getManager=function(){return this},e.prototype.stopDrag=function(n){if(!n||n==="target"){var r=this.targetGesto;(r==null?void 0:r.isIdle())===!1&&Sc(this,!1),r==null||r.stop()}if(!n||n==="control"){var r=this.controlGesto;(r==null?void 0:r.isIdle())===!1&&Sc(this,!0),r==null||r.stop()}},e.prototype.getRotation=function(){var n=this.state,r=n.pos1,i=n.pos2,s=n.direction;return gD(r,i,s)},e.prototype.request=function(n,r,i){r===void 0&&(r={});var s=this,u=s.props,l=u.parentMoveable||u.wrapperMoveable||s,c=l.props.ables,f=u.groupable,d=tn(c,function(x){return x.name===n});if(this.isDragging()||!d||!d.request)return{request:function(){return this},requestEnd:function(){return this}};var p=d.request(s),v=i||r.isInstant,g=p.isControl?"controlAbles":"targetAbles",m="".concat(f?"Group":"").concat(p.isControl?"Control":""),_=it([],F(l[g]),!1),b={request:function(x){return rs(s,_,["drag"],m,"",B(B({},p.request(x)),{requestAble:n,isRequest:!0}),v),b},requestEnd:function(){return rs(s,_,["drag"],m,"End",B(B({},p.requestEnd()),{requestAble:n,isRequest:!0}),v),b}};return rs(s,_,["drag"],m,"Start",B(B({},p.requestStart(r)),{requestAble:n,isRequest:!0}),v),v?b.request(r).requestEnd():b},e.prototype.getMoveables=function(){return[this]},e.prototype.destroy=function(){this.componentWillUnmount()},e.prototype.updateRenderPoses=function(){var n=this.getState(),r=this.props,i=r.padding,s=n.originalBeforeOrigin,u=n.transformOrigin,l=n.allMatrix,c=n.is3d,f=n.pos1,d=n.pos2,p=n.pos3,v=n.pos4,g=n.left,m=n.top,_=n.isPersisted,b=r.zoom||1;if(!i&&b<=1){n.renderPoses=[f,d,p,v],n.renderLines=[[f,d],[d,v],[v,p],[p,f]];return}var x=ng(i||{}),w=x.left,E=x.top,D=x.bottom,M=x.right,A=c?4:3,T=[];_?T=u:this.controlBox&&r.groupable?T=s:T=Vt(s,[g,m]);var O=pa(A,ei(T.map(function(Y){return-Y}),A),l,ei(u,A)),I=Sn(O,f,[-w,-E],A),k=Sn(O,d,[M,-E],A),N=Sn(O,p,[-w,D],A),z=Sn(O,v,[M,D],A);if(n.renderPoses=[I,k,N,z],n.renderLines=[[I,k],[k,z],[z,N],[N,I]],b){var G=b/2;n.renderLines=[[Sn(O,f,[-w-G,-E],A),Sn(O,d,[M+G,-E],A)],[Sn(O,d,[M,-E-G],A),Sn(O,v,[M,D+G],A)],[Sn(O,v,[M+G,D],A),Sn(O,p,[-w-G,D],A)],[Sn(O,p,[-w,D+G],A),Sn(O,f,[-w,-E-G],A)]]}},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1;var n=this.props,r=n.target,i=n.container,s=n.parentMoveable,u=this.state,l=u.target,c=u.container;if(!(!l&&!r)){this.updateAbles();var f=!Dc(l,r),d=f||!Dc(c,i);if(d){var p=i||this.controlBox;p&&this.unsetAbles(),this.updateState({target:r,container:i}),!s&&p&&this.updateRect("End",!1,!1),this._isPropTargetChanged=f}}},e.prototype.waitToChangeTarget=function(){return new Promise(function(){})},e.prototype.triggerEvent=function(n,r){var i=this.props;if(this._emitter.trigger(n,r),i.parentMoveable&&r.isRequest&&!r.isRequestChild)return i.parentMoveable.triggerEvent(n,r,!0);var s=i[n];return s&&s(r)},e.prototype.useCSS=function(n,r){var i=this.props.customStyledMap,s=n+r;return i[s]||(i[s]=Fp(n,r)),i[s]},e.prototype.getState=function(){var n,r=this.props;(r.target||!((n=r.targets)===null||n===void 0)&&n.length)&&(this._hasFirstTarget=!0);var i=this.controlBox,s=r.persistData,u=r.firstRenderState;if(u&&!i)return u;if(!this._hasFirstTarget&&s){var l=wg(s);if(l)return this.updateState(l,!1),this.state}return this.state.isPersisted=!1,this.state},e.prototype.updateSelectors=function(){},e.prototype.unsetAbles=function(){var n=this;this.targetAbles.forEach(function(r){r.unset&&r.unset(n)})},e.prototype.updateAbles=function(n,r){n===void 0&&(n=this.props.ables),r===void 0&&(r="");var i=this.props,s=i.triggerAblesSimultaneously,u=this.getEnabledAbles(n),l="drag".concat(r,"Start"),c="pinch".concat(r,"Start"),f="drag".concat(r,"ControlStart"),d=ja(u,[l,c],s),p=ja(u,[f],s);this.enabledAbles=u,this.targetAbles=d,this.controlAbles=p},e.prototype.updateState=function(n,r){if(r){if(this.isUnmounted)return;this.setState(n)}else{var i=this.state;for(var s in n)i[s]=n[s]}},e.prototype.getEnabledAbles=function(n){n===void 0&&(n=this.props.ables);var r=this.props;return n.filter(function(i){return i&&(i.always&&r[i.name]!==!1||r[i.name])})},e.prototype.renderAbles=function(){var n=this,r=this.props,i=r.triggerAblesSimultaneously,s={createElement:Bn};return this.renderState={},dD(Qv(ja(this.getEnabledAbles(),["render"],i).map(function(u){var l=u.render;return l(n,s)||[]})).filter(function(u){return u}),function(u){var l=u.key;return l}).map(function(u){return u[0]})},e.prototype.updateCheckInput=function(){this.targetGesto&&(this.targetGesto.options.checkInput=this.props.checkInput)},e.prototype._getRequestStyles=function(){var n=this.getEnabledAbles().reduce(function(r,i){var s,u,l=(u=(s=i.requestStyle)===null||s===void 0?void 0:s.call(i))!==null&&u!==void 0?u:[];return it(it([],F(r),!1),F(l),!1)},it([],F(this.props.requestStyles||[]),!1));return n},e.prototype._updateObserver=function(n){this._updateResizeObserver(n),this._updateMutationObserver(n)},e.prototype._updateEvents=function(){var n=this.targetAbles.length,r=this.controlAbles.length,i=this._dragTarget,s=!n&&this.targetGesto||this._isTargetChanged(!0);s&&(Hi(this,!1),this.updateState({gestos:{}})),r||Hi(this,!0),i&&n&&!this.targetGesto&&(this.targetGesto=yg(this,i,"")),!this.controlGesto&&r&&(this.controlGesto=bg(this,"Control"))},e.prototype._updateTargets=function(){var n=this.props;this._prevPropTarget=this._propTarget,this._prevDragTarget=this._dragTarget,this._prevOriginalDragTarget=this._originalDragTarget,this._prevDragArea=n.dragArea,this._propTarget=n.target,this._originalDragTarget=n.dragTarget||n.target,this._dragTarget=$n(this._originalDragTarget,!0)},e.prototype._renderLines=function(){var n=this.props,r=n,i=r.zoom,s=r.hideDefaultLines,u=r.hideChildMoveableDefaultLines,l=r.parentMoveable;if(s||l&&u)return[];var c=this.getState(),f={createElement:Bn};return c.renderLines.map(function(d,p){return Qo(f,"",d[0],d[1],i,"render-line-".concat(p))})},e.prototype._isTargetChanged=function(n){var r=this.props,i=r.dragTarget||r.target,s=this._prevOriginalDragTarget,u=this._prevDragArea,l=r.dragArea,c=!l&&s!==i,f=(n||l)&&u!==l;return c||f||this._prevPropTarget!=this._propTarget},e.prototype._updateNativeEvents=function(){var n=this,r=this.props,i=r.dragArea?this.areaElement:this.state.target,s=this.events,u=ar(s);if(this._isTargetChanged())for(var l in s){var c=s[l];c&&c.destroy(),s[l]=null}if(i){var f=this.enabledAbles;u.forEach(function(d){var p=ja(f,[d]),v=p.length>0,g=s[d];if(!v){g&&(g.destroy(),s[d]=null);return}g||(g=new qD(i,n,d),s[d]=g),g.setAbles(p)})}},e.prototype._checkUpdateRootContainer=function(){var n=this.props.rootContainer;!this._rootContainer&&n&&(this._rootContainer=$n(n,!0))},e.prototype._checkUpdateViewContainer=function(){var n=this.props.viewContainer;!this._viewContainer&&n&&(this._viewContainer=$n(n,!0));var r=this._viewContainer;r&&this._changeAbleViewClassNames(it(it([],F(this._getAbleViewClassNames()),!1),[this.isDragging()?SD:""],!1))},e.prototype._changeAbleViewClassNames=function(n){var r=this._viewContainer,i=$v(n.filter(Boolean),function(f){return f}).map(function(f){var d=F(f,1),p=d[0];return p}),s=this._viewClassNames,u=Bo(s,i),l=u.removed,c=u.added;l.forEach(function(f){Kd(r,s[f])}),c.forEach(function(f){Jd(r,i[f])}),this._viewClassNames=i},e.prototype._getAbleViewClassNames=function(){var n=this;return(this.getEnabledAbles().map(function(r){var i;return((i=r.viewClassName)===null||i===void 0?void 0:i.call(r,n))||""}).join(" ")+" ".concat(this._getAbleClassName("-view"))).split(/\s+/g)},e.prototype._getAbleClassName=function(n){var r=this;n===void 0&&(n="");var i=this.getEnabledAbles(),s=this.targetGesto,u=this.controlGesto,l=s!=null&&s.isFlag()?s.getEventData():{},c=u!=null&&u.isFlag()?u.getEventData():{};return i.map(function(f){var d,p,v,g=f.name,m=((d=f.className)===null||d===void 0?void 0:d.call(f,r))||"";return(!((p=l[g])===null||p===void 0)&&p.isEventStart||!((v=c[g])===null||v===void 0)&&v.isEventStart)&&(m+=" ".concat(_t("".concat(g).concat(n,"-dragging")))),m.trim()}).filter(Boolean).join(" ")},e.prototype._updateResizeObserver=function(n){var r,i=this.props,s=i.target,u=Or(this.getControlBoxElement());if(!u.ResizeObserver||!s||!i.useResizeObserver){(r=this._reiszeObserver)===null||r===void 0||r.disconnect();return}if(!(n.target===s&&this._reiszeObserver)){var l=new u.ResizeObserver(this.checkUpdateRect);l.observe(s,{box:"border-box"}),this._reiszeObserver=l}},e.prototype._updateMutationObserver=function(n){var r=this,i,s=this.props,u=s.target,l=Or(this.getControlBoxElement());if(!l.MutationObserver||!u||!s.useMutationObserver){(i=this._mutationObserver)===null||i===void 0||i.disconnect();return}if(!(n.target===u&&this._mutationObserver)){var c=new l.MutationObserver(function(f){var d,p;try{for(var v=RS(f),g=v.next();!g.done;g=v.next()){var m=g.value;m.type==="attributes"&&m.attributeName==="style"&&r.checkUpdateRect()}}catch(_){d={error:_}}finally{try{g&&!g.done&&(p=v.return)&&p.call(v)}finally{if(d)throw d.error}}});c.observe(u,{attributes:!0}),this._mutationObserver=c}},e.defaultProps={dragTargetSelf:!1,target:null,dragTarget:null,container:null,rootContainer:null,origin:!0,parentMoveable:null,wrapperMoveable:null,isWrapperMounted:!1,parentPosition:null,warpSelf:!1,svgOrigin:"",dragContainer:null,useResizeObserver:!1,useMutationObserver:!1,preventDefault:!0,preventRightClick:!0,preventWheelClick:!0,linePadding:0,controlPadding:0,ables:[],pinchThreshold:20,dragArea:!1,passDragArea:!1,transformOrigin:"",className:"",zoom:1,triggerAblesSimultaneously:!1,padding:{},pinchOutside:!0,checkInput:!1,dragFocusedInput:!1,groupable:!1,hideDefaultLines:!1,cspNonce:"",translateZ:0,cssStyled:null,customStyledMap:{},props:{},stopPropagation:!1,preventClickDefault:!1,preventClickEventOnDrag:!0,flushSync:Lv,firstRenderState:null,persistData:null,viewContainer:null,requestStyles:[],useAccuratePosition:!1},e}(cp),Lc={name:"groupable",props:["defaultGroupRotate","useDefaultGroupRotate","defaultGroupOrigin","groupable","groupableProps","targetGroups","hideChildMoveableDefaultLines"],events:[],render:function(t,e){var n,r=t.props,i=r.targets||[],s=t.getState(),u=s.left,l=s.top,c=s.isPersisted,f=r.zoom||1,d=t.renderGroupRects,p=((n=r.persistData)===null||n===void 0?void 0:n.children)||[];c?i=p.map(function(){return null}):p=[];var v=$i(t,"parentPosition",[u,l],function(m){return m.join(",")}),g=$i(t,"requestStyles",t.getRequestChildStyles(),function(m){return m.join(",")});return t.moveables=t.moveables.slice(0,i.length),it(it([],F(i.map(function(m,_){return e.createElement(Qi,{key:"moveable"+_,ref:Nd(t,"moveables",_),target:m,origin:!1,requestStyles:g,cssStyled:r.cssStyled,customStyledMap:r.customStyledMap,useResizeObserver:r.useResizeObserver,useMutationObserver:r.useMutationObserver,hideChildMoveableDefaultLines:r.hideChildMoveableDefaultLines,parentMoveable:t,parentPosition:[u,l],persistData:p[_],zoom:f})})),!1),F(Qv(d.map(function(m,_){var b=m.pos1,x=m.pos2,w=m.pos3,E=m.pos4,D=[b,x,w,E];return[[0,1],[1,3],[3,2],[2,0]].map(function(M,A){var T=F(M,2),O=T[0],I=T[1];return Qo(e,"",bt(D[O],v),bt(D[I],v),f,"group-rect-".concat(_,"-").concat(A))})}))),!1)}},UD=Vo("clickable",{props:["clickable"],events:["click","clickGroup"],always:!0,dragRelation:"weak",dragStart:function(){},dragControlStart:function(){},dragGroupStart:function(t,e){e.datas.inputTarget=e.inputEvent&&e.inputEvent.target},dragEnd:function(t,e){var n=t.props.target,r=e.inputEvent,i=e.inputTarget,s=t.isMoveableElement(i),u=!s&&t.controlBox.contains(i);if(!(!r||!i||e.isDrag||t.isMoveableElement(i)||u)){var l=n.contains(i);ht(t,"onClick",It(t,e,{isDouble:e.isDouble,inputTarget:i,isTarget:n===i,moveableTarget:t.props.target,containsTarget:l}))}},dragGroupEnd:function(t,e){var n=e.inputEvent,r=e.inputTarget;if(!(!n||!r||e.isDrag||t.isMoveableElement(r)||e.datas.inputTarget===r)){var i=t.props.targets,s=i.indexOf(r),u=s>-1,l=!1;s===-1&&(s=sr(i,function(c){return c.contains(r)}),l=s>-1),ht(t,"onClickGroup",It(t,e,{isDouble:e.isDouble,targets:i,inputTarget:r,targetIndex:s,isTarget:u,containsTarget:l,moveableTarget:i[s]}))}},dragControlEnd:function(t,e){this.dragEnd(t,e)},dragGroupControlEnd:function(t,e){this.dragEnd(t,e)}});function Zi(t){var e=t.originalDatas.draggable;return e||(t.originalDatas.draggable={},e=t.originalDatas.draggable),B(B({},t),{datas:e})}var $D=Vo("edgeDraggable",{css:[`.edge.edgeDraggable.line {
cursor: move;
}`],render:function(t,e){var n=t.props,r=n.edgeDraggable;return r?ev(e,"edgeDraggable",r,t.getState().renderPoses,n.zoom):[]},dragCondition:function(t,e){var n,r=t.props,i=(n=e.inputEvent)===null||n===void 0?void 0:n.target;return!r.edgeDraggable||!i?!1:!r.draggable&&De(i,_t("direction"))&&De(i,_t("edge"))&&De(i,_t("edgeDraggable"))},dragStart:function(t,e){return He.dragStart(t,Zi(e))},drag:function(t,e){return He.drag(t,Zi(e))},dragEnd:function(t,e){return He.dragEnd(t,Zi(e))},dragGroupCondition:function(t,e){var n,r=t.props,i=(n=e.inputEvent)===null||n===void 0?void 0:n.target;return!r.edgeDraggable||!i?!1:!r.draggable&&De(i,_t("direction"))&&De(i,_t("line"))},dragGroupStart:function(t,e){return He.dragGroupStart(t,Zi(e))},dragGroup:function(t,e){return He.dragGroup(t,Zi(e))},dragGroupEnd:function(t,e){return He.dragGroupEnd(t,Zi(e))},unset:function(t){return He.unset(t)}}),Sg={name:"individualGroupable",props:["individualGroupable","individualGroupableProps"],events:[]},Fc=[mg,ug,tD,_D,He,$D,fc,yD,xD,GE,AD,CD,ED,zD,FD,YD,Lc,Sg,UD,ag,_g],QD=Fc.reduce(function(t,e){return(e.events||[]).forEach(function(n){Zd(t,n)}),t},[]),ZD=Fc.reduce(function(t,e){return(e.props||[]).forEach(function(n){Zd(t,n)}),t},[]);function Eg(t,e){var n=F(t,3),r=n[0],i=n[1],s=n[2];return(r*e[0]+i*e[1]+s)/Math.sqrt(r*r+i*i)}function Ha(t,e){var n=F(t,2),r=n[0],i=n[1];return-r*e[0]-i*e[1]}function Dg(t,e){return Math.max.apply(Math,it([],F(t.map(function(n){var r=F(n,4),i=r[0],s=r[1],u=r[2],l=r[3];return Math.max(i[e],s[e],u[e],l[e])})),!1))}function Ag(t,e){return Math.min.apply(Math,it([],F(t.map(function(n){var r=F(n,4),i=r[0],s=r[1],u=r[2],l=r[3];return Math.min(i[e],s[e],u[e],l[e])})),!1))}function JD(t,e){var n,r,i,s=[0,0],u=[0,0],l=[0,0],c=[0,0],f=0,d=0;if(!t.length)return{pos1:s,pos2:u,pos3:l,pos4:c,minX:0,minY:0,maxX:0,maxY:0,width:f,height:d,rotation:e};var p=Mt(e,qe);if(p%90){var v=p/180*Math.PI,g=Math.tan(v),m=-1/g,_=[Zl,Yp],b=[[0,0],[0,0]],x=[Zl,Yp],w=[[0,0],[0,0]];t.forEach(function(ft){ft.forEach(function(at){var lt=Eg([-g,1,0],at),ot=Eg([-m,1,0],at);_[0]>lt&&(b[0]=at,_[0]=lt),_[1]<lt&&(b[1]=at,_[1]=lt),x[0]>ot&&(w[0]=at,x[0]=ot),x[1]<ot&&(w[1]=at,x[1]=ot)})});var E=F(b,2),D=E[0],M=E[1],A=F(w,2),T=A[0],O=A[1],I=[-g,1,Ha([-g,1],D)],k=[-g,1,Ha([-g,1],M)],N=[-m,1,Ha([-m,1],T)],z=[-m,1,Ha([-m,1],O)];n=F([[I,N],[I,z],[k,N],[k,z]].map(function(ft){var at=F(ft,2),lt=at[0],ot=at[1];return Nl(lt,ot)[0]}),4),s=n[0],u=n[1],l=n[2],c=n[3],f=x[1]-x[0],d=_[1]-_[0]}else{var G=Ag(t,0),Y=Ag(t,1),X=Dg(t,0),K=Dg(t,1);if(s=[G,Y],u=[X,Y],l=[G,K],c=[X,K],f=X-G,d=K-Y,p%180){var tt=[l,s,c,u];r=F(tt,4),s=r[0],u=r[1],l=r[2],c=r[3],f=K-Y,d=X-G}}if(p%360>180){var tt=[c,l,u,s];i=F(tt,4),s=i[0],u=i[1],l=i[2],c=i[3]}var U=ni([s,u,l,c]),rt=U.minX,nt=U.minY,H=U.maxX,ut=U.maxY;return{pos1:s,pos2:u,pos3:l,pos4:c,width:f,height:d,minX:rt,minY:nt,maxX:H,maxY:ut,rotation:e}}function Cg(t,e){var n=e.map(function(r){if(Se(r)){var i=Cg(t,r),s=i.length;return s>1?i:s===1?i[0]:null}else{var u=tn(t,function(l){var c=l.manager;return c.props.target===r});return u?(u.finded=!0,u.manager):null}}).filter(Boolean);return n.length===1&&Se(n[0])?n[0]:n}var KD=function(t){Ho(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.differ=new Op,n.moveables=[],n.transformOrigin="50% 50%",n.renderGroupRects=[],n._targetGroups=[],n._hasFirstTargets=!1,n}return e.prototype.componentDidMount=function(){t.prototype.componentDidMount.call(this)},e.prototype.checkUpdate=function(){this._isPropTargetChanged=!1,this.updateAbles()},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(n,r,i){var s;i===void 0&&(i=!0);var u=this.state;if(!this.controlBox||u.isPersisted)return;Yi(!0),this.moveables.forEach(function(gt){gt.updateRect(n,!1,!1)});var l=this.props,c=this.moveables,f=u.target||l.target,d=c.map(function(gt){return{finded:!1,manager:gt}}),p=this.props.targetGroups||[],v=Cg(d,p),g=l.useDefaultGroupRotate;v.push.apply(v,it([],F(d.filter(function(gt){var Dt=gt.finded;return!Dt}).map(function(gt){var Dt=gt.manager;return Dt})),!1));var m=[],_=!r||n!==""&&l.updateGroup,b=l.defaultGroupRotate||0;if(!this._hasFirstTargets){var x=(s=l.persistData)===null||s===void 0?void 0:s.rotation;x!=null&&(b=x)}function w(gt,Dt,jt){var st=gt.map(function(Zt){if(Se(Zt)){var Pt=w(Zt,Dt),Wt=[Pt.pos1,Pt.pos2,Pt.pos3,Pt.pos4];return m.push(Pt),{poses:Wt,rotation:Pt.rotation}}else return{poses:wn(Zt.state),rotation:Zt.getRotation()}}),vt=st.map(function(Zt){var Pt=Zt.rotation;return Pt}),Ut=0,yt=vt[0],Et=vt.every(function(Zt){return Math.abs(yt-Zt)<.1});_?Ut=!g&&Et?yt:b:Ut=!g&&!jt&&Et?yt:Dt;var Bt=st.map(function(Zt){var Pt=Zt.poses;return Pt}),zt=JD(Bt,Ut);return zt}var E=w(v,this.rotation,!0);_&&(this.rotation=E.rotation,this.transformOrigin=l.defaultGroupOrigin||"50% 50%",this.scale=[1,1]),this._targetGroups=p,this.renderGroupRects=m;var D=this.transformOrigin,M=this.rotation,A=this.scale,T=E.width,O=E.height,I=E.minX,k=E.minY,N=mD([[0,0],[T,0],[0,O],[T,O]],Oc(D,T,O),this.rotation/180*Math.PI),z=ni(N.result),G=z.minX,Y=z.minY,X=" rotate(".concat(M,"deg)")+" scale(".concat(Ue(A[0]),", ").concat(Ue(A[1]),")"),K="translate(".concat(-G,"px, ").concat(-Y,"px)").concat(X);this.controlBox.style.transform="translate3d(".concat(I,"px, ").concat(k,"px, ").concat(this.props.translateZ||0,")"),f.style.cssText+="left:0px;top:0px;"+"transform-origin:".concat(D,";")+"width:".concat(T,"px;height:").concat(O,"px;")+"transform: ".concat(K),u.width=T,u.height=O;var tt=this.getContainer(),U=Gc(this.controlBox,f,this.controlBox,this.getContainer(),this._rootContainer||tt,[]),rt=[U.left,U.top],nt=F(wn(U),4),H=nt[0],ut=nt[1],ft=nt[2],at=nt[3],lt=ni([H,ut,ft,at]),ot=[lt.minX,lt.minY],dt=Ue(A[0]*A[1]);U.pos1=bt(H,ot),U.pos2=bt(ut,ot),U.pos3=bt(ft,ot),U.pos4=bt(at,ot),U.left=I-U.left+ot[0],U.top=k-U.top+ot[1],U.origin=bt(Vt(rt,U.origin),ot),U.beforeOrigin=bt(Vt(rt,U.beforeOrigin),ot),U.originalBeforeOrigin=Vt(rt,U.originalBeforeOrigin),U.transformOrigin=bt(Vt(rt,U.transformOrigin),ot),f.style.transform="translate(".concat(-G-ot[0],"px, ").concat(-Y-ot[1],"px)")+X,Yi(),this.updateState(B(B({},U),{posDelta:ot,direction:dt,beforeDirection:dt}),i)},e.prototype.getRect=function(){return B(B({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},e.prototype.triggerEvent=function(n,r,i){if(i||n.indexOf("Group")>-1)return t.prototype.triggerEvent.call(this,n,r);this._emitter.trigger(n,r)},e.prototype.getRequestChildStyles=function(){var n=this.getEnabledAbles().reduce(function(r,i){var s,u,l=(u=(s=i.requestChildStyle)===null||s===void 0?void 0:s.call(i))!==null&&u!==void 0?u:[];return it(it([],F(r),!1),F(l),!1)},[]);return n},e.prototype.getMoveables=function(){return it([],F(this.moveables),!1)},e.prototype.updateAbles=function(){t.prototype.updateAbles.call(this,it(it([],F(this.props.ables),!1),[Lc],!1),"Group")},e.prototype._updateTargets=function(){t.prototype._updateTargets.call(this),this._originalDragTarget=this.props.dragTarget||this.areaElement,this._dragTarget=$n(this._originalDragTarget,!0)},e.prototype._updateEvents=function(){var n=this.state,r=this.props,i=this._prevDragTarget,s=r.dragTarget||this.areaElement,u=r.targets,l=this.differ.update(u),c=l.added,f=l.changed,d=l.removed,p=c.length||d.length;(p||this._prevOriginalDragTarget!==this._originalDragTarget)&&(Hi(this,!1),Hi(this,!0),this.updateState({gestos:{}})),i!==s&&(n.target=null),n.target||(n.target=this.areaElement,this.controlBox.style.display="block"),n.target&&(this.targetGesto||(this.targetGesto=yg(this,this._dragTarget,"Group")),this.controlGesto||(this.controlGesto=bg(this,"GroupControl")));var v=!Dc(n.container,r.container);v&&(n.container=r.container),(v||p||this.transformOrigin!==(r.defaultGroupOrigin||"50% 50%")||f.length||u.length&&!eg(this._targetGroups,r.targetGroups||[]))&&(this.updateRect(),this._hasFirstTargets=!0),this._isPropTargetChanged=!!p},e.prototype._updateObserver=function(){},e.defaultProps=B(B({},Qi.defaultProps),{transformOrigin:["50%","50%"],groupable:!0,dragArea:!0,keepRatio:!0,targets:[],defaultGroupRotate:0,defaultGroupOrigin:"50% 50%"}),e}(Qi),tA=function(t){Ho(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.moveables=[],n}return e.prototype.render=function(){var n=this,r,i=this.props,s=i.cspNonce,u=i.cssStyled,l=i.persistData,c=i.targets||[],f=c.length,d=this.isUnmounted||!f,p=(r=l==null?void 0:l.children)!==null&&r!==void 0?r:[];return d&&!f&&p.length?c=p.map(function(){return null}):d||(p=[]),Bn(u,{cspNonce:s,ref:or(this,"controlBox"),className:_t("control-box")},c.map(function(v,g){var m,_,b=(_=(m=i.individualGroupableProps)===null||m===void 0?void 0:m.call(i,v,g))!==null&&_!==void 0?_:{};return Bn(Qi,B({key:"moveable"+g,ref:Nd(n,"moveables",g)},i,b,{target:v,wrapperMoveable:n,isWrapperMounted:n.isMoveableMounted,persistData:p[g]}))}))},e.prototype.componentDidMount=function(){},e.prototype.componentDidUpdate=function(){},e.prototype.getTargets=function(){return this.props.targets},e.prototype.updateRect=function(n,r,i){i===void 0&&(i=!0),Yi(!0),this.moveables.forEach(function(s){s.updateRect(n,r,i)}),Yi()},e.prototype.getRect=function(){return B(B({},t.prototype.getRect.call(this)),{children:this.moveables.map(function(n){return n.getRect()})})},e.prototype.request=function(n,r,i){r===void 0&&(r={});var s=this.moveables.map(function(c){return c.request(n,B(B({},r),{isInstant:!1}),!1)}),u=i||r.isInstant,l={request:function(c){return s.forEach(function(f){return f.request(c)}),this},requestEnd:function(){return s.forEach(function(c){return c.requestEnd()}),this}};return u?l.request(r).requestEnd():l},e.prototype.dragStart=function(n,r){r===void 0&&(r=n.target);var i=r,s=tn(this.moveables,function(u){var l=u.getTargets()[0],c=u.getControlBoxElement(),f=u.getDragElement();return!l||!f?!1:f===i||f.contains(i)||f!==l&&l===i||l.contains(i)||c===i||c.contains(i)});return s&&s.dragStart(n,r),this},e.prototype.hitTest=function(){return 0},e.prototype.isInside=function(){return!1},e.prototype.isDragging=function(){return!1},e.prototype.getDragElement=function(){return null},e.prototype.getMoveables=function(){return it([],F(this.moveables),!1)},e.prototype.updateRenderPoses=function(){},e.prototype.checkUpdate=function(){},e.prototype.triggerEvent=function(){},e.prototype.updateAbles=function(){},e.prototype._updateEvents=function(){},e.prototype._updateObserver=function(){},e}(Qi);function Mg(t,e){var n=[];return t.forEach(function(r){if(r){if(Ke(r)){e[r]&&n.push.apply(n,it([],F(e[r]),!1));return}Se(r)?n.push.apply(n,it([],F(Mg(r,e)),!1)):n.push(r)}}),n}function Rg(t,e){var n=[];return t.forEach(function(r){if(r){if(Ke(r)){e[r]&&n.push.apply(n,it([],F(e[r]),!1));return}Se(r)?n.push(Rg(r,e)):n.push(r)}}),n}function Og(t,e){return t.length!==e.length||t.some(function(n,r){var i=e[r];return!n&&!i?!1:n!=i?Se(n)&&Se(i)?Og(n,i):!0:!1})}var eA=function(t){Ho(e,t);function e(){var n=t!==null&&t.apply(this,arguments)||this;return n.refTargets=[],n.selectorMap={},n._differ=new Op,n._elementTargets=[],n._tmpRefTargets=[],n._tmpSelectorMap={},n._onChangeTargets=null,n}return e.makeStyled=function(){var n={},r=this.getTotalAbles();r.forEach(function(s){var u=s.css;u&&u.forEach(function(l){n[l]=!0})});var i=ar(n).join(`
`);this.defaultStyled=Fp("div",$x($l,NS+i))},e.getTotalAbles=function(){return it([ug,Lc,Sg,ag],F(this.defaultAbles),!1)},e.prototype.render=function(){var n,r=this.constructor;r.defaultStyled||r.makeStyled();var i=this.props,s=i.ables,u=i.props,l=CS(i,["ables","props"]),c=F(this._updateRefs(!0),2),f=c[0],d=c[1],p=Mg(f,d),v=p.length>1,g=r.getTotalAbles(),m=it(it([],F(g),!1),F(s||[]),!1),_=B(B(B({},l),u||{}),{ables:m,cssStyled:r.defaultStyled,customStyledMap:r.customStyledMap});this._elementTargets=p;var b=null,x=this.moveable,w=l.persistData;if(w!=null&&w.children&&(v=!0),l.individualGroupable)return Bn(tA,B({key:"individual-group",ref:or(this,"moveable")},_,{target:null,targets:p}));if(v){var E=Rg(f,d);if(x&&!x.props.groupable&&!x.props.individualGroupable){var D=x.props.target;D&&p.indexOf(D)>-1&&(b=B({},x.state))}return Bn(KD,B({key:"group",ref:or(this,"moveable")},_,(n=l.groupableProps)!==null&&n!==void 0?n:{},{target:null,targets:p,targetGroups:E,firstRenderState:b}))}else{var M=p[0];if(x&&(x.props.groupable||x.props.individualGroupable)){var A=x.moveables||[],T=tn(A,function(O){return O.props.target===M});T&&(b=B({},T.state))}return Bn(Qi,B({key:"single",ref:or(this,"moveable")},_,{target:M,firstRenderState:b}))}},e.prototype.componentDidMount=function(){this._checkChangeTargets()},e.prototype.componentDidUpdate=function(){this._checkChangeTargets()},e.prototype.componentWillUnmount=function(){this.selectorMap={},this.refTargets=[]},e.prototype.getTargets=function(){var n,r;return(r=(n=this.moveable)===null||n===void 0?void 0:n.getTargets())!==null&&r!==void 0?r:[]},e.prototype.updateSelectors=function(){this.selectorMap={},this._updateRefs(),this.forceUpdate()},e.prototype.waitToChangeTarget=function(){var n=this,r;return this._onChangeTargets=function(){n._onChangeTargets=null,r()},new Promise(function(i){r=i})},e.prototype.waitToChangeTargets=function(){return this.waitToChangeTarget()},e.prototype.getManager=function(){return this.moveable},e.prototype.getMoveables=function(){return this.moveable.getMoveables()},e.prototype.getDragElement=function(){return this.moveable.getDragElement()},e.prototype._updateRefs=function(n){var r=this.refTargets,i=Mc(this.props.target||this.props.targets),s=typeof document<"u",u=Og(r,i),l=this.selectorMap,c={};return this.refTargets.forEach(function f(d){if(Ke(d)){var p=l[d];p?c[d]=l[d]:s&&(u=!0,c[d]=[].slice.call(document.querySelectorAll(d)))}else Se(d)&&d.forEach(f)}),this._tmpRefTargets=i,this._tmpSelectorMap=c,[i,c,!n&&u]},e.prototype._checkChangeTargets=function(){var n,r,i;this.refTargets=this._tmpRefTargets,this.selectorMap=this._tmpSelectorMap;var s=this._differ.update(this._elementTargets),u=s.added,l=s.removed,c=u.length||l.length;c&&((r=(n=this.props).onChangeTargets)===null||r===void 0||r.call(n,{moveable:this.moveable,targets:this._elementTargets}),(i=this._onChangeTargets)===null||i===void 0||i.call(this));var f=F(this._updateRefs(),3),d=f[0],p=f[1],v=f[2];this.refTargets=d,this.selectorMap=p,v&&this.forceUpdate()},e.defaultAbles=[],e.customStyledMap={},e.defaultStyled=null,MS([Qx(qp)],e.prototype,"moveable",void 0),e}(cp),nA=function(t){Ho(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.defaultAbles=Fc,e}(eA),zc=function(t,e){return zc=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},zc(t,e)};function Nc(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");zc(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var is=function(){return is=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},is.apply(this,arguments)};function rA(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var l=t.length-1;l>=0;l--)(u=t[l])&&(s=(i<3?u(s):i>3?u(e,n,s):u(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}var iA=function(t){Nc(e,t);function e(r){var i=t.call(this,r)||this;return i.state={},i.state=i.props,i}var n=e.prototype;return n.render=function(){return Bn(nA,is({ref:or(this,"moveable")},this.state))},e}(Al),Va=ZD,Tg=qp,Ig=QD,oA=function(t){Nc(e,t);function e(r,i){i===void 0&&(i={});var s=t.call(this)||this;s.containerProvider=null,s.selfElement=null,s._warp=!1;var u=is({},i),l={};Ig.forEach(function(d){l[sw("on ".concat(d))]=function(p){return s.trigger(d,p)}});var c;i.warpSelf?(delete i.warpSelf,s._warp=!0,c=r):(c=Pi(r).createElement("div"),r.appendChild(c)),s.containerProvider=vp(Bn(iA,is({ref:or(s,"innerMoveable")},u,l)),c),s.selfElement=c;var f=u.target;return Se(f)&&f.length>1&&s.updateRect(),s}var n=e.prototype;return n.setState=function(r,i){this.innerMoveable.setState(r,i)},n.forceUpdate=function(r){this.innerMoveable.forceUpdate(r)},n.dragStart=function(r,i){i===void 0&&(i=r.target);var s=this.innerMoveable;s.$_timer&&this.forceUpdate(),this.getMoveable().dragStart(r,i)},n.destroy=function(){var r,i=this.selfElement;vp(null,i,this.containerProvider),this._warp||(r=i==null?void 0:i.parentElement)===null||r===void 0||r.removeChild(i),this.containerProvider=null,this.off(),this.selfElement=null,this.innerMoveable=null},n.getMoveable=function(){return this.innerMoveable.moveable},e=rA([jd(Tg,function(r,i){r[i]||(r[i]=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];var l=this.getMoveable();if(!(!l||!l[i]))return l[i].apply(l,s)})}),jd(Va,function(r,i){Object.defineProperty(r,i,{get:function(){return this.getMoveable().props[i]},set:function(s){var u;this.setState((u={},u[i]=s,u))},enumerable:!0,configurable:!0})})],e),e}(ga),sA=function(t){Nc(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e}(oA);const Pg={};Tg.forEach(t=>{Pg[t]=function(...e){return this.$_moveable[t](...e)}});const kg={};Va.forEach(t=>{kg[t]=function(e){this.$_moveable[t]=e}});const aA=br({name:"moveable",methods:Pg,props:Va,watch:kg,mounted(){const t={},e=this.$props;Va.forEach(i=>{const s=e[i];Io(s)||(t[i]=e[i])});const n=this.$refs.moveableElement,r=new sA(n,{...t,warpSelf:!0});Ig.forEach(i=>{r.on(i,s=>{this.$emit(i,{...s})})}),this.$_moveable=r},beforeUnmount(){this.$_moveable.destroy()}}),uA=aA,lA=(t,e)=>{const n=t.__vccOpts||t;for(const[r,i]of e)n[r]=i;return n},cA={ref:"moveableElement"};function fA(t,e,n,r,i,s){return se(),Pe("div",cA,null,512)}const hA=lA(uA,[["render",fA]]),Bg=br({__name:"Draggable",props:{bounds:{},x_offset_percentage:{},y_offset_percentage:{}},emits:["update"],setup(t,{emit:e}){const n=t,r=e,i=Qt(null),s=l=>{const c=n.bounds,f=Math.min(Math.max(l.translate[0],(c==null?void 0:c.left)??0),(c==null?void 0:c.right)??0),d=Math.min(Math.max(l.translate[1],(c==null?void 0:c.top)??0),(c==null?void 0:c.bottom)??0);i.value.style.transform=` translate(${f}px, ${d}px) translate(${n.x_offset_percentage??-50}%, ${n.y_offset_percentage??-50}%)`};Is(n.bounds,l=>{const{left:c,top:f,right:d,bottom:p}=l,v=i.value.style.transform.match(/translate\((\d+)px, (\d+)px\)/g);if(v){const[g,m]=v.map(_=>Number(_));if(c<=g&&g<=d&&f<=m&&m<p)return}c&f&d&p&&(i.value.style.transform=` translate(${c}px, ${f}px) translate(${n.x_offset_percentage??-50}%, ${n.y_offset_percentage??-50}%)`)});const u=l=>{var p;const c=((p=i.value)==null?void 0:p.getBoundingClientRect())??new DOMRect,f=c.left+-(n.x_offset_percentage??-50)/100*c.width,d=c.top+-(n.x_offset_percentage??-50)/100*c.height;r("update",[f,d])};return(l,c)=>(se(),Pe(Os,null,[At("span",{class:"absolute top-0 left-0",ref_key:"movint",ref:i},[Xu(l.$slots,"default")],512),(se(),Vr(A_,null,[Hr(In(hA),{target:i.value,draggable:!0,"throttle-drag":1,"hide-default-lines":!0,origin:!1,onDrag:s,onDragEnd:u},null,8,["target"])],1024))],64))}}),dA="data:application/wasm;base64,AGFzbQEAAAABFANgA39/fwF/YAR/f39/AGACf38AAwYFAAEAAgIFAwEAEAdVBhV0aGlubmluZ196c19pdGVyYXRpb24AAgt0aGlubmluZ196cwADCWdldF9waXhlbAAACXNldF9waXhlbAABDWNvcm5lcl9maXhpbmcABANtZW0CAAqyBgUNACAAIAJsIAFqLQAACw8AIAAgAmwgAWogAzoAAAvuAwESf0EAIRFBASEDA0BBASEEA0AgACAEIANBAWsQAEEBcSEFIAAgBEEBaiADQQFrEABBAXEhBiAAIARBAWogAxAAQQFxIQcgACAEQQFqIANBAWoQAEEBcSEIIAAgBCADQQFqEABBAXEhCSAAIARBAWsgA0EBahAAQQFxIQogACAEQQFrIAMQAEEBcSELIAAgBEEBayADQQFrEABBAXEhDCAFRSAGQQFGcSAGRSAHQQFGcWogB0UgCEEBRnFqIAhFIAlBAUZxaiAJRSAKQQFGcWogCkUgC0EBRnFqIAtFIAxBAUZxaiAMRSAFQQFGcWohDSAFIAZqIAcgCGpqIAkgCmpqIAsgDGpqIQ4gAkUEQCAFIAdsIAlsIQ8gByAJbCALbCEQBSAFIAdsIAtsIQ8gBSAJbCALbCEQCyANQQFGQQEgDklxIA5BB0lxIA9FcSAQRXEEQCAAIAQgAyAAIAQgAxAAQQJyEAELIARBAWohBCAEIABBAWtJDQALIANBAWohAyADIAFBAWtJDQALQQAhAwNAQQAhBANAIAAgBCADEAAhEyATQQF2IRIgE0EBcSEUIBQgEkVxIRMgACAEIAMgExABIBMgFEcEQEEBIRELIARBAWohBCAEIABJDQALIANBAWohAyADIAFJDQALIBELLAEBf0EBIQIDQCACIAAgAUEAEAJxIQIgAiAAIAFBARACcSECIAJBAUYNAAsL9AEBC39BAiECA0BBAiEDA0AgACACIAMQACEHIAdBAEUEQEEAIQYDQCAGQQJxIQQgBARAQX8hBAVBASEECyAGQQFxIQUgBQRAQX8hBQVBASEFCyAAIAIgAyAEahAAIQggACACIAMgBEECbGoQACEJIAAgAiAFaiADEAAhCiAAIAIgBUECbGogAxAAIQsgCCAJcSEMIAwgCnEhDCAMIAtxIQwgDARAIAAgAiADQQEQASAAIAIgBWsgAyAEa0EAEAELIAZBAWohBiAGQQRIDQALCyADQQFqIQMgAyABQQJrSQ0AGgsgAkEBaiECIAIgAEECa0kNAAsL",pA=async(t={},e)=>{let n;if(e.startsWith("data:")){const r=e.replace(/^data:.*?base64,/,"");let i;if(typeof Buffer=="function"&&typeof Buffer.from=="function")i=Buffer.from(r,"base64");else if(typeof atob=="function"){const s=atob(r);i=new Uint8Array(s.length);for(let u=0;u<s.length;u++)i[u]=s.charCodeAt(u)}else throw new Error("Cannot decode base64-encoded data URL");n=await WebAssembly.instantiate(i,t)}else{const r=await fetch(e),i=r.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&i.startsWith("application/wasm"))n=await WebAssembly.instantiateStreaming(r,t);else{const s=await r.arrayBuffer();n=await WebAssembly.instantiate(s,t)}}return n.instance.exports};URL=globalThis.URL;const Ji=await pA({},dA);Ji.thinning_zs_iteration;const vA=Ji.thinning_zs,gA=Ji.get_pixel,mA=Ji.set_pixel,_A=Ji.corner_fixing;Ji.mem;function yA(t,e,n){const r=[];for(let i=0;i<n;i++){r.push([]);for(let s=0;s<e;s++){r[i].push([]);for(let u=0;u<4;u++)r[i][s].push(t[i*e*4+s*4+u])}}return r}function bA(t){return t.map(e=>e.map(n=>+(n.reduce((r,i)=>r+i)/4>127)))}function Gg(t){return t.map(e=>e.map(n=>+!n))}async function xA(t){const[e,n]=[t[0].length,t.length];return t.forEach((r,i)=>r.forEach((s,u)=>mA(e,u,i,s))),await vA(e,n),await _A(e,n),t.map((r,i)=>r.map((s,u)=>gA(e,u,i)))}async function Lg(t,e,n){let r=0;for(;;){for(let i=0;i<=r;i++){let s=r-i;for(const u of[[1,1],[-1,1],[1,-1],[-1,-1]])if(t[n+s*u[1]][e+i*u[0]]==0)return[e+i*u[0],n+s*u[1]]}r++}}async function wA(t,e,n){const r=yA(t,e,n),i=Gg(bA(r));return Gg(await xA(i))}function jc(t){return UP()?($P(t),!0):!1}function Wc(t){return typeof t=="function"?t():In(t)}const SA=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const EA=t=>t!=null,DA=Object.prototype.toString,AA=t=>DA.call(t)==="[object Object]",Ua=(t,e,n)=>Math.min(n,Math.max(e,t)),CA=()=>{};function MA(t){return t||M_()}function RA(t,e=!0,n){MA()?C_(t,n):e?t():VP(t)}function Ki(t){var e;const n=Wc(t);return(e=n==null?void 0:n.$el)!=null?e:n}const Yc=SA?window:void 0;function Fg(...t){let e,n,r,i;if(typeof t[0]=="string"||Array.isArray(t[0])?([n,r,i]=t,e=Yc):[e,n,r,i]=t,!e)return CA;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],u=()=>{s.forEach(d=>d()),s.length=0},l=(d,p,v,g)=>(d.addEventListener(p,v,g),()=>d.removeEventListener(p,v,g)),c=Is(()=>[Ki(e),Wc(i)],([d,p])=>{if(u(),!d)return;const v=AA(p)?{...p}:p;s.push(...n.flatMap(g=>r.map(m=>l(d,g,m,v))))},{immediate:!0,flush:"post"}),f=()=>{c(),u()};return jc(f),f}function OA(){const t=Qt(!1),e=M_();return e&&C_(()=>{t.value=!0},e),t}function zg(t){const e=OA();return lh(()=>(e.value,!!t()))}function TA(t,e,n={}){const{window:r=Yc,...i}=n;let s;const u=zg(()=>r&&"MutationObserver"in r),l=()=>{s&&(s.disconnect(),s=void 0)},c=lh(()=>{const v=Wc(t),g=(Array.isArray(v)?v:[v]).map(Ki).filter(EA);return new Set(g)}),f=Is(()=>c.value,v=>{l(),u.value&&r&&v.size&&(s=new MutationObserver(e),v.forEach(g=>s.observe(g,i)))},{immediate:!0,flush:"post"}),d=()=>s==null?void 0:s.takeRecords(),p=()=>{l(),f()};return jc(p),{isSupported:u,stop:p,takeRecords:d}}function IA(t,e,n={}){const{window:r=Yc,...i}=n;let s;const u=zg(()=>r&&"ResizeObserver"in r),l=()=>{s&&(s.disconnect(),s=void 0)},c=lh(()=>Array.isArray(t)?t.map(p=>Ki(p)):[Ki(t)]),f=Is(c,p=>{if(l(),u.value&&r){s=new ResizeObserver(e);for(const v of p)v&&s.observe(v,i)}},{immediate:!0,flush:"post"}),d=()=>{l(),f()};return jc(d),{isSupported:u,stop:d}}function PA(t,e={}){const{reset:n=!0,windowResize:r=!0,windowScroll:i=!0,immediate:s=!0}=e,u=Qt(0),l=Qt(0),c=Qt(0),f=Qt(0),d=Qt(0),p=Qt(0),v=Qt(0),g=Qt(0);function m(){const _=Ki(t);if(!_){n&&(u.value=0,l.value=0,c.value=0,f.value=0,d.value=0,p.value=0,v.value=0,g.value=0);return}const b=_.getBoundingClientRect();u.value=b.height,l.value=b.bottom,c.value=b.left,f.value=b.right,d.value=b.top,p.value=b.width,v.value=b.x,g.value=b.y}return IA(t,m),Is(()=>Ki(t),_=>!_&&m()),TA(t,m,{attributeFilter:["style","class"]}),i&&Fg("scroll",m,{capture:!0,passive:!0}),r&&Fg("resize",m,{passive:!0}),RA(()=>{s&&m()}),{height:u,bottom:l,left:c,right:f,top:d,width:p,x:v,y:g,update:m}}var os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ng={},$a={},Qa={exports:{}};Qa.exports,function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",p=1,v=2,g=4,m=1,_=2,b=1,x=2,w=4,E=8,D=16,M=32,A=64,T=128,O=256,I=512,k=30,N="...",z=800,G=16,Y=1,X=2,K=3,tt=1/0,U=9007199254740991,rt=17976931348623157e292,nt=0/0,H=4294967295,ut=H-1,ft=H>>>1,at=[["ary",T],["bind",b],["bindKey",x],["curry",E],["curryRight",D],["flip",I],["partial",M],["partialRight",A],["rearg",O]],lt="[object Arguments]",ot="[object Array]",dt="[object AsyncFunction]",gt="[object Boolean]",Dt="[object Date]",jt="[object DOMException]",st="[object Error]",vt="[object Function]",Ut="[object GeneratorFunction]",yt="[object Map]",Et="[object Number]",Bt="[object Null]",zt="[object Object]",Zt="[object Promise]",Pt="[object Proxy]",Wt="[object RegExp]",Jt="[object Set]",_e="[object String]",ye="[object Symbol]",ve="[object Undefined]",ue="[object WeakMap]",Qn="[object WeakSet]",rn="[object ArrayBuffer]",cr="[object DataView]",to="[object Float32Array]",us="[object Float64Array]",Gr="[object Int8Array]",ci="[object Int16Array]",ls="[object Int32Array]",eo="[object Uint8Array]",fi="[object Uint8ClampedArray]",cs="[object Uint16Array]",fs="[object Uint32Array]",qc=/\b__p \+= '';/g,hs=/\b(__p \+=) '' \+/g,re=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Te=/&(?:amp|lt|gt|quot|#39);/g,ds=/[&<>"']/g,eu=RegExp(Te.source),Hc=RegExp(ds.source),ps=/<%-([\s\S]+?)%>/g,yC=/<%([\s\S]+?)%>/g,Kg=/<%=([\s\S]+?)%>/g,bC=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xC=/^\w*$/,wC=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vc=/[\\^$.*+?()[\]{}|]/g,SC=RegExp(Vc.source),Uc=/^\s+/,EC=/\s/,DC=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,AC=/\{\n\/\* \[wrapped with (.+)\] \*/,CC=/,? & /,MC=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,RC=/[()=,{}\[\]\/\s]/,OC=/\\(\\)?/g,TC=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,t0=/\w*$/,IC=/^[-+]0x[0-9a-f]+$/i,PC=/^0b[01]+$/i,kC=/^\[object .+?Constructor\]$/,BC=/^0o[0-7]+$/i,GC=/^(?:0|[1-9]\d*)$/,LC=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,nu=/($^)/,FC=/['\n\r\u2028\u2029\\]/g,ru="\uD800-\uDFFF",zC="\\u0300-\\u036f",NC="\\ufe20-\\ufe2f",jC="\\u20d0-\\u20ff",e0=zC+NC+jC,n0="\\u2700-\\u27bf",r0="a-z\\xdf-\\xf6\\xf8-\\xff",WC="\\xac\\xb1\\xd7\\xf7",YC="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",XC="\\u2000-\\u206f",qC=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i0="A-Z\\xc0-\\xd6\\xd8-\\xde",o0="\\ufe0e\\ufe0f",s0=WC+YC+XC+qC,$c="['\u2019]",HC="["+ru+"]",a0="["+s0+"]",iu="["+e0+"]",u0="\\d+",VC="["+n0+"]",l0="["+r0+"]",c0="[^"+ru+s0+u0+n0+r0+i0+"]",Qc="\uD83C[\uDFFB-\uDFFF]",UC="(?:"+iu+"|"+Qc+")",f0="[^"+ru+"]",Zc="(?:\uD83C[\uDDE6-\uDDFF]){2}",Jc="[\uD800-\uDBFF][\uDC00-\uDFFF]",no="["+i0+"]",h0="\\u200d",d0="(?:"+l0+"|"+c0+")",$C="(?:"+no+"|"+c0+")",p0="(?:"+$c+"(?:d|ll|m|re|s|t|ve))?",v0="(?:"+$c+"(?:D|LL|M|RE|S|T|VE))?",g0=UC+"?",m0="["+o0+"]?",QC="(?:"+h0+"(?:"+[f0,Zc,Jc].join("|")+")"+m0+g0+")*",ZC="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",JC="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_0=m0+g0+QC,KC="(?:"+[VC,Zc,Jc].join("|")+")"+_0,tM="(?:"+[f0+iu+"?",iu,Zc,Jc,HC].join("|")+")",eM=RegExp($c,"g"),nM=RegExp(iu,"g"),Kc=RegExp(Qc+"(?="+Qc+")|"+tM+_0,"g"),rM=RegExp([no+"?"+l0+"+"+p0+"(?="+[a0,no,"$"].join("|")+")",$C+"+"+v0+"(?="+[a0,no+d0,"$"].join("|")+")",no+"?"+d0+"+"+p0,no+"+"+v0,JC,ZC,u0,KC].join("|"),"g"),iM=RegExp("["+h0+ru+e0+o0+"]"),oM=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sM=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],aM=-1,le={};le[to]=le[us]=le[Gr]=le[ci]=le[ls]=le[eo]=le[fi]=le[cs]=le[fs]=!0,le[lt]=le[ot]=le[rn]=le[gt]=le[cr]=le[Dt]=le[st]=le[vt]=le[yt]=le[Et]=le[zt]=le[Wt]=le[Jt]=le[_e]=le[ue]=!1;var oe={};oe[lt]=oe[ot]=oe[rn]=oe[cr]=oe[gt]=oe[Dt]=oe[to]=oe[us]=oe[Gr]=oe[ci]=oe[ls]=oe[yt]=oe[Et]=oe[zt]=oe[Wt]=oe[Jt]=oe[_e]=oe[ye]=oe[eo]=oe[fi]=oe[cs]=oe[fs]=!0,oe[st]=oe[vt]=oe[ue]=!1;var uM={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},lM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},cM={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fM={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hM=parseFloat,dM=parseInt,y0=typeof os=="object"&&os&&os.Object===Object&&os,pM=typeof self=="object"&&self&&self.Object===Object&&self,Ge=y0||pM||Function("return this")(),tf=e&&!e.nodeType&&e,hi=tf&&!0&&t&&!t.nodeType&&t,b0=hi&&hi.exports===tf,ef=b0&&y0.process,En=function(){try{var j=hi&&hi.require&&hi.require("util").types;return j||ef&&ef.binding&&ef.binding("util")}catch{}}(),x0=En&&En.isArrayBuffer,w0=En&&En.isDate,S0=En&&En.isMap,E0=En&&En.isRegExp,D0=En&&En.isSet,A0=En&&En.isTypedArray;function fn(j,V,q){switch(q.length){case 0:return j.call(V);case 1:return j.call(V,q[0]);case 2:return j.call(V,q[0],q[1]);case 3:return j.call(V,q[0],q[1],q[2])}return j.apply(V,q)}function vM(j,V,q,pt){for(var Rt=-1,$t=j==null?0:j.length;++Rt<$t;){var Me=j[Rt];V(pt,Me,q(Me),j)}return pt}function Dn(j,V){for(var q=-1,pt=j==null?0:j.length;++q<pt&&V(j[q],q,j)!==!1;);return j}function gM(j,V){for(var q=j==null?0:j.length;q--&&V(j[q],q,j)!==!1;);return j}function C0(j,V){for(var q=-1,pt=j==null?0:j.length;++q<pt;)if(!V(j[q],q,j))return!1;return!0}function Lr(j,V){for(var q=-1,pt=j==null?0:j.length,Rt=0,$t=[];++q<pt;){var Me=j[q];V(Me,q,j)&&($t[Rt++]=Me)}return $t}function ou(j,V){var q=j==null?0:j.length;return!!q&&ro(j,V,0)>-1}function nf(j,V,q){for(var pt=-1,Rt=j==null?0:j.length;++pt<Rt;)if(q(V,j[pt]))return!0;return!1}function fe(j,V){for(var q=-1,pt=j==null?0:j.length,Rt=Array(pt);++q<pt;)Rt[q]=V(j[q],q,j);return Rt}function Fr(j,V){for(var q=-1,pt=V.length,Rt=j.length;++q<pt;)j[Rt+q]=V[q];return j}function rf(j,V,q,pt){var Rt=-1,$t=j==null?0:j.length;for(pt&&$t&&(q=j[++Rt]);++Rt<$t;)q=V(q,j[Rt],Rt,j);return q}function mM(j,V,q,pt){var Rt=j==null?0:j.length;for(pt&&Rt&&(q=j[--Rt]);Rt--;)q=V(q,j[Rt],Rt,j);return q}function of(j,V){for(var q=-1,pt=j==null?0:j.length;++q<pt;)if(V(j[q],q,j))return!0;return!1}var _M=sf("length");function yM(j){return j.split("")}function bM(j){return j.match(MC)||[]}function M0(j,V,q){var pt;return q(j,function(Rt,$t,Me){if(V(Rt,$t,Me))return pt=$t,!1}),pt}function su(j,V,q,pt){for(var Rt=j.length,$t=q+(pt?1:-1);pt?$t--:++$t<Rt;)if(V(j[$t],$t,j))return $t;return-1}function ro(j,V,q){return V===V?IM(j,V,q):su(j,R0,q)}function xM(j,V,q,pt){for(var Rt=q-1,$t=j.length;++Rt<$t;)if(pt(j[Rt],V))return Rt;return-1}function R0(j){return j!==j}function O0(j,V){var q=j==null?0:j.length;return q?uf(j,V)/q:nt}function sf(j){return function(V){return V==null?n:V[j]}}function af(j){return function(V){return j==null?n:j[V]}}function T0(j,V,q,pt,Rt){return Rt(j,function($t,Me,ie){q=pt?(pt=!1,$t):V(q,$t,Me,ie)}),q}function wM(j,V){var q=j.length;for(j.sort(V);q--;)j[q]=j[q].value;return j}function uf(j,V){for(var q,pt=-1,Rt=j.length;++pt<Rt;){var $t=V(j[pt]);$t!==n&&(q=q===n?$t:q+$t)}return q}function lf(j,V){for(var q=-1,pt=Array(j);++q<j;)pt[q]=V(q);return pt}function SM(j,V){return fe(V,function(q){return[q,j[q]]})}function I0(j){return j&&j.slice(0,G0(j)+1).replace(Uc,"")}function hn(j){return function(V){return j(V)}}function cf(j,V){return fe(V,function(q){return j[q]})}function vs(j,V){return j.has(V)}function P0(j,V){for(var q=-1,pt=j.length;++q<pt&&ro(V,j[q],0)>-1;);return q}function k0(j,V){for(var q=j.length;q--&&ro(V,j[q],0)>-1;);return q}function EM(j,V){for(var q=j.length,pt=0;q--;)j[q]===V&&++pt;return pt}var DM=af(uM),AM=af(lM);function CM(j){return"\\"+fM[j]}function MM(j,V){return j==null?n:j[V]}function io(j){return iM.test(j)}function RM(j){return oM.test(j)}function OM(j){for(var V,q=[];!(V=j.next()).done;)q.push(V.value);return q}function ff(j){var V=-1,q=Array(j.size);return j.forEach(function(pt,Rt){q[++V]=[Rt,pt]}),q}function B0(j,V){return function(q){return j(V(q))}}function zr(j,V){for(var q=-1,pt=j.length,Rt=0,$t=[];++q<pt;){var Me=j[q];(Me===V||Me===d)&&(j[q]=d,$t[Rt++]=q)}return $t}function au(j){var V=-1,q=Array(j.size);return j.forEach(function(pt){q[++V]=pt}),q}function TM(j){var V=-1,q=Array(j.size);return j.forEach(function(pt){q[++V]=[pt,pt]}),q}function IM(j,V,q){for(var pt=q-1,Rt=j.length;++pt<Rt;)if(j[pt]===V)return pt;return-1}function PM(j,V,q){for(var pt=q+1;pt--;)if(j[pt]===V)return pt;return pt}function oo(j){return io(j)?BM(j):_M(j)}function zn(j){return io(j)?GM(j):yM(j)}function G0(j){for(var V=j.length;V--&&EC.test(j.charAt(V)););return V}var kM=af(cM);function BM(j){for(var V=Kc.lastIndex=0;Kc.test(j);)++V;return V}function GM(j){return j.match(Kc)||[]}function LM(j){return j.match(rM)||[]}var FM=function j(V){V=V==null?Ge:so.defaults(Ge.Object(),V,so.pick(Ge,sM));var q=V.Array,pt=V.Date,Rt=V.Error,$t=V.Function,Me=V.Math,ie=V.Object,hf=V.RegExp,zM=V.String,An=V.TypeError,uu=q.prototype,NM=$t.prototype,ao=ie.prototype,lu=V["__core-js_shared__"],cu=NM.toString,te=ao.hasOwnProperty,jM=0,L0=function(){var o=/[^.]+$/.exec(lu&&lu.keys&&lu.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),fu=ao.toString,WM=cu.call(ie),YM=Ge._,XM=hf("^"+cu.call(te).replace(Vc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),hu=b0?V.Buffer:n,Nr=V.Symbol,du=V.Uint8Array,F0=hu?hu.allocUnsafe:n,pu=B0(ie.getPrototypeOf,ie),z0=ie.create,N0=ao.propertyIsEnumerable,vu=uu.splice,j0=Nr?Nr.isConcatSpreadable:n,gs=Nr?Nr.iterator:n,di=Nr?Nr.toStringTag:n,gu=function(){try{var o=_i(ie,"defineProperty");return o({},"",{}),o}catch{}}(),qM=V.clearTimeout!==Ge.clearTimeout&&V.clearTimeout,HM=pt&&pt.now!==Ge.Date.now&&pt.now,VM=V.setTimeout!==Ge.setTimeout&&V.setTimeout,mu=Me.ceil,_u=Me.floor,df=ie.getOwnPropertySymbols,UM=hu?hu.isBuffer:n,W0=V.isFinite,$M=uu.join,QM=B0(ie.keys,ie),Re=Me.max,Ye=Me.min,ZM=pt.now,JM=V.parseInt,Y0=Me.random,KM=uu.reverse,pf=_i(V,"DataView"),ms=_i(V,"Map"),vf=_i(V,"Promise"),uo=_i(V,"Set"),_s=_i(V,"WeakMap"),ys=_i(ie,"create"),yu=_s&&new _s,lo={},tR=yi(pf),eR=yi(ms),nR=yi(vf),rR=yi(uo),iR=yi(_s),bu=Nr?Nr.prototype:n,bs=bu?bu.valueOf:n,X0=bu?bu.toString:n;function C(o){if(ge(o)&&!Tt(o)&&!(o instanceof Yt)){if(o instanceof Cn)return o;if(te.call(o,"__wrapped__"))return qm(o)}return new Cn(o)}var co=function(){function o(){}return function(a){if(!de(a))return{};if(z0)return z0(a);o.prototype=a;var h=new o;return o.prototype=n,h}}();function xu(){}function Cn(o,a){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=n}C.templateSettings={escape:ps,evaluate:yC,interpolate:Kg,variable:"",imports:{_:C}},C.prototype=xu.prototype,C.prototype.constructor=C,Cn.prototype=co(xu.prototype),Cn.prototype.constructor=Cn;function Yt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=H,this.__views__=[]}function oR(){var o=new Yt(this.__wrapped__);return o.__actions__=on(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=on(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=on(this.__views__),o}function sR(){if(this.__filtered__){var o=new Yt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function aR(){var o=this.__wrapped__.value(),a=this.__dir__,h=Tt(o),y=a<0,S=h?o.length:0,R=yO(0,S,this.__views__),P=R.start,L=R.end,W=L-P,$=y?L:P-1,Q=this.__iteratees__,et=Q.length,ct=0,mt=Ye(W,this.__takeCount__);if(!h||!y&&S==W&&mt==W)return pm(o,this.__actions__);var wt=[];t:for(;W--&&ct<mt;){$+=a;for(var Gt=-1,St=o[$];++Gt<et;){var Nt=Q[Gt],Xt=Nt.iteratee,vn=Nt.type,Ze=Xt(St);if(vn==X)St=Ze;else if(!Ze){if(vn==Y)continue t;break t}}wt[ct++]=St}return wt}Yt.prototype=co(xu.prototype),Yt.prototype.constructor=Yt;function pi(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var y=o[a];this.set(y[0],y[1])}}function uR(){this.__data__=ys?ys(null):{},this.size=0}function lR(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}function cR(o){var a=this.__data__;if(ys){var h=a[o];return h===c?n:h}return te.call(a,o)?a[o]:n}function fR(o){var a=this.__data__;return ys?a[o]!==n:te.call(a,o)}function hR(o,a){var h=this.__data__;return this.size+=this.has(o)?0:1,h[o]=ys&&a===n?c:a,this}pi.prototype.clear=uR,pi.prototype.delete=lR,pi.prototype.get=cR,pi.prototype.has=fR,pi.prototype.set=hR;function fr(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var y=o[a];this.set(y[0],y[1])}}function dR(){this.__data__=[],this.size=0}function pR(o){var a=this.__data__,h=wu(a,o);if(h<0)return!1;var y=a.length-1;return h==y?a.pop():vu.call(a,h,1),--this.size,!0}function vR(o){var a=this.__data__,h=wu(a,o);return h<0?n:a[h][1]}function gR(o){return wu(this.__data__,o)>-1}function mR(o,a){var h=this.__data__,y=wu(h,o);return y<0?(++this.size,h.push([o,a])):h[y][1]=a,this}fr.prototype.clear=dR,fr.prototype.delete=pR,fr.prototype.get=vR,fr.prototype.has=gR,fr.prototype.set=mR;function hr(o){var a=-1,h=o==null?0:o.length;for(this.clear();++a<h;){var y=o[a];this.set(y[0],y[1])}}function _R(){this.size=0,this.__data__={hash:new pi,map:new(ms||fr),string:new pi}}function yR(o){var a=ku(this,o).delete(o);return this.size-=a?1:0,a}function bR(o){return ku(this,o).get(o)}function xR(o){return ku(this,o).has(o)}function wR(o,a){var h=ku(this,o),y=h.size;return h.set(o,a),this.size+=h.size==y?0:1,this}hr.prototype.clear=_R,hr.prototype.delete=yR,hr.prototype.get=bR,hr.prototype.has=xR,hr.prototype.set=wR;function vi(o){var a=-1,h=o==null?0:o.length;for(this.__data__=new hr;++a<h;)this.add(o[a])}function SR(o){return this.__data__.set(o,c),this}function ER(o){return this.__data__.has(o)}vi.prototype.add=vi.prototype.push=SR,vi.prototype.has=ER;function Nn(o){var a=this.__data__=new fr(o);this.size=a.size}function DR(){this.__data__=new fr,this.size=0}function AR(o){var a=this.__data__,h=a.delete(o);return this.size=a.size,h}function CR(o){return this.__data__.get(o)}function MR(o){return this.__data__.has(o)}function RR(o,a){var h=this.__data__;if(h instanceof fr){var y=h.__data__;if(!ms||y.length<i-1)return y.push([o,a]),this.size=++h.size,this;h=this.__data__=new hr(y)}return h.set(o,a),this.size=h.size,this}Nn.prototype.clear=DR,Nn.prototype.delete=AR,Nn.prototype.get=CR,Nn.prototype.has=MR,Nn.prototype.set=RR;function q0(o,a){var h=Tt(o),y=!h&&bi(o),S=!h&&!y&&qr(o),R=!h&&!y&&!S&&vo(o),P=h||y||S||R,L=P?lf(o.length,zM):[],W=L.length;for(var $ in o)(a||te.call(o,$))&&!(P&&($=="length"||S&&($=="offset"||$=="parent")||R&&($=="buffer"||$=="byteLength"||$=="byteOffset")||gr($,W)))&&L.push($);return L}function H0(o){var a=o.length;return a?o[Af(0,a-1)]:n}function OR(o,a){return Bu(on(o),gi(a,0,o.length))}function TR(o){return Bu(on(o))}function gf(o,a,h){(h!==n&&!jn(o[a],h)||h===n&&!(a in o))&&dr(o,a,h)}function xs(o,a,h){var y=o[a];(!(te.call(o,a)&&jn(y,h))||h===n&&!(a in o))&&dr(o,a,h)}function wu(o,a){for(var h=o.length;h--;)if(jn(o[h][0],a))return h;return-1}function IR(o,a,h,y){return jr(o,function(S,R,P){a(y,S,h(S),P)}),y}function V0(o,a){return o&&Jn(a,Ie(a),o)}function PR(o,a){return o&&Jn(a,an(a),o)}function dr(o,a,h){a=="__proto__"&&gu?gu(o,a,{configurable:!0,enumerable:!0,value:h,writable:!0}):o[a]=h}function mf(o,a){for(var h=-1,y=a.length,S=q(y),R=o==null;++h<y;)S[h]=R?n:Zf(o,a[h]);return S}function gi(o,a,h){return o===o&&(h!==n&&(o=o<=h?o:h),a!==n&&(o=o>=a?o:a)),o}function Mn(o,a,h,y,S,R){var P,L=a&p,W=a&v,$=a&g;if(h&&(P=S?h(o,y,S,R):h(o)),P!==n)return P;if(!de(o))return o;var Q=Tt(o);if(Q){if(P=xO(o),!L)return on(o,P)}else{var et=Xe(o),ct=et==vt||et==Ut;if(qr(o))return mm(o,L);if(et==zt||et==lt||ct&&!S){if(P=W||ct?{}:Gm(o),!L)return W?cO(o,PR(P,o)):lO(o,V0(P,o))}else{if(!oe[et])return S?o:{};P=wO(o,et,L)}}R||(R=new Nn);var mt=R.get(o);if(mt)return mt;R.set(o,P),f_(o)?o.forEach(function(St){P.add(Mn(St,a,h,St,o,R))}):l_(o)&&o.forEach(function(St,Nt){P.set(Nt,Mn(St,a,h,Nt,o,R))});var wt=$?W?Lf:Gf:W?an:Ie,Gt=Q?n:wt(o);return Dn(Gt||o,function(St,Nt){Gt&&(Nt=St,St=o[Nt]),xs(P,Nt,Mn(St,a,h,Nt,o,R))}),P}function kR(o){var a=Ie(o);return function(h){return U0(h,o,a)}}function U0(o,a,h){var y=h.length;if(o==null)return!y;for(o=ie(o);y--;){var S=h[y],R=a[S],P=o[S];if(P===n&&!(S in o)||!R(P))return!1}return!0}function $0(o,a,h){if(typeof o!="function")throw new An(u);return Ms(function(){o.apply(n,h)},a)}function ws(o,a,h,y){var S=-1,R=ou,P=!0,L=o.length,W=[],$=a.length;if(!L)return W;h&&(a=fe(a,hn(h))),y?(R=nf,P=!1):a.length>=i&&(R=vs,P=!1,a=new vi(a));t:for(;++S<L;){var Q=o[S],et=h==null?Q:h(Q);if(Q=y||Q!==0?Q:0,P&&et===et){for(var ct=$;ct--;)if(a[ct]===et)continue t;W.push(Q)}else R(a,et,y)||W.push(Q)}return W}var jr=wm(Zn),Q0=wm(yf,!0);function BR(o,a){var h=!0;return jr(o,function(y,S,R){return h=!!a(y,S,R),h}),h}function Su(o,a,h){for(var y=-1,S=o.length;++y<S;){var R=o[y],P=a(R);if(P!=null&&(L===n?P===P&&!pn(P):h(P,L)))var L=P,W=R}return W}function GR(o,a,h,y){var S=o.length;for(h=kt(h),h<0&&(h=-h>S?0:S+h),y=y===n||y>S?S:kt(y),y<0&&(y+=S),y=h>y?0:d_(y);h<y;)o[h++]=a;return o}function Z0(o,a){var h=[];return jr(o,function(y,S,R){a(y,S,R)&&h.push(y)}),h}function Le(o,a,h,y,S){var R=-1,P=o.length;for(h||(h=EO),S||(S=[]);++R<P;){var L=o[R];a>0&&h(L)?a>1?Le(L,a-1,h,y,S):Fr(S,L):y||(S[S.length]=L)}return S}var _f=Sm(),J0=Sm(!0);function Zn(o,a){return o&&_f(o,a,Ie)}function yf(o,a){return o&&J0(o,a,Ie)}function Eu(o,a){return Lr(a,function(h){return mr(o[h])})}function mi(o,a){a=Yr(a,o);for(var h=0,y=a.length;o!=null&&h<y;)o=o[Kn(a[h++])];return h&&h==y?o:n}function K0(o,a,h){var y=a(o);return Tt(o)?y:Fr(y,h(o))}function $e(o){return o==null?o===n?ve:Bt:di&&di in ie(o)?_O(o):TO(o)}function bf(o,a){return o>a}function LR(o,a){return o!=null&&te.call(o,a)}function FR(o,a){return o!=null&&a in ie(o)}function zR(o,a,h){return o>=Ye(a,h)&&o<Re(a,h)}function xf(o,a,h){for(var y=h?nf:ou,S=o[0].length,R=o.length,P=R,L=q(R),W=1/0,$=[];P--;){var Q=o[P];P&&a&&(Q=fe(Q,hn(a))),W=Ye(Q.length,W),L[P]=!h&&(a||S>=120&&Q.length>=120)?new vi(P&&Q):n}Q=o[0];var et=-1,ct=L[0];t:for(;++et<S&&$.length<W;){var mt=Q[et],wt=a?a(mt):mt;if(mt=h||mt!==0?mt:0,!(ct?vs(ct,wt):y($,wt,h))){for(P=R;--P;){var Gt=L[P];if(!(Gt?vs(Gt,wt):y(o[P],wt,h)))continue t}ct&&ct.push(wt),$.push(mt)}}return $}function NR(o,a,h,y){return Zn(o,function(S,R,P){a(y,h(S),R,P)}),y}function Ss(o,a,h){a=Yr(a,o),o=Nm(o,a);var y=o==null?o:o[Kn(On(a))];return y==null?n:fn(y,o,h)}function tm(o){return ge(o)&&$e(o)==lt}function jR(o){return ge(o)&&$e(o)==rn}function WR(o){return ge(o)&&$e(o)==Dt}function Es(o,a,h,y,S){return o===a?!0:o==null||a==null||!ge(o)&&!ge(a)?o!==o&&a!==a:YR(o,a,h,y,Es,S)}function YR(o,a,h,y,S,R){var P=Tt(o),L=Tt(a),W=P?ot:Xe(o),$=L?ot:Xe(a);W=W==lt?zt:W,$=$==lt?zt:$;var Q=W==zt,et=$==zt,ct=W==$;if(ct&&qr(o)){if(!qr(a))return!1;P=!0,Q=!1}if(ct&&!Q)return R||(R=new Nn),P||vo(o)?Pm(o,a,h,y,S,R):gO(o,a,W,h,y,S,R);if(!(h&m)){var mt=Q&&te.call(o,"__wrapped__"),wt=et&&te.call(a,"__wrapped__");if(mt||wt){var Gt=mt?o.value():o,St=wt?a.value():a;return R||(R=new Nn),S(Gt,St,h,y,R)}}return ct?(R||(R=new Nn),mO(o,a,h,y,S,R)):!1}function XR(o){return ge(o)&&Xe(o)==yt}function wf(o,a,h,y){var S=h.length,R=S,P=!y;if(o==null)return!R;for(o=ie(o);S--;){var L=h[S];if(P&&L[2]?L[1]!==o[L[0]]:!(L[0]in o))return!1}for(;++S<R;){L=h[S];var W=L[0],$=o[W],Q=L[1];if(P&&L[2]){if($===n&&!(W in o))return!1}else{var et=new Nn;if(y)var ct=y($,Q,W,o,a,et);if(!(ct===n?Es(Q,$,m|_,y,et):ct))return!1}}return!0}function em(o){if(!de(o)||AO(o))return!1;var a=mr(o)?XM:kC;return a.test(yi(o))}function qR(o){return ge(o)&&$e(o)==Wt}function HR(o){return ge(o)&&Xe(o)==Jt}function VR(o){return ge(o)&&ju(o.length)&&!!le[$e(o)]}function nm(o){return typeof o=="function"?o:o==null?un:typeof o=="object"?Tt(o)?om(o[0],o[1]):im(o):E_(o)}function Sf(o){if(!Cs(o))return QM(o);var a=[];for(var h in ie(o))te.call(o,h)&&h!="constructor"&&a.push(h);return a}function UR(o){if(!de(o))return OO(o);var a=Cs(o),h=[];for(var y in o)y=="constructor"&&(a||!te.call(o,y))||h.push(y);return h}function Ef(o,a){return o<a}function rm(o,a){var h=-1,y=sn(o)?q(o.length):[];return jr(o,function(S,R,P){y[++h]=a(S,R,P)}),y}function im(o){var a=zf(o);return a.length==1&&a[0][2]?Fm(a[0][0],a[0][1]):function(h){return h===o||wf(h,o,a)}}function om(o,a){return jf(o)&&Lm(a)?Fm(Kn(o),a):function(h){var y=Zf(h,o);return y===n&&y===a?Jf(h,o):Es(a,y,m|_)}}function Du(o,a,h,y,S){o!==a&&_f(a,function(R,P){if(S||(S=new Nn),de(R))$R(o,a,P,h,Du,y,S);else{var L=y?y(Yf(o,P),R,P+"",o,a,S):n;L===n&&(L=R),gf(o,P,L)}},an)}function $R(o,a,h,y,S,R,P){var L=Yf(o,h),W=Yf(a,h),$=P.get(W);if($){gf(o,h,$);return}var Q=R?R(L,W,h+"",o,a,P):n,et=Q===n;if(et){var ct=Tt(W),mt=!ct&&qr(W),wt=!ct&&!mt&&vo(W);Q=W,ct||mt||wt?Tt(L)?Q=L:be(L)?Q=on(L):mt?(et=!1,Q=mm(W,!0)):wt?(et=!1,Q=_m(W,!0)):Q=[]:Rs(W)||bi(W)?(Q=L,bi(L)?Q=p_(L):(!de(L)||mr(L))&&(Q=Gm(W))):et=!1}et&&(P.set(W,Q),S(Q,W,y,R,P),P.delete(W)),gf(o,h,Q)}function sm(o,a){var h=o.length;if(h)return a+=a<0?h:0,gr(a,h)?o[a]:n}function am(o,a,h){a.length?a=fe(a,function(R){return Tt(R)?function(P){return mi(P,R.length===1?R[0]:R)}:R}):a=[un];var y=-1;a=fe(a,hn(xt()));var S=rm(o,function(R,P,L){var W=fe(a,function($){return $(R)});return{criteria:W,index:++y,value:R}});return wM(S,function(R,P){return uO(R,P,h)})}function QR(o,a){return um(o,a,function(h,y){return Jf(o,y)})}function um(o,a,h){for(var y=-1,S=a.length,R={};++y<S;){var P=a[y],L=mi(o,P);h(L,P)&&Ds(R,Yr(P,o),L)}return R}function ZR(o){return function(a){return mi(a,o)}}function Df(o,a,h,y){var S=y?xM:ro,R=-1,P=a.length,L=o;for(o===a&&(a=on(a)),h&&(L=fe(o,hn(h)));++R<P;)for(var W=0,$=a[R],Q=h?h($):$;(W=S(L,Q,W,y))>-1;)L!==o&&vu.call(L,W,1),vu.call(o,W,1);return o}function lm(o,a){for(var h=o?a.length:0,y=h-1;h--;){var S=a[h];if(h==y||S!==R){var R=S;gr(S)?vu.call(o,S,1):Rf(o,S)}}return o}function Af(o,a){return o+_u(Y0()*(a-o+1))}function JR(o,a,h,y){for(var S=-1,R=Re(mu((a-o)/(h||1)),0),P=q(R);R--;)P[y?R:++S]=o,o+=h;return P}function Cf(o,a){var h="";if(!o||a<1||a>U)return h;do a%2&&(h+=o),a=_u(a/2),a&&(o+=o);while(a);return h}function Ft(o,a){return Xf(zm(o,a,un),o+"")}function KR(o){return H0(go(o))}function tO(o,a){var h=go(o);return Bu(h,gi(a,0,h.length))}function Ds(o,a,h,y){if(!de(o))return o;a=Yr(a,o);for(var S=-1,R=a.length,P=R-1,L=o;L!=null&&++S<R;){var W=Kn(a[S]),$=h;if(W==="__proto__"||W==="constructor"||W==="prototype")return o;if(S!=P){var Q=L[W];$=y?y(Q,W,L):n,$===n&&($=de(Q)?Q:gr(a[S+1])?[]:{})}xs(L,W,$),L=L[W]}return o}var cm=yu?function(o,a){return yu.set(o,a),o}:un,eO=gu?function(o,a){return gu(o,"toString",{configurable:!0,enumerable:!1,value:th(a),writable:!0})}:un;function nO(o){return Bu(go(o))}function Rn(o,a,h){var y=-1,S=o.length;a<0&&(a=-a>S?0:S+a),h=h>S?S:h,h<0&&(h+=S),S=a>h?0:h-a>>>0,a>>>=0;for(var R=q(S);++y<S;)R[y]=o[y+a];return R}function rO(o,a){var h;return jr(o,function(y,S,R){return h=a(y,S,R),!h}),!!h}function Au(o,a,h){var y=0,S=o==null?y:o.length;if(typeof a=="number"&&a===a&&S<=ft){for(;y<S;){var R=y+S>>>1,P=o[R];P!==null&&!pn(P)&&(h?P<=a:P<a)?y=R+1:S=R}return S}return Mf(o,a,un,h)}function Mf(o,a,h,y){var S=0,R=o==null?0:o.length;if(R===0)return 0;a=h(a);for(var P=a!==a,L=a===null,W=pn(a),$=a===n;S<R;){var Q=_u((S+R)/2),et=h(o[Q]),ct=et!==n,mt=et===null,wt=et===et,Gt=pn(et);if(P)var St=y||wt;else $?St=wt&&(y||ct):L?St=wt&&ct&&(y||!mt):W?St=wt&&ct&&!mt&&(y||!Gt):mt||Gt?St=!1:St=y?et<=a:et<a;St?S=Q+1:R=Q}return Ye(R,ut)}function fm(o,a){for(var h=-1,y=o.length,S=0,R=[];++h<y;){var P=o[h],L=a?a(P):P;if(!h||!jn(L,W)){var W=L;R[S++]=P===0?0:P}}return R}function hm(o){return typeof o=="number"?o:pn(o)?nt:+o}function dn(o){if(typeof o=="string")return o;if(Tt(o))return fe(o,dn)+"";if(pn(o))return X0?X0.call(o):"";var a=o+"";return a=="0"&&1/o==-tt?"-0":a}function Wr(o,a,h){var y=-1,S=ou,R=o.length,P=!0,L=[],W=L;if(h)P=!1,S=nf;else if(R>=i){var $=a?null:pO(o);if($)return au($);P=!1,S=vs,W=new vi}else W=a?[]:L;t:for(;++y<R;){var Q=o[y],et=a?a(Q):Q;if(Q=h||Q!==0?Q:0,P&&et===et){for(var ct=W.length;ct--;)if(W[ct]===et)continue t;a&&W.push(et),L.push(Q)}else S(W,et,h)||(W!==L&&W.push(et),L.push(Q))}return L}function Rf(o,a){return a=Yr(a,o),o=Nm(o,a),o==null||delete o[Kn(On(a))]}function dm(o,a,h,y){return Ds(o,a,h(mi(o,a)),y)}function Cu(o,a,h,y){for(var S=o.length,R=y?S:-1;(y?R--:++R<S)&&a(o[R],R,o););return h?Rn(o,y?0:R,y?R+1:S):Rn(o,y?R+1:0,y?S:R)}function pm(o,a){var h=o;return h instanceof Yt&&(h=h.value()),rf(a,function(y,S){return S.func.apply(S.thisArg,Fr([y],S.args))},h)}function Of(o,a,h){var y=o.length;if(y<2)return y?Wr(o[0]):[];for(var S=-1,R=q(y);++S<y;)for(var P=o[S],L=-1;++L<y;)L!=S&&(R[S]=ws(R[S]||P,o[L],a,h));return Wr(Le(R,1),a,h)}function vm(o,a,h){for(var y=-1,S=o.length,R=a.length,P={};++y<S;){var L=y<R?a[y]:n;h(P,o[y],L)}return P}function Tf(o){return be(o)?o:[]}function If(o){return typeof o=="function"?o:un}function Yr(o,a){return Tt(o)?o:jf(o,a)?[o]:Xm(Kt(o))}var iO=Ft;function Xr(o,a,h){var y=o.length;return h=h===n?y:h,!a&&h>=y?o:Rn(o,a,h)}var gm=qM||function(o){return Ge.clearTimeout(o)};function mm(o,a){if(a)return o.slice();var h=o.length,y=F0?F0(h):new o.constructor(h);return o.copy(y),y}function Pf(o){var a=new o.constructor(o.byteLength);return new du(a).set(new du(o)),a}function oO(o,a){var h=a?Pf(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.byteLength)}function sO(o){var a=new o.constructor(o.source,t0.exec(o));return a.lastIndex=o.lastIndex,a}function aO(o){return bs?ie(bs.call(o)):{}}function _m(o,a){var h=a?Pf(o.buffer):o.buffer;return new o.constructor(h,o.byteOffset,o.length)}function ym(o,a){if(o!==a){var h=o!==n,y=o===null,S=o===o,R=pn(o),P=a!==n,L=a===null,W=a===a,$=pn(a);if(!L&&!$&&!R&&o>a||R&&P&&W&&!L&&!$||y&&P&&W||!h&&W||!S)return 1;if(!y&&!R&&!$&&o<a||$&&h&&S&&!y&&!R||L&&h&&S||!P&&S||!W)return-1}return 0}function uO(o,a,h){for(var y=-1,S=o.criteria,R=a.criteria,P=S.length,L=h.length;++y<P;){var W=ym(S[y],R[y]);if(W){if(y>=L)return W;var $=h[y];return W*($=="desc"?-1:1)}}return o.index-a.index}function bm(o,a,h,y){for(var S=-1,R=o.length,P=h.length,L=-1,W=a.length,$=Re(R-P,0),Q=q(W+$),et=!y;++L<W;)Q[L]=a[L];for(;++S<P;)(et||S<R)&&(Q[h[S]]=o[S]);for(;$--;)Q[L++]=o[S++];return Q}function xm(o,a,h,y){for(var S=-1,R=o.length,P=-1,L=h.length,W=-1,$=a.length,Q=Re(R-L,0),et=q(Q+$),ct=!y;++S<Q;)et[S]=o[S];for(var mt=S;++W<$;)et[mt+W]=a[W];for(;++P<L;)(ct||S<R)&&(et[mt+h[P]]=o[S++]);return et}function on(o,a){var h=-1,y=o.length;for(a||(a=q(y));++h<y;)a[h]=o[h];return a}function Jn(o,a,h,y){var S=!h;h||(h={});for(var R=-1,P=a.length;++R<P;){var L=a[R],W=y?y(h[L],o[L],L,h,o):n;W===n&&(W=o[L]),S?dr(h,L,W):xs(h,L,W)}return h}function lO(o,a){return Jn(o,Nf(o),a)}function cO(o,a){return Jn(o,km(o),a)}function Mu(o,a){return function(h,y){var S=Tt(h)?vM:IR,R=a?a():{};return S(h,o,xt(y,2),R)}}function fo(o){return Ft(function(a,h){var y=-1,S=h.length,R=S>1?h[S-1]:n,P=S>2?h[2]:n;for(R=o.length>3&&typeof R=="function"?(S--,R):n,P&&Qe(h[0],h[1],P)&&(R=S<3?n:R,S=1),a=ie(a);++y<S;){var L=h[y];L&&o(a,L,y,R)}return a})}function wm(o,a){return function(h,y){if(h==null)return h;if(!sn(h))return o(h,y);for(var S=h.length,R=a?S:-1,P=ie(h);(a?R--:++R<S)&&y(P[R],R,P)!==!1;);return h}}function Sm(o){return function(a,h,y){for(var S=-1,R=ie(a),P=y(a),L=P.length;L--;){var W=P[o?L:++S];if(h(R[W],W,R)===!1)break}return a}}function fO(o,a,h){var y=a&b,S=As(o);function R(){var P=this&&this!==Ge&&this instanceof R?S:o;return P.apply(y?h:this,arguments)}return R}function Em(o){return function(a){a=Kt(a);var h=io(a)?zn(a):n,y=h?h[0]:a.charAt(0),S=h?Xr(h,1).join(""):a.slice(1);return y[o]()+S}}function ho(o){return function(a){return rf(w_(x_(a).replace(eM,"")),o,"")}}function As(o){return function(){var a=arguments;switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3]);case 5:return new o(a[0],a[1],a[2],a[3],a[4]);case 6:return new o(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new o(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var h=co(o.prototype),y=o.apply(h,a);return de(y)?y:h}}function hO(o,a,h){var y=As(o);function S(){for(var R=arguments.length,P=q(R),L=R,W=po(S);L--;)P[L]=arguments[L];var $=R<3&&P[0]!==W&&P[R-1]!==W?[]:zr(P,W);if(R-=$.length,R<h)return Rm(o,a,Ru,S.placeholder,n,P,$,n,n,h-R);var Q=this&&this!==Ge&&this instanceof S?y:o;return fn(Q,this,P)}return S}function Dm(o){return function(a,h,y){var S=ie(a);if(!sn(a)){var R=xt(h,3);a=Ie(a),h=function(L){return R(S[L],L,S)}}var P=o(a,h,y);return P>-1?S[R?a[P]:P]:n}}function Am(o){return vr(function(a){var h=a.length,y=h,S=Cn.prototype.thru;for(o&&a.reverse();y--;){var R=a[y];if(typeof R!="function")throw new An(u);if(S&&!P&&Pu(R)=="wrapper")var P=new Cn([],!0)}for(y=P?y:h;++y<h;){R=a[y];var L=Pu(R),W=L=="wrapper"?Ff(R):n;W&&Wf(W[0])&&W[1]==(T|E|M|O)&&!W[4].length&&W[9]==1?P=P[Pu(W[0])].apply(P,W[3]):P=R.length==1&&Wf(R)?P[L]():P.thru(R)}return function(){var $=arguments,Q=$[0];if(P&&$.length==1&&Tt(Q))return P.plant(Q).value();for(var et=0,ct=h?a[et].apply(this,$):Q;++et<h;)ct=a[et].call(this,ct);return ct}})}function Ru(o,a,h,y,S,R,P,L,W,$){var Q=a&T,et=a&b,ct=a&x,mt=a&(E|D),wt=a&I,Gt=ct?n:As(o);function St(){for(var Nt=arguments.length,Xt=q(Nt),vn=Nt;vn--;)Xt[vn]=arguments[vn];if(mt)var Ze=po(St),gn=EM(Xt,Ze);if(y&&(Xt=bm(Xt,y,S,mt)),R&&(Xt=xm(Xt,R,P,mt)),Nt-=gn,mt&&Nt<$){var xe=zr(Xt,Ze);return Rm(o,a,Ru,St.placeholder,h,Xt,xe,L,W,$-Nt)}var Wn=et?h:this,yr=ct?Wn[o]:o;return Nt=Xt.length,L?Xt=IO(Xt,L):wt&&Nt>1&&Xt.reverse(),Q&&W<Nt&&(Xt.length=W),this&&this!==Ge&&this instanceof St&&(yr=Gt||As(yr)),yr.apply(Wn,Xt)}return St}function Cm(o,a){return function(h,y){return NR(h,o,a(y),{})}}function Ou(o,a){return function(h,y){var S;if(h===n&&y===n)return a;if(h!==n&&(S=h),y!==n){if(S===n)return y;typeof h=="string"||typeof y=="string"?(h=dn(h),y=dn(y)):(h=hm(h),y=hm(y)),S=o(h,y)}return S}}function kf(o){return vr(function(a){return a=fe(a,hn(xt())),Ft(function(h){var y=this;return o(a,function(S){return fn(S,y,h)})})})}function Tu(o,a){a=a===n?" ":dn(a);var h=a.length;if(h<2)return h?Cf(a,o):a;var y=Cf(a,mu(o/oo(a)));return io(a)?Xr(zn(y),0,o).join(""):y.slice(0,o)}function dO(o,a,h,y){var S=a&b,R=As(o);function P(){for(var L=-1,W=arguments.length,$=-1,Q=y.length,et=q(Q+W),ct=this&&this!==Ge&&this instanceof P?R:o;++$<Q;)et[$]=y[$];for(;W--;)et[$++]=arguments[++L];return fn(ct,S?h:this,et)}return P}function Mm(o){return function(a,h,y){return y&&typeof y!="number"&&Qe(a,h,y)&&(h=y=n),a=_r(a),h===n?(h=a,a=0):h=_r(h),y=y===n?a<h?1:-1:_r(y),JR(a,h,y,o)}}function Iu(o){return function(a,h){return typeof a=="string"&&typeof h=="string"||(a=Tn(a),h=Tn(h)),o(a,h)}}function Rm(o,a,h,y,S,R,P,L,W,$){var Q=a&E,et=Q?P:n,ct=Q?n:P,mt=Q?R:n,wt=Q?n:R;a|=Q?M:A,a&=~(Q?A:M),a&w||(a&=~(b|x));var Gt=[o,a,S,mt,et,wt,ct,L,W,$],St=h.apply(n,Gt);return Wf(o)&&jm(St,Gt),St.placeholder=y,Wm(St,o,a)}function Bf(o){var a=Me[o];return function(h,y){if(h=Tn(h),y=y==null?0:Ye(kt(y),292),y&&W0(h)){var S=(Kt(h)+"e").split("e"),R=a(S[0]+"e"+(+S[1]+y));return S=(Kt(R)+"e").split("e"),+(S[0]+"e"+(+S[1]-y))}return a(h)}}var pO=uo&&1/au(new uo([,-0]))[1]==tt?function(o){return new uo(o)}:rh;function Om(o){return function(a){var h=Xe(a);return h==yt?ff(a):h==Jt?TM(a):SM(a,o(a))}}function pr(o,a,h,y,S,R,P,L){var W=a&x;if(!W&&typeof o!="function")throw new An(u);var $=y?y.length:0;if($||(a&=~(M|A),y=S=n),P=P===n?P:Re(kt(P),0),L=L===n?L:kt(L),$-=S?S.length:0,a&A){var Q=y,et=S;y=S=n}var ct=W?n:Ff(o),mt=[o,a,h,y,S,Q,et,R,P,L];if(ct&&RO(mt,ct),o=mt[0],a=mt[1],h=mt[2],y=mt[3],S=mt[4],L=mt[9]=mt[9]===n?W?0:o.length:Re(mt[9]-$,0),!L&&a&(E|D)&&(a&=~(E|D)),!a||a==b)var wt=fO(o,a,h);else a==E||a==D?wt=hO(o,a,L):(a==M||a==(b|M))&&!S.length?wt=dO(o,a,h,y):wt=Ru.apply(n,mt);var Gt=ct?cm:jm;return Wm(Gt(wt,mt),o,a)}function Tm(o,a,h,y){return o===n||jn(o,ao[h])&&!te.call(y,h)?a:o}function Im(o,a,h,y,S,R){return de(o)&&de(a)&&(R.set(a,o),Du(o,a,n,Im,R),R.delete(a)),o}function vO(o){return Rs(o)?n:o}function Pm(o,a,h,y,S,R){var P=h&m,L=o.length,W=a.length;if(L!=W&&!(P&&W>L))return!1;var $=R.get(o),Q=R.get(a);if($&&Q)return $==a&&Q==o;var et=-1,ct=!0,mt=h&_?new vi:n;for(R.set(o,a),R.set(a,o);++et<L;){var wt=o[et],Gt=a[et];if(y)var St=P?y(Gt,wt,et,a,o,R):y(wt,Gt,et,o,a,R);if(St!==n){if(St)continue;ct=!1;break}if(mt){if(!of(a,function(Nt,Xt){if(!vs(mt,Xt)&&(wt===Nt||S(wt,Nt,h,y,R)))return mt.push(Xt)})){ct=!1;break}}else if(!(wt===Gt||S(wt,Gt,h,y,R))){ct=!1;break}}return R.delete(o),R.delete(a),ct}function gO(o,a,h,y,S,R,P){switch(h){case cr:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case rn:return!(o.byteLength!=a.byteLength||!R(new du(o),new du(a)));case gt:case Dt:case Et:return jn(+o,+a);case st:return o.name==a.name&&o.message==a.message;case Wt:case _e:return o==a+"";case yt:var L=ff;case Jt:var W=y&m;if(L||(L=au),o.size!=a.size&&!W)return!1;var $=P.get(o);if($)return $==a;y|=_,P.set(o,a);var Q=Pm(L(o),L(a),y,S,R,P);return P.delete(o),Q;case ye:if(bs)return bs.call(o)==bs.call(a)}return!1}function mO(o,a,h,y,S,R){var P=h&m,L=Gf(o),W=L.length,$=Gf(a),Q=$.length;if(W!=Q&&!P)return!1;for(var et=W;et--;){var ct=L[et];if(!(P?ct in a:te.call(a,ct)))return!1}var mt=R.get(o),wt=R.get(a);if(mt&&wt)return mt==a&&wt==o;var Gt=!0;R.set(o,a),R.set(a,o);for(var St=P;++et<W;){ct=L[et];var Nt=o[ct],Xt=a[ct];if(y)var vn=P?y(Xt,Nt,ct,a,o,R):y(Nt,Xt,ct,o,a,R);if(!(vn===n?Nt===Xt||S(Nt,Xt,h,y,R):vn)){Gt=!1;break}St||(St=ct=="constructor")}if(Gt&&!St){var Ze=o.constructor,gn=a.constructor;Ze!=gn&&"constructor"in o&&"constructor"in a&&!(typeof Ze=="function"&&Ze instanceof Ze&&typeof gn=="function"&&gn instanceof gn)&&(Gt=!1)}return R.delete(o),R.delete(a),Gt}function vr(o){return Xf(zm(o,n,Um),o+"")}function Gf(o){return K0(o,Ie,Nf)}function Lf(o){return K0(o,an,km)}var Ff=yu?function(o){return yu.get(o)}:rh;function Pu(o){for(var a=o.name+"",h=lo[a],y=te.call(lo,a)?h.length:0;y--;){var S=h[y],R=S.func;if(R==null||R==o)return S.name}return a}function po(o){var a=te.call(C,"placeholder")?C:o;return a.placeholder}function xt(){var o=C.iteratee||eh;return o=o===eh?nm:o,arguments.length?o(arguments[0],arguments[1]):o}function ku(o,a){var h=o.__data__;return DO(a)?h[typeof a=="string"?"string":"hash"]:h.map}function zf(o){for(var a=Ie(o),h=a.length;h--;){var y=a[h],S=o[y];a[h]=[y,S,Lm(S)]}return a}function _i(o,a){var h=MM(o,a);return em(h)?h:n}function _O(o){var a=te.call(o,di),h=o[di];try{o[di]=n;var y=!0}catch{}var S=fu.call(o);return y&&(a?o[di]=h:delete o[di]),S}var Nf=df?function(o){return o==null?[]:(o=ie(o),Lr(df(o),function(a){return N0.call(o,a)}))}:ih,km=df?function(o){for(var a=[];o;)Fr(a,Nf(o)),o=pu(o);return a}:ih,Xe=$e;(pf&&Xe(new pf(new ArrayBuffer(1)))!=cr||ms&&Xe(new ms)!=yt||vf&&Xe(vf.resolve())!=Zt||uo&&Xe(new uo)!=Jt||_s&&Xe(new _s)!=ue)&&(Xe=function(o){var a=$e(o),h=a==zt?o.constructor:n,y=h?yi(h):"";if(y)switch(y){case tR:return cr;case eR:return yt;case nR:return Zt;case rR:return Jt;case iR:return ue}return a});function yO(o,a,h){for(var y=-1,S=h.length;++y<S;){var R=h[y],P=R.size;switch(R.type){case"drop":o+=P;break;case"dropRight":a-=P;break;case"take":a=Ye(a,o+P);break;case"takeRight":o=Re(o,a-P);break}}return{start:o,end:a}}function bO(o){var a=o.match(AC);return a?a[1].split(CC):[]}function Bm(o,a,h){a=Yr(a,o);for(var y=-1,S=a.length,R=!1;++y<S;){var P=Kn(a[y]);if(!(R=o!=null&&h(o,P)))break;o=o[P]}return R||++y!=S?R:(S=o==null?0:o.length,!!S&&ju(S)&&gr(P,S)&&(Tt(o)||bi(o)))}function xO(o){var a=o.length,h=new o.constructor(a);return a&&typeof o[0]=="string"&&te.call(o,"index")&&(h.index=o.index,h.input=o.input),h}function Gm(o){return typeof o.constructor=="function"&&!Cs(o)?co(pu(o)):{}}function wO(o,a,h){var y=o.constructor;switch(a){case rn:return Pf(o);case gt:case Dt:return new y(+o);case cr:return oO(o,h);case to:case us:case Gr:case ci:case ls:case eo:case fi:case cs:case fs:return _m(o,h);case yt:return new y;case Et:case _e:return new y(o);case Wt:return sO(o);case Jt:return new y;case ye:return aO(o)}}function SO(o,a){var h=a.length;if(!h)return o;var y=h-1;return a[y]=(h>1?"& ":"")+a[y],a=a.join(h>2?", ":" "),o.replace(DC,`{
/* [wrapped with `+a+`] */
`)}function EO(o){return Tt(o)||bi(o)||!!(j0&&o&&o[j0])}function gr(o,a){var h=typeof o;return a=a??U,!!a&&(h=="number"||h!="symbol"&&GC.test(o))&&o>-1&&o%1==0&&o<a}function Qe(o,a,h){if(!de(h))return!1;var y=typeof a;return(y=="number"?sn(h)&&gr(a,h.length):y=="string"&&a in h)?jn(h[a],o):!1}function jf(o,a){if(Tt(o))return!1;var h=typeof o;return h=="number"||h=="symbol"||h=="boolean"||o==null||pn(o)?!0:xC.test(o)||!bC.test(o)||a!=null&&o in ie(a)}function DO(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function Wf(o){var a=Pu(o),h=C[a];if(typeof h!="function"||!(a in Yt.prototype))return!1;if(o===h)return!0;var y=Ff(h);return!!y&&o===y[0]}function AO(o){return!!L0&&L0 in o}var CO=lu?mr:oh;function Cs(o){var a=o&&o.constructor,h=typeof a=="function"&&a.prototype||ao;return o===h}function Lm(o){return o===o&&!de(o)}function Fm(o,a){return function(h){return h==null?!1:h[o]===a&&(a!==n||o in ie(h))}}function MO(o){var a=zu(o,function(y){return h.size===f&&h.clear(),y}),h=a.cache;return a}function RO(o,a){var h=o[1],y=a[1],S=h|y,R=S<(b|x|T),P=y==T&&h==E||y==T&&h==O&&o[7].length<=a[8]||y==(T|O)&&a[7].length<=a[8]&&h==E;if(!(R||P))return o;y&b&&(o[2]=a[2],S|=h&b?0:w);var L=a[3];if(L){var W=o[3];o[3]=W?bm(W,L,a[4]):L,o[4]=W?zr(o[3],d):a[4]}return L=a[5],L&&(W=o[5],o[5]=W?xm(W,L,a[6]):L,o[6]=W?zr(o[5],d):a[6]),L=a[7],L&&(o[7]=L),y&T&&(o[8]=o[8]==null?a[8]:Ye(o[8],a[8])),o[9]==null&&(o[9]=a[9]),o[0]=a[0],o[1]=S,o}function OO(o){var a=[];if(o!=null)for(var h in ie(o))a.push(h);return a}function TO(o){return fu.call(o)}function zm(o,a,h){return a=Re(a===n?o.length-1:a,0),function(){for(var y=arguments,S=-1,R=Re(y.length-a,0),P=q(R);++S<R;)P[S]=y[a+S];S=-1;for(var L=q(a+1);++S<a;)L[S]=y[S];return L[a]=h(P),fn(o,this,L)}}function Nm(o,a){return a.length<2?o:mi(o,Rn(a,0,-1))}function IO(o,a){for(var h=o.length,y=Ye(a.length,h),S=on(o);y--;){var R=a[y];o[y]=gr(R,h)?S[R]:n}return o}function Yf(o,a){if(!(a==="constructor"&&typeof o[a]=="function")&&a!="__proto__")return o[a]}var jm=Ym(cm),Ms=VM||function(o,a){return Ge.setTimeout(o,a)},Xf=Ym(eO);function Wm(o,a,h){var y=a+"";return Xf(o,SO(y,PO(bO(y),h)))}function Ym(o){var a=0,h=0;return function(){var y=ZM(),S=G-(y-h);if(h=y,S>0){if(++a>=z)return arguments[0]}else a=0;return o.apply(n,arguments)}}function Bu(o,a){var h=-1,y=o.length,S=y-1;for(a=a===n?y:a;++h<a;){var R=Af(h,S),P=o[R];o[R]=o[h],o[h]=P}return o.length=a,o}var Xm=MO(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(wC,function(h,y,S,R){a.push(S?R.replace(OC,"$1"):y||h)}),a});function Kn(o){if(typeof o=="string"||pn(o))return o;var a=o+"";return a=="0"&&1/o==-tt?"-0":a}function yi(o){if(o!=null){try{return cu.call(o)}catch{}try{return o+""}catch{}}return""}function PO(o,a){return Dn(at,function(h){var y="_."+h[0];a&h[1]&&!ou(o,y)&&o.push(y)}),o.sort()}function qm(o){if(o instanceof Yt)return o.clone();var a=new Cn(o.__wrapped__,o.__chain__);return a.__actions__=on(o.__actions__),a.__index__=o.__index__,a.__values__=o.__values__,a}function kO(o,a,h){(h?Qe(o,a,h):a===n)?a=1:a=Re(kt(a),0);var y=o==null?0:o.length;if(!y||a<1)return[];for(var S=0,R=0,P=q(mu(y/a));S<y;)P[R++]=Rn(o,S,S+=a);return P}function BO(o){for(var a=-1,h=o==null?0:o.length,y=0,S=[];++a<h;){var R=o[a];R&&(S[y++]=R)}return S}function GO(){var o=arguments.length;if(!o)return[];for(var a=q(o-1),h=arguments[0],y=o;y--;)a[y-1]=arguments[y];return Fr(Tt(h)?on(h):[h],Le(a,1))}var LO=Ft(function(o,a){return be(o)?ws(o,Le(a,1,be,!0)):[]}),FO=Ft(function(o,a){var h=On(a);return be(h)&&(h=n),be(o)?ws(o,Le(a,1,be,!0),xt(h,2)):[]}),zO=Ft(function(o,a){var h=On(a);return be(h)&&(h=n),be(o)?ws(o,Le(a,1,be,!0),n,h):[]});function NO(o,a,h){var y=o==null?0:o.length;return y?(a=h||a===n?1:kt(a),Rn(o,a<0?0:a,y)):[]}function jO(o,a,h){var y=o==null?0:o.length;return y?(a=h||a===n?1:kt(a),a=y-a,Rn(o,0,a<0?0:a)):[]}function WO(o,a){return o&&o.length?Cu(o,xt(a,3),!0,!0):[]}function YO(o,a){return o&&o.length?Cu(o,xt(a,3),!0):[]}function XO(o,a,h,y){var S=o==null?0:o.length;return S?(h&&typeof h!="number"&&Qe(o,a,h)&&(h=0,y=S),GR(o,a,h,y)):[]}function Hm(o,a,h){var y=o==null?0:o.length;if(!y)return-1;var S=h==null?0:kt(h);return S<0&&(S=Re(y+S,0)),su(o,xt(a,3),S)}function Vm(o,a,h){var y=o==null?0:o.length;if(!y)return-1;var S=y-1;return h!==n&&(S=kt(h),S=h<0?Re(y+S,0):Ye(S,y-1)),su(o,xt(a,3),S,!0)}function Um(o){var a=o==null?0:o.length;return a?Le(o,1):[]}function qO(o){var a=o==null?0:o.length;return a?Le(o,tt):[]}function HO(o,a){var h=o==null?0:o.length;return h?(a=a===n?1:kt(a),Le(o,a)):[]}function VO(o){for(var a=-1,h=o==null?0:o.length,y={};++a<h;){var S=o[a];y[S[0]]=S[1]}return y}function $m(o){return o&&o.length?o[0]:n}function UO(o,a,h){var y=o==null?0:o.length;if(!y)return-1;var S=h==null?0:kt(h);return S<0&&(S=Re(y+S,0)),ro(o,a,S)}function $O(o){var a=o==null?0:o.length;return a?Rn(o,0,-1):[]}var QO=Ft(function(o){var a=fe(o,Tf);return a.length&&a[0]===o[0]?xf(a):[]}),ZO=Ft(function(o){var a=On(o),h=fe(o,Tf);return a===On(h)?a=n:h.pop(),h.length&&h[0]===o[0]?xf(h,xt(a,2)):[]}),JO=Ft(function(o){var a=On(o),h=fe(o,Tf);return a=typeof a=="function"?a:n,a&&h.pop(),h.length&&h[0]===o[0]?xf(h,n,a):[]});function KO(o,a){return o==null?"":$M.call(o,a)}function On(o){var a=o==null?0:o.length;return a?o[a-1]:n}function tT(o,a,h){var y=o==null?0:o.length;if(!y)return-1;var S=y;return h!==n&&(S=kt(h),S=S<0?Re(y+S,0):Ye(S,y-1)),a===a?PM(o,a,S):su(o,R0,S,!0)}function eT(o,a){return o&&o.length?sm(o,kt(a)):n}var nT=Ft(Qm);function Qm(o,a){return o&&o.length&&a&&a.length?Df(o,a):o}function rT(o,a,h){return o&&o.length&&a&&a.length?Df(o,a,xt(h,2)):o}function iT(o,a,h){return o&&o.length&&a&&a.length?Df(o,a,n,h):o}var oT=vr(function(o,a){var h=o==null?0:o.length,y=mf(o,a);return lm(o,fe(a,function(S){return gr(S,h)?+S:S}).sort(ym)),y});function sT(o,a){var h=[];if(!(o&&o.length))return h;var y=-1,S=[],R=o.length;for(a=xt(a,3);++y<R;){var P=o[y];a(P,y,o)&&(h.push(P),S.push(y))}return lm(o,S),h}function qf(o){return o==null?o:KM.call(o)}function aT(o,a,h){var y=o==null?0:o.length;return y?(h&&typeof h!="number"&&Qe(o,a,h)?(a=0,h=y):(a=a==null?0:kt(a),h=h===n?y:kt(h)),Rn(o,a,h)):[]}function uT(o,a){return Au(o,a)}function lT(o,a,h){return Mf(o,a,xt(h,2))}function cT(o,a){var h=o==null?0:o.length;if(h){var y=Au(o,a);if(y<h&&jn(o[y],a))return y}return-1}function fT(o,a){return Au(o,a,!0)}function hT(o,a,h){return Mf(o,a,xt(h,2),!0)}function dT(o,a){var h=o==null?0:o.length;if(h){var y=Au(o,a,!0)-1;if(jn(o[y],a))return y}return-1}function pT(o){return o&&o.length?fm(o):[]}function vT(o,a){return o&&o.length?fm(o,xt(a,2)):[]}function gT(o){var a=o==null?0:o.length;return a?Rn(o,1,a):[]}function mT(o,a,h){return o&&o.length?(a=h||a===n?1:kt(a),Rn(o,0,a<0?0:a)):[]}function _T(o,a,h){var y=o==null?0:o.length;return y?(a=h||a===n?1:kt(a),a=y-a,Rn(o,a<0?0:a,y)):[]}function yT(o,a){return o&&o.length?Cu(o,xt(a,3),!1,!0):[]}function bT(o,a){return o&&o.length?Cu(o,xt(a,3)):[]}var xT=Ft(function(o){return Wr(Le(o,1,be,!0))}),wT=Ft(function(o){var a=On(o);return be(a)&&(a=n),Wr(Le(o,1,be,!0),xt(a,2))}),ST=Ft(function(o){var a=On(o);return a=typeof a=="function"?a:n,Wr(Le(o,1,be,!0),n,a)});function ET(o){return o&&o.length?Wr(o):[]}function DT(o,a){return o&&o.length?Wr(o,xt(a,2)):[]}function AT(o,a){return a=typeof a=="function"?a:n,o&&o.length?Wr(o,n,a):[]}function Hf(o){if(!(o&&o.length))return[];var a=0;return o=Lr(o,function(h){if(be(h))return a=Re(h.length,a),!0}),lf(a,function(h){return fe(o,sf(h))})}function Zm(o,a){if(!(o&&o.length))return[];var h=Hf(o);return a==null?h:fe(h,function(y){return fn(a,n,y)})}var CT=Ft(function(o,a){return be(o)?ws(o,a):[]}),MT=Ft(function(o){return Of(Lr(o,be))}),RT=Ft(function(o){var a=On(o);return be(a)&&(a=n),Of(Lr(o,be),xt(a,2))}),OT=Ft(function(o){var a=On(o);return a=typeof a=="function"?a:n,Of(Lr(o,be),n,a)}),TT=Ft(Hf);function IT(o,a){return vm(o||[],a||[],xs)}function PT(o,a){return vm(o||[],a||[],Ds)}var kT=Ft(function(o){var a=o.length,h=a>1?o[a-1]:n;return h=typeof h=="function"?(o.pop(),h):n,Zm(o,h)});function Jm(o){var a=C(o);return a.__chain__=!0,a}function BT(o,a){return a(o),o}function Gu(o,a){return a(o)}var GT=vr(function(o){var a=o.length,h=a?o[0]:0,y=this.__wrapped__,S=function(R){return mf(R,o)};return a>1||this.__actions__.length||!(y instanceof Yt)||!gr(h)?this.thru(S):(y=y.slice(h,+h+(a?1:0)),y.__actions__.push({func:Gu,args:[S],thisArg:n}),new Cn(y,this.__chain__).thru(function(R){return a&&!R.length&&R.push(n),R}))});function LT(){return Jm(this)}function FT(){return new Cn(this.value(),this.__chain__)}function zT(){this.__values__===n&&(this.__values__=h_(this.value()));var o=this.__index__>=this.__values__.length,a=o?n:this.__values__[this.__index__++];return{done:o,value:a}}function NT(){return this}function jT(o){for(var a,h=this;h instanceof xu;){var y=qm(h);y.__index__=0,y.__values__=n,a?S.__wrapped__=y:a=y;var S=y;h=h.__wrapped__}return S.__wrapped__=o,a}function WT(){var o=this.__wrapped__;if(o instanceof Yt){var a=o;return this.__actions__.length&&(a=new Yt(this)),a=a.reverse(),a.__actions__.push({func:Gu,args:[qf],thisArg:n}),new Cn(a,this.__chain__)}return this.thru(qf)}function YT(){return pm(this.__wrapped__,this.__actions__)}var XT=Mu(function(o,a,h){te.call(o,h)?++o[h]:dr(o,h,1)});function qT(o,a,h){var y=Tt(o)?C0:BR;return h&&Qe(o,a,h)&&(a=n),y(o,xt(a,3))}function HT(o,a){var h=Tt(o)?Lr:Z0;return h(o,xt(a,3))}var VT=Dm(Hm),UT=Dm(Vm);function $T(o,a){return Le(Lu(o,a),1)}function QT(o,a){return Le(Lu(o,a),tt)}function ZT(o,a,h){return h=h===n?1:kt(h),Le(Lu(o,a),h)}function Km(o,a){var h=Tt(o)?Dn:jr;return h(o,xt(a,3))}function t_(o,a){var h=Tt(o)?gM:Q0;return h(o,xt(a,3))}var JT=Mu(function(o,a,h){te.call(o,h)?o[h].push(a):dr(o,h,[a])});function KT(o,a,h,y){o=sn(o)?o:go(o),h=h&&!y?kt(h):0;var S=o.length;return h<0&&(h=Re(S+h,0)),Wu(o)?h<=S&&o.indexOf(a,h)>-1:!!S&&ro(o,a,h)>-1}var t2=Ft(function(o,a,h){var y=-1,S=typeof a=="function",R=sn(o)?q(o.length):[];return jr(o,function(P){R[++y]=S?fn(a,P,h):Ss(P,a,h)}),R}),e2=Mu(function(o,a,h){dr(o,h,a)});function Lu(o,a){var h=Tt(o)?fe:rm;return h(o,xt(a,3))}function n2(o,a,h,y){return o==null?[]:(Tt(a)||(a=a==null?[]:[a]),h=y?n:h,Tt(h)||(h=h==null?[]:[h]),am(o,a,h))}var r2=Mu(function(o,a,h){o[h?0:1].push(a)},function(){return[[],[]]});function i2(o,a,h){var y=Tt(o)?rf:T0,S=arguments.length<3;return y(o,xt(a,4),h,S,jr)}function o2(o,a,h){var y=Tt(o)?mM:T0,S=arguments.length<3;return y(o,xt(a,4),h,S,Q0)}function s2(o,a){var h=Tt(o)?Lr:Z0;return h(o,Nu(xt(a,3)))}function a2(o){var a=Tt(o)?H0:KR;return a(o)}function u2(o,a,h){(h?Qe(o,a,h):a===n)?a=1:a=kt(a);var y=Tt(o)?OR:tO;return y(o,a)}function l2(o){var a=Tt(o)?TR:nO;return a(o)}function c2(o){if(o==null)return 0;if(sn(o))return Wu(o)?oo(o):o.length;var a=Xe(o);return a==yt||a==Jt?o.size:Sf(o).length}function f2(o,a,h){var y=Tt(o)?of:rO;return h&&Qe(o,a,h)&&(a=n),y(o,xt(a,3))}var h2=Ft(function(o,a){if(o==null)return[];var h=a.length;return h>1&&Qe(o,a[0],a[1])?a=[]:h>2&&Qe(a[0],a[1],a[2])&&(a=[a[0]]),am(o,Le(a,1),[])}),Fu=HM||function(){return Ge.Date.now()};function d2(o,a){if(typeof a!="function")throw new An(u);return o=kt(o),function(){if(--o<1)return a.apply(this,arguments)}}function e_(o,a,h){return a=h?n:a,a=o&&a==null?o.length:a,pr(o,T,n,n,n,n,a)}function n_(o,a){var h;if(typeof a!="function")throw new An(u);return o=kt(o),function(){return--o>0&&(h=a.apply(this,arguments)),o<=1&&(a=n),h}}var Vf=Ft(function(o,a,h){var y=b;if(h.length){var S=zr(h,po(Vf));y|=M}return pr(o,y,a,h,S)}),r_=Ft(function(o,a,h){var y=b|x;if(h.length){var S=zr(h,po(r_));y|=M}return pr(a,y,o,h,S)});function i_(o,a,h){a=h?n:a;var y=pr(o,E,n,n,n,n,n,a);return y.placeholder=i_.placeholder,y}function o_(o,a,h){a=h?n:a;var y=pr(o,D,n,n,n,n,n,a);return y.placeholder=o_.placeholder,y}function s_(o,a,h){var y,S,R,P,L,W,$=0,Q=!1,et=!1,ct=!0;if(typeof o!="function")throw new An(u);a=Tn(a)||0,de(h)&&(Q=!!h.leading,et="maxWait"in h,R=et?Re(Tn(h.maxWait)||0,a):R,ct="trailing"in h?!!h.trailing:ct);function mt(xe){var Wn=y,yr=S;return y=S=n,$=xe,P=o.apply(yr,Wn),P}function wt(xe){return $=xe,L=Ms(Nt,a),Q?mt(xe):P}function Gt(xe){var Wn=xe-W,yr=xe-$,D_=a-Wn;return et?Ye(D_,R-yr):D_}function St(xe){var Wn=xe-W,yr=xe-$;return W===n||Wn>=a||Wn<0||et&&yr>=R}function Nt(){var xe=Fu();if(St(xe))return Xt(xe);L=Ms(Nt,Gt(xe))}function Xt(xe){return L=n,ct&&y?mt(xe):(y=S=n,P)}function vn(){L!==n&&gm(L),$=0,y=W=S=L=n}function Ze(){return L===n?P:Xt(Fu())}function gn(){var xe=Fu(),Wn=St(xe);if(y=arguments,S=this,W=xe,Wn){if(L===n)return wt(W);if(et)return gm(L),L=Ms(Nt,a),mt(W)}return L===n&&(L=Ms(Nt,a)),P}return gn.cancel=vn,gn.flush=Ze,gn}var p2=Ft(function(o,a){return $0(o,1,a)}),v2=Ft(function(o,a,h){return $0(o,Tn(a)||0,h)});function g2(o){return pr(o,I)}function zu(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new An(u);var h=function(){var y=arguments,S=a?a.apply(this,y):y[0],R=h.cache;if(R.has(S))return R.get(S);var P=o.apply(this,y);return h.cache=R.set(S,P)||R,P};return h.cache=new(zu.Cache||hr),h}zu.Cache=hr;function Nu(o){if(typeof o!="function")throw new An(u);return function(){var a=arguments;switch(a.length){case 0:return!o.call(this);case 1:return!o.call(this,a[0]);case 2:return!o.call(this,a[0],a[1]);case 3:return!o.call(this,a[0],a[1],a[2])}return!o.apply(this,a)}}function m2(o){return n_(2,o)}var _2=iO(function(o,a){a=a.length==1&&Tt(a[0])?fe(a[0],hn(xt())):fe(Le(a,1),hn(xt()));var h=a.length;return Ft(function(y){for(var S=-1,R=Ye(y.length,h);++S<R;)y[S]=a[S].call(this,y[S]);return fn(o,this,y)})}),Uf=Ft(function(o,a){var h=zr(a,po(Uf));return pr(o,M,n,a,h)}),a_=Ft(function(o,a){var h=zr(a,po(a_));return pr(o,A,n,a,h)}),y2=vr(function(o,a){return pr(o,O,n,n,n,a)});function b2(o,a){if(typeof o!="function")throw new An(u);return a=a===n?a:kt(a),Ft(o,a)}function x2(o,a){if(typeof o!="function")throw new An(u);return a=a==null?0:Re(kt(a),0),Ft(function(h){var y=h[a],S=Xr(h,0,a);return y&&Fr(S,y),fn(o,this,S)})}function w2(o,a,h){var y=!0,S=!0;if(typeof o!="function")throw new An(u);return de(h)&&(y="leading"in h?!!h.leading:y,S="trailing"in h?!!h.trailing:S),s_(o,a,{leading:y,maxWait:a,trailing:S})}function S2(o){return e_(o,1)}function E2(o,a){return Uf(If(a),o)}function D2(){if(!arguments.length)return[];var o=arguments[0];return Tt(o)?o:[o]}function A2(o){return Mn(o,g)}function C2(o,a){return a=typeof a=="function"?a:n,Mn(o,g,a)}function M2(o){return Mn(o,p|g)}function R2(o,a){return a=typeof a=="function"?a:n,Mn(o,p|g,a)}function O2(o,a){return a==null||U0(o,a,Ie(a))}function jn(o,a){return o===a||o!==o&&a!==a}var T2=Iu(bf),I2=Iu(function(o,a){return o>=a}),bi=tm(function(){return arguments}())?tm:function(o){return ge(o)&&te.call(o,"callee")&&!N0.call(o,"callee")},Tt=q.isArray,P2=x0?hn(x0):jR;function sn(o){return o!=null&&ju(o.length)&&!mr(o)}function be(o){return ge(o)&&sn(o)}function k2(o){return o===!0||o===!1||ge(o)&&$e(o)==gt}var qr=UM||oh,B2=w0?hn(w0):WR;function G2(o){return ge(o)&&o.nodeType===1&&!Rs(o)}function L2(o){if(o==null)return!0;if(sn(o)&&(Tt(o)||typeof o=="string"||typeof o.splice=="function"||qr(o)||vo(o)||bi(o)))return!o.length;var a=Xe(o);if(a==yt||a==Jt)return!o.size;if(Cs(o))return!Sf(o).length;for(var h in o)if(te.call(o,h))return!1;return!0}function F2(o,a){return Es(o,a)}function z2(o,a,h){h=typeof h=="function"?h:n;var y=h?h(o,a):n;return y===n?Es(o,a,n,h):!!y}function $f(o){if(!ge(o))return!1;var a=$e(o);return a==st||a==jt||typeof o.message=="string"&&typeof o.name=="string"&&!Rs(o)}function N2(o){return typeof o=="number"&&W0(o)}function mr(o){if(!de(o))return!1;var a=$e(o);return a==vt||a==Ut||a==dt||a==Pt}function u_(o){return typeof o=="number"&&o==kt(o)}function ju(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=U}function de(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}function ge(o){return o!=null&&typeof o=="object"}var l_=S0?hn(S0):XR;function j2(o,a){return o===a||wf(o,a,zf(a))}function W2(o,a,h){return h=typeof h=="function"?h:n,wf(o,a,zf(a),h)}function Y2(o){return c_(o)&&o!=+o}function X2(o){if(CO(o))throw new Rt(s);return em(o)}function q2(o){return o===null}function H2(o){return o==null}function c_(o){return typeof o=="number"||ge(o)&&$e(o)==Et}function Rs(o){if(!ge(o)||$e(o)!=zt)return!1;var a=pu(o);if(a===null)return!0;var h=te.call(a,"constructor")&&a.constructor;return typeof h=="function"&&h instanceof h&&cu.call(h)==WM}var Qf=E0?hn(E0):qR;function V2(o){return u_(o)&&o>=-U&&o<=U}var f_=D0?hn(D0):HR;function Wu(o){return typeof o=="string"||!Tt(o)&&ge(o)&&$e(o)==_e}function pn(o){return typeof o=="symbol"||ge(o)&&$e(o)==ye}var vo=A0?hn(A0):VR;function U2(o){return o===n}function $2(o){return ge(o)&&Xe(o)==ue}function Q2(o){return ge(o)&&$e(o)==Qn}var Z2=Iu(Ef),J2=Iu(function(o,a){return o<=a});function h_(o){if(!o)return[];if(sn(o))return Wu(o)?zn(o):on(o);if(gs&&o[gs])return OM(o[gs]());var a=Xe(o),h=a==yt?ff:a==Jt?au:go;return h(o)}function _r(o){if(!o)return o===0?o:0;if(o=Tn(o),o===tt||o===-tt){var a=o<0?-1:1;return a*rt}return o===o?o:0}function kt(o){var a=_r(o),h=a%1;return a===a?h?a-h:a:0}function d_(o){return o?gi(kt(o),0,H):0}function Tn(o){if(typeof o=="number")return o;if(pn(o))return nt;if(de(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=de(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=I0(o);var h=PC.test(o);return h||BC.test(o)?dM(o.slice(2),h?2:8):IC.test(o)?nt:+o}function p_(o){return Jn(o,an(o))}function K2(o){return o?gi(kt(o),-U,U):o===0?o:0}function Kt(o){return o==null?"":dn(o)}var tI=fo(function(o,a){if(Cs(a)||sn(a)){Jn(a,Ie(a),o);return}for(var h in a)te.call(a,h)&&xs(o,h,a[h])}),v_=fo(function(o,a){Jn(a,an(a),o)}),Yu=fo(function(o,a,h,y){Jn(a,an(a),o,y)}),eI=fo(function(o,a,h,y){Jn(a,Ie(a),o,y)}),nI=vr(mf);function rI(o,a){var h=co(o);return a==null?h:V0(h,a)}var iI=Ft(function(o,a){o=ie(o);var h=-1,y=a.length,S=y>2?a[2]:n;for(S&&Qe(a[0],a[1],S)&&(y=1);++h<y;)for(var R=a[h],P=an(R),L=-1,W=P.length;++L<W;){var $=P[L],Q=o[$];(Q===n||jn(Q,ao[$])&&!te.call(o,$))&&(o[$]=R[$])}return o}),oI=Ft(function(o){return o.push(n,Im),fn(g_,n,o)});function sI(o,a){return M0(o,xt(a,3),Zn)}function aI(o,a){return M0(o,xt(a,3),yf)}function uI(o,a){return o==null?o:_f(o,xt(a,3),an)}function lI(o,a){return o==null?o:J0(o,xt(a,3),an)}function cI(o,a){return o&&Zn(o,xt(a,3))}function fI(o,a){return o&&yf(o,xt(a,3))}function hI(o){return o==null?[]:Eu(o,Ie(o))}function dI(o){return o==null?[]:Eu(o,an(o))}function Zf(o,a,h){var y=o==null?n:mi(o,a);return y===n?h:y}function pI(o,a){return o!=null&&Bm(o,a,LR)}function Jf(o,a){return o!=null&&Bm(o,a,FR)}var vI=Cm(function(o,a,h){a!=null&&typeof a.toString!="function"&&(a=fu.call(a)),o[a]=h},th(un)),gI=Cm(function(o,a,h){a!=null&&typeof a.toString!="function"&&(a=fu.call(a)),te.call(o,a)?o[a].push(h):o[a]=[h]},xt),mI=Ft(Ss);function Ie(o){return sn(o)?q0(o):Sf(o)}function an(o){return sn(o)?q0(o,!0):UR(o)}function _I(o,a){var h={};return a=xt(a,3),Zn(o,function(y,S,R){dr(h,a(y,S,R),y)}),h}function yI(o,a){var h={};return a=xt(a,3),Zn(o,function(y,S,R){dr(h,S,a(y,S,R))}),h}var bI=fo(function(o,a,h){Du(o,a,h)}),g_=fo(function(o,a,h,y){Du(o,a,h,y)}),xI=vr(function(o,a){var h={};if(o==null)return h;var y=!1;a=fe(a,function(R){return R=Yr(R,o),y||(y=R.length>1),R}),Jn(o,Lf(o),h),y&&(h=Mn(h,p|v|g,vO));for(var S=a.length;S--;)Rf(h,a[S]);return h});function wI(o,a){return m_(o,Nu(xt(a)))}var SI=vr(function(o,a){return o==null?{}:QR(o,a)});function m_(o,a){if(o==null)return{};var h=fe(Lf(o),function(y){return[y]});return a=xt(a),um(o,h,function(y,S){return a(y,S[0])})}function EI(o,a,h){a=Yr(a,o);var y=-1,S=a.length;for(S||(S=1,o=n);++y<S;){var R=o==null?n:o[Kn(a[y])];R===n&&(y=S,R=h),o=mr(R)?R.call(o):R}return o}function DI(o,a,h){return o==null?o:Ds(o,a,h)}function AI(o,a,h,y){return y=typeof y=="function"?y:n,o==null?o:Ds(o,a,h,y)}var __=Om(Ie),y_=Om(an);function CI(o,a,h){var y=Tt(o),S=y||qr(o)||vo(o);if(a=xt(a,4),h==null){var R=o&&o.constructor;S?h=y?new R:[]:de(o)?h=mr(R)?co(pu(o)):{}:h={}}return(S?Dn:Zn)(o,function(P,L,W){return a(h,P,L,W)}),h}function MI(o,a){return o==null?!0:Rf(o,a)}function RI(o,a,h){return o==null?o:dm(o,a,If(h))}function OI(o,a,h,y){return y=typeof y=="function"?y:n,o==null?o:dm(o,a,If(h),y)}function go(o){return o==null?[]:cf(o,Ie(o))}function TI(o){return o==null?[]:cf(o,an(o))}function II(o,a,h){return h===n&&(h=a,a=n),h!==n&&(h=Tn(h),h=h===h?h:0),a!==n&&(a=Tn(a),a=a===a?a:0),gi(Tn(o),a,h)}function PI(o,a,h){return a=_r(a),h===n?(h=a,a=0):h=_r(h),o=Tn(o),zR(o,a,h)}function kI(o,a,h){if(h&&typeof h!="boolean"&&Qe(o,a,h)&&(a=h=n),h===n&&(typeof a=="boolean"?(h=a,a=n):typeof o=="boolean"&&(h=o,o=n)),o===n&&a===n?(o=0,a=1):(o=_r(o),a===n?(a=o,o=0):a=_r(a)),o>a){var y=o;o=a,a=y}if(h||o%1||a%1){var S=Y0();return Ye(o+S*(a-o+hM("1e-"+((S+"").length-1))),a)}return Af(o,a)}var BI=ho(function(o,a,h){return a=a.toLowerCase(),o+(h?b_(a):a)});function b_(o){return Kf(Kt(o).toLowerCase())}function x_(o){return o=Kt(o),o&&o.replace(LC,DM).replace(nM,"")}function GI(o,a,h){o=Kt(o),a=dn(a);var y=o.length;h=h===n?y:gi(kt(h),0,y);var S=h;return h-=a.length,h>=0&&o.slice(h,S)==a}function LI(o){return o=Kt(o),o&&Hc.test(o)?o.replace(ds,AM):o}function FI(o){return o=Kt(o),o&&SC.test(o)?o.replace(Vc,"\\$&"):o}var zI=ho(function(o,a,h){return o+(h?"-":"")+a.toLowerCase()}),NI=ho(function(o,a,h){return o+(h?" ":"")+a.toLowerCase()}),jI=Em("toLowerCase");function WI(o,a,h){o=Kt(o),a=kt(a);var y=a?oo(o):0;if(!a||y>=a)return o;var S=(a-y)/2;return Tu(_u(S),h)+o+Tu(mu(S),h)}function YI(o,a,h){o=Kt(o),a=kt(a);var y=a?oo(o):0;return a&&y<a?o+Tu(a-y,h):o}function XI(o,a,h){o=Kt(o),a=kt(a);var y=a?oo(o):0;return a&&y<a?Tu(a-y,h)+o:o}function qI(o,a,h){return h||a==null?a=0:a&&(a=+a),JM(Kt(o).replace(Uc,""),a||0)}function HI(o,a,h){return(h?Qe(o,a,h):a===n)?a=1:a=kt(a),Cf(Kt(o),a)}function VI(){var o=arguments,a=Kt(o[0]);return o.length<3?a:a.replace(o[1],o[2])}var UI=ho(function(o,a,h){return o+(h?"_":"")+a.toLowerCase()});function $I(o,a,h){return h&&typeof h!="number"&&Qe(o,a,h)&&(a=h=n),h=h===n?H:h>>>0,h?(o=Kt(o),o&&(typeof a=="string"||a!=null&&!Qf(a))&&(a=dn(a),!a&&io(o))?Xr(zn(o),0,h):o.split(a,h)):[]}var QI=ho(function(o,a,h){return o+(h?" ":"")+Kf(a)});function ZI(o,a,h){return o=Kt(o),h=h==null?0:gi(kt(h),0,o.length),a=dn(a),o.slice(h,h+a.length)==a}function JI(o,a,h){var y=C.templateSettings;h&&Qe(o,a,h)&&(a=n),o=Kt(o),a=Yu({},a,y,Tm);var S=Yu({},a.imports,y.imports,Tm),R=Ie(S),P=cf(S,R),L,W,$=0,Q=a.interpolate||nu,et="__p += '",ct=hf((a.escape||nu).source+"|"+Q.source+"|"+(Q===Kg?TC:nu).source+"|"+(a.evaluate||nu).source+"|$","g"),mt="//# sourceURL="+(te.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++aM+"]")+`
`;o.replace(ct,function(St,Nt,Xt,vn,Ze,gn){return Xt||(Xt=vn),et+=o.slice($,gn).replace(FC,CM),Nt&&(L=!0,et+=`' +
__e(`+Nt+`) +
'`),Ze&&(W=!0,et+=`';
`+Ze+`;
__p += '`),Xt&&(et+=`' +
((__t = (`+Xt+`)) == null ? '' : __t) +
'`),$=gn+St.length,St}),et+=`';
`;var wt=te.call(a,"variable")&&a.variable;if(!wt)et=`with (obj) {
`+et+`
}
`;else if(RC.test(wt))throw new Rt(l);et=(W?et.replace(qc,""):et).replace(hs,"$1").replace(re,"$1;"),et="function("+(wt||"obj")+`) {
`+(wt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(L?", __e = _.escape":"")+(W?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+et+`return __p
}`;var Gt=S_(function(){return $t(R,mt+"return "+et).apply(n,P)});if(Gt.source=et,$f(Gt))throw Gt;return Gt}function KI(o){return Kt(o).toLowerCase()}function tP(o){return Kt(o).toUpperCase()}function eP(o,a,h){if(o=Kt(o),o&&(h||a===n))return I0(o);if(!o||!(a=dn(a)))return o;var y=zn(o),S=zn(a),R=P0(y,S),P=k0(y,S)+1;return Xr(y,R,P).join("")}function nP(o,a,h){if(o=Kt(o),o&&(h||a===n))return o.slice(0,G0(o)+1);if(!o||!(a=dn(a)))return o;var y=zn(o),S=k0(y,zn(a))+1;return Xr(y,0,S).join("")}function rP(o,a,h){if(o=Kt(o),o&&(h||a===n))return o.replace(Uc,"");if(!o||!(a=dn(a)))return o;var y=zn(o),S=P0(y,zn(a));return Xr(y,S).join("")}function iP(o,a){var h=k,y=N;if(de(a)){var S="separator"in a?a.separator:S;h="length"in a?kt(a.length):h,y="omission"in a?dn(a.omission):y}o=Kt(o);var R=o.length;if(io(o)){var P=zn(o);R=P.length}if(h>=R)return o;var L=h-oo(y);if(L<1)return y;var W=P?Xr(P,0,L).join(""):o.slice(0,L);if(S===n)return W+y;if(P&&(L+=W.length-L),Qf(S)){if(o.slice(L).search(S)){var $,Q=W;for(S.global||(S=hf(S.source,Kt(t0.exec(S))+"g")),S.lastIndex=0;$=S.exec(Q);)var et=$.index;W=W.slice(0,et===n?L:et)}}else if(o.indexOf(dn(S),L)!=L){var ct=W.lastIndexOf(S);ct>-1&&(W=W.slice(0,ct))}return W+y}function oP(o){return o=Kt(o),o&&eu.test(o)?o.replace(Te,kM):o}var sP=ho(function(o,a,h){return o+(h?" ":"")+a.toUpperCase()}),Kf=Em("toUpperCase");function w_(o,a,h){return o=Kt(o),a=h?n:a,a===n?RM(o)?LM(o):bM(o):o.match(a)||[]}var S_=Ft(function(o,a){try{return fn(o,n,a)}catch(h){return $f(h)?h:new Rt(h)}}),aP=vr(function(o,a){return Dn(a,function(h){h=Kn(h),dr(o,h,Vf(o[h],o))}),o});function uP(o){var a=o==null?0:o.length,h=xt();return o=a?fe(o,function(y){if(typeof y[1]!="function")throw new An(u);return[h(y[0]),y[1]]}):[],Ft(function(y){for(var S=-1;++S<a;){var R=o[S];if(fn(R[0],this,y))return fn(R[1],this,y)}})}function lP(o){return kR(Mn(o,p))}function th(o){return function(){return o}}function cP(o,a){return o==null||o!==o?a:o}var fP=Am(),hP=Am(!0);function un(o){return o}function eh(o){return nm(typeof o=="function"?o:Mn(o,p))}function dP(o){return im(Mn(o,p))}function pP(o,a){return om(o,Mn(a,p))}var vP=Ft(function(o,a){return function(h){return Ss(h,o,a)}}),gP=Ft(function(o,a){return function(h){return Ss(o,h,a)}});function nh(o,a,h){var y=Ie(a),S=Eu(a,y);h==null&&!(de(a)&&(S.length||!y.length))&&(h=a,a=o,o=this,S=Eu(a,Ie(a)));var R=!(de(h)&&"chain"in h)||!!h.chain,P=mr(o);return Dn(S,function(L){var W=a[L];o[L]=W,P&&(o.prototype[L]=function(){var $=this.__chain__;if(R||$){var Q=o(this.__wrapped__),et=Q.__actions__=on(this.__actions__);return et.push({func:W,args:arguments,thisArg:o}),Q.__chain__=$,Q}return W.apply(o,Fr([this.value()],arguments))})}),o}function mP(){return Ge._===this&&(Ge._=YM),this}function rh(){}function _P(o){return o=kt(o),Ft(function(a){return sm(a,o)})}var yP=kf(fe),bP=kf(C0),xP=kf(of);function E_(o){return jf(o)?sf(Kn(o)):ZR(o)}function wP(o){return function(a){return o==null?n:mi(o,a)}}var SP=Mm(),EP=Mm(!0);function ih(){return[]}function oh(){return!1}function DP(){return{}}function AP(){return""}function CP(){return!0}function MP(o,a){if(o=kt(o),o<1||o>U)return[];var h=H,y=Ye(o,H);a=xt(a),o-=H;for(var S=lf(y,a);++h<o;)a(h);return S}function RP(o){return Tt(o)?fe(o,Kn):pn(o)?[o]:on(Xm(Kt(o)))}function OP(o){var a=++jM;return Kt(o)+a}var TP=Ou(function(o,a){return o+a},0),IP=Bf("ceil"),PP=Ou(function(o,a){return o/a},1),kP=Bf("floor");function BP(o){return o&&o.length?Su(o,un,bf):n}function GP(o,a){return o&&o.length?Su(o,xt(a,2),bf):n}function LP(o){return O0(o,un)}function FP(o,a){return O0(o,xt(a,2))}function zP(o){return o&&o.length?Su(o,un,Ef):n}function NP(o,a){return o&&o.length?Su(o,xt(a,2),Ef):n}var jP=Ou(function(o,a){return o*a},1),WP=Bf("round"),YP=Ou(function(o,a){return o-a},0);function XP(o){return o&&o.length?uf(o,un):0}function qP(o,a){return o&&o.length?uf(o,xt(a,2)):0}return C.after=d2,C.ary=e_,C.assign=tI,C.assignIn=v_,C.assignInWith=Yu,C.assignWith=eI,C.at=nI,C.before=n_,C.bind=Vf,C.bindAll=aP,C.bindKey=r_,C.castArray=D2,C.chain=Jm,C.chunk=kO,C.compact=BO,C.concat=GO,C.cond=uP,C.conforms=lP,C.constant=th,C.countBy=XT,C.create=rI,C.curry=i_,C.curryRight=o_,C.debounce=s_,C.defaults=iI,C.defaultsDeep=oI,C.defer=p2,C.delay=v2,C.difference=LO,C.differenceBy=FO,C.differenceWith=zO,C.drop=NO,C.dropRight=jO,C.dropRightWhile=WO,C.dropWhile=YO,C.fill=XO,C.filter=HT,C.flatMap=$T,C.flatMapDeep=QT,C.flatMapDepth=ZT,C.flatten=Um,C.flattenDeep=qO,C.flattenDepth=HO,C.flip=g2,C.flow=fP,C.flowRight=hP,C.fromPairs=VO,C.functions=hI,C.functionsIn=dI,C.groupBy=JT,C.initial=$O,C.intersection=QO,C.intersectionBy=ZO,C.intersectionWith=JO,C.invert=vI,C.invertBy=gI,C.invokeMap=t2,C.iteratee=eh,C.keyBy=e2,C.keys=Ie,C.keysIn=an,C.map=Lu,C.mapKeys=_I,C.mapValues=yI,C.matches=dP,C.matchesProperty=pP,C.memoize=zu,C.merge=bI,C.mergeWith=g_,C.method=vP,C.methodOf=gP,C.mixin=nh,C.negate=Nu,C.nthArg=_P,C.omit=xI,C.omitBy=wI,C.once=m2,C.orderBy=n2,C.over=yP,C.overArgs=_2,C.overEvery=bP,C.overSome=xP,C.partial=Uf,C.partialRight=a_,C.partition=r2,C.pick=SI,C.pickBy=m_,C.property=E_,C.propertyOf=wP,C.pull=nT,C.pullAll=Qm,C.pullAllBy=rT,C.pullAllWith=iT,C.pullAt=oT,C.range=SP,C.rangeRight=EP,C.rearg=y2,C.reject=s2,C.remove=sT,C.rest=b2,C.reverse=qf,C.sampleSize=u2,C.set=DI,C.setWith=AI,C.shuffle=l2,C.slice=aT,C.sortBy=h2,C.sortedUniq=pT,C.sortedUniqBy=vT,C.split=$I,C.spread=x2,C.tail=gT,C.take=mT,C.takeRight=_T,C.takeRightWhile=yT,C.takeWhile=bT,C.tap=BT,C.throttle=w2,C.thru=Gu,C.toArray=h_,C.toPairs=__,C.toPairsIn=y_,C.toPath=RP,C.toPlainObject=p_,C.transform=CI,C.unary=S2,C.union=xT,C.unionBy=wT,C.unionWith=ST,C.uniq=ET,C.uniqBy=DT,C.uniqWith=AT,C.unset=MI,C.unzip=Hf,C.unzipWith=Zm,C.update=RI,C.updateWith=OI,C.values=go,C.valuesIn=TI,C.without=CT,C.words=w_,C.wrap=E2,C.xor=MT,C.xorBy=RT,C.xorWith=OT,C.zip=TT,C.zipObject=IT,C.zipObjectDeep=PT,C.zipWith=kT,C.entries=__,C.entriesIn=y_,C.extend=v_,C.extendWith=Yu,nh(C,C),C.add=TP,C.attempt=S_,C.camelCase=BI,C.capitalize=b_,C.ceil=IP,C.clamp=II,C.clone=A2,C.cloneDeep=M2,C.cloneDeepWith=R2,C.cloneWith=C2,C.conformsTo=O2,C.deburr=x_,C.defaultTo=cP,C.divide=PP,C.endsWith=GI,C.eq=jn,C.escape=LI,C.escapeRegExp=FI,C.every=qT,C.find=VT,C.findIndex=Hm,C.findKey=sI,C.findLast=UT,C.findLastIndex=Vm,C.findLastKey=aI,C.floor=kP,C.forEach=Km,C.forEachRight=t_,C.forIn=uI,C.forInRight=lI,C.forOwn=cI,C.forOwnRight=fI,C.get=Zf,C.gt=T2,C.gte=I2,C.has=pI,C.hasIn=Jf,C.head=$m,C.identity=un,C.includes=KT,C.indexOf=UO,C.inRange=PI,C.invoke=mI,C.isArguments=bi,C.isArray=Tt,C.isArrayBuffer=P2,C.isArrayLike=sn,C.isArrayLikeObject=be,C.isBoolean=k2,C.isBuffer=qr,C.isDate=B2,C.isElement=G2,C.isEmpty=L2,C.isEqual=F2,C.isEqualWith=z2,C.isError=$f,C.isFinite=N2,C.isFunction=mr,C.isInteger=u_,C.isLength=ju,C.isMap=l_,C.isMatch=j2,C.isMatchWith=W2,C.isNaN=Y2,C.isNative=X2,C.isNil=H2,C.isNull=q2,C.isNumber=c_,C.isObject=de,C.isObjectLike=ge,C.isPlainObject=Rs,C.isRegExp=Qf,C.isSafeInteger=V2,C.isSet=f_,C.isString=Wu,C.isSymbol=pn,C.isTypedArray=vo,C.isUndefined=U2,C.isWeakMap=$2,C.isWeakSet=Q2,C.join=KO,C.kebabCase=zI,C.last=On,C.lastIndexOf=tT,C.lowerCase=NI,C.lowerFirst=jI,C.lt=Z2,C.lte=J2,C.max=BP,C.maxBy=GP,C.mean=LP,C.meanBy=FP,C.min=zP,C.minBy=NP,C.stubArray=ih,C.stubFalse=oh,C.stubObject=DP,C.stubString=AP,C.stubTrue=CP,C.multiply=jP,C.nth=eT,C.noConflict=mP,C.noop=rh,C.now=Fu,C.pad=WI,C.padEnd=YI,C.padStart=XI,C.parseInt=qI,C.random=kI,C.reduce=i2,C.reduceRight=o2,C.repeat=HI,C.replace=VI,C.result=EI,C.round=WP,C.runInContext=j,C.sample=a2,C.size=c2,C.snakeCase=UI,C.some=f2,C.sortedIndex=uT,C.sortedIndexBy=lT,C.sortedIndexOf=cT,C.sortedLastIndex=fT,C.sortedLastIndexBy=hT,C.sortedLastIndexOf=dT,C.startCase=QI,C.startsWith=ZI,C.subtract=YP,C.sum=XP,C.sumBy=qP,C.template=JI,C.times=MP,C.toFinite=_r,C.toInteger=kt,C.toLength=d_,C.toLower=KI,C.toNumber=Tn,C.toSafeInteger=K2,C.toString=Kt,C.toUpper=tP,C.trim=eP,C.trimEnd=nP,C.trimStart=rP,C.truncate=iP,C.unescape=oP,C.uniqueId=OP,C.upperCase=sP,C.upperFirst=Kf,C.each=Km,C.eachRight=t_,C.first=$m,nh(C,function(){var o={};return Zn(C,function(a,h){te.call(C.prototype,h)||(o[h]=a)}),o}(),{chain:!1}),C.VERSION=r,Dn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){C[o].placeholder=C}),Dn(["drop","take"],function(o,a){Yt.prototype[o]=function(h){h=h===n?1:Re(kt(h),0);var y=this.__filtered__&&!a?new Yt(this):this.clone();return y.__filtered__?y.__takeCount__=Ye(h,y.__takeCount__):y.__views__.push({size:Ye(h,H),type:o+(y.__dir__<0?"Right":"")}),y},Yt.prototype[o+"Right"]=function(h){return this.reverse()[o](h).reverse()}}),Dn(["filter","map","takeWhile"],function(o,a){var h=a+1,y=h==Y||h==K;Yt.prototype[o]=function(S){var R=this.clone();return R.__iteratees__.push({iteratee:xt(S,3),type:h}),R.__filtered__=R.__filtered__||y,R}}),Dn(["head","last"],function(o,a){var h="take"+(a?"Right":"");Yt.prototype[o]=function(){return this[h](1).value()[0]}}),Dn(["initial","tail"],function(o,a){var h="drop"+(a?"":"Right");Yt.prototype[o]=function(){return this.__filtered__?new Yt(this):this[h](1)}}),Yt.prototype.compact=function(){return this.filter(un)},Yt.prototype.find=function(o){return this.filter(o).head()},Yt.prototype.findLast=function(o){return this.reverse().find(o)},Yt.prototype.invokeMap=Ft(function(o,a){return typeof o=="function"?new Yt(this):this.map(function(h){return Ss(h,o,a)})}),Yt.prototype.reject=function(o){return this.filter(Nu(xt(o)))},Yt.prototype.slice=function(o,a){o=kt(o);var h=this;return h.__filtered__&&(o>0||a<0)?new Yt(h):(o<0?h=h.takeRight(-o):o&&(h=h.drop(o)),a!==n&&(a=kt(a),h=a<0?h.dropRight(-a):h.take(a-o)),h)},Yt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},Yt.prototype.toArray=function(){return this.take(H)},Zn(Yt.prototype,function(o,a){var h=/^(?:filter|find|map|reject)|While$/.test(a),y=/^(?:head|last)$/.test(a),S=C[y?"take"+(a=="last"?"Right":""):a],R=y||/^find/.test(a);S&&(C.prototype[a]=function(){var P=this.__wrapped__,L=y?[1]:arguments,W=P instanceof Yt,$=L[0],Q=W||Tt(P),et=function(Nt){var Xt=S.apply(C,Fr([Nt],L));return y&&ct?Xt[0]:Xt};Q&&h&&typeof $=="function"&&$.length!=1&&(W=Q=!1);var ct=this.__chain__,mt=!!this.__actions__.length,wt=R&&!ct,Gt=W&&!mt;if(!R&&Q){P=Gt?P:new Yt(this);var St=o.apply(P,L);return St.__actions__.push({func:Gu,args:[et],thisArg:n}),new Cn(St,ct)}return wt&&Gt?o.apply(this,L):(St=this.thru(et),wt?y?St.value()[0]:St.value():St)})}),Dn(["pop","push","shift","sort","splice","unshift"],function(o){var a=uu[o],h=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",y=/^(?:pop|shift)$/.test(o);C.prototype[o]=function(){var S=arguments;if(y&&!this.__chain__){var R=this.value();return a.apply(Tt(R)?R:[],S)}return this[h](function(P){return a.apply(Tt(P)?P:[],S)})}}),Zn(Yt.prototype,function(o,a){var h=C[a];if(h){var y=h.name+"";te.call(lo,y)||(lo[y]=[]),lo[y].push({name:a,func:h})}}),lo[Ru(n,x).name]=[{name:"wrapper",func:n}],Yt.prototype.clone=oR,Yt.prototype.reverse=sR,Yt.prototype.value=aR,C.prototype.at=GT,C.prototype.chain=LT,C.prototype.commit=FT,C.prototype.next=zT,C.prototype.plant=jT,C.prototype.reverse=WT,C.prototype.toJSON=C.prototype.valueOf=C.prototype.value=YT,C.prototype.first=C.prototype.head,gs&&(C.prototype[gs]=NT),C},so=FM();hi?((hi.exports=so)._=so,tf._=so):Ge._=so}).call(os)}(Qa,Qa.exports);var kA=Qa.exports,Za={};Object.defineProperty(Za,"__esModule",{value:!0}),Za.backtrace=void 0;function BA(t,e,n){const r=[];let i=n?t:t.getParent();for(;i.getParent();)r.push([i.position.x,i.position.y]),i=i.getParent();return e&&r.push([i.position.x,i.position.y]),r.reverse()}Za.backtrace=BA;var Ja={};Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.calculateHeuristic=void 0;function GA(t,e,n,r){const i=Math.abs(n.x-e.x),s=Math.abs(n.y-e.y);switch(t){case"Manhatten":case"Manhattan":return(i+s)*r;case"Euclidean":return Math.sqrt(i*i+s*s)*r;case"Chebyshev":return Math.max(i,s)*r;case"Octile":return(i+s-.58*Math.min(i,s))*r}}Ja.calculateHeuristic=GA;var ss={},Ka={};Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.Node=void 0;class LA{constructor(e){this.id=e.id,this.position=e.position,this.hValue=0,this.gValue=0,this.fValue=0,this.parentNode=void 0,this.isOnClosedList=!1,this.isOnOpenList=!1,this.isWalkable=e.walkable||!0}calculateFValue(){this.fValue=this.gValue+this.hValue}setGValue(e){this.gValue=e,this.calculateFValue()}setHValue(e){this.hValue=e,this.calculateFValue()}setFGHValuesToZero(){this.fValue=this.gValue=this.hValue=0}getFValue(){return this.fValue}getGValue(){return this.gValue}getHValue(){return this.hValue}getParent(){return this.parentNode}getIsOnClosedList(){return this.isOnClosedList}getIsOnOpenList(){return this.isOnOpenList}getIsWalkable(){return this.isWalkable}setParent(e){this.parentNode=e}setIsOnClosedList(e){this.isOnClosedList=e}setIsOnOpenList(e){this.isOnOpenList=e}setIsWalkable(e){this.isWalkable=e}}Ka.Node=LA,Object.defineProperty(ss,"__esModule",{value:!0}),ss.Grid=void 0;const jg=Ka;class FA{constructor(e){e.width&&e.height?(this.width=e.width,this.height=e.height,this.numberOfFields=this.width*this.height):e.matrix&&(this.width=e.matrix[0].length,this.height=e.matrix.length,this.numberOfFields=this.width*this.height),this.gridNodes=this.buildGridWithNodes(e.matrix||void 0,this.width,this.height,e.densityOfObstacles||0)}buildGridWithNodes(e,n,r,i){const s=[];let u=0;for(let l=0;l<r;l++){s[l]=[];for(let c=0;c<n;c++)s[l][c]=new jg.Node({id:u,position:{x:c,y:l}}),u++}if(e===void 0){for(let l=0;l<r;l++)for(let c=0;c<n;c++)Math.floor(Math.random()*10)+1>10-i?s[l][c].setIsWalkable(!1):s[l][c].setIsWalkable(!0);return s}for(let l=0;l<r;l++)for(let c=0;c<n;c++)s[l][c].setIsWalkable(!e[l][c]);return s}getNodeAt(e){return this.gridNodes[e.y][e.x]}isWalkableAt(e){return this.gridNodes[e.y][e.x].getIsWalkable()}isOnTheGrid(e){return e.x>=0&&e.x<this.width&&e.y>=0&&e.y<this.height}getSurroundingNodes(e,n){const r=[],i=e.x-1,s=e.x+1,u=e.y-1,l=e.y+1;for(let c=u;c<=l;c++)for(let f=i;f<=s;f++)(f!==e.x||c!==e.y)&&this.isOnTheGrid({x:f,y:c})&&this.isWalkableAt({x:f,y:c})&&(n||f==e.x||c==e.y)&&r.push(this.getNodeAt({x:f,y:c}));return r}setGrid(e){this.gridNodes=e}resetGrid(){for(let e=0;e<this.gridNodes.length;e++)for(let n=0;n<this.gridNodes[e].length;n++)this.gridNodes[e][n].setIsOnClosedList(!1),this.gridNodes[e][n].setIsOnOpenList(!1),this.gridNodes[e][n].setParent(void 0),this.gridNodes[e][n].setFGHValuesToZero()}getGridNodes(){return this.gridNodes}clone(){const e=[];let n=0;for(let r=0;r<this.height;r++){e[r]=[];for(let i=0;i<this.width;i++)e[r][i]=new jg.Node({id:n,position:{x:i,y:r},walkable:this.gridNodes[r][i].getIsWalkable()}),n++}return e}}ss.Grid=FA,Object.defineProperty($a,"__esModule",{value:!0}),$a.AStarFinder=void 0;const Wg=kA,Yg=Za,zA=Ja,NA=ss;class jA{constructor(e){this.grid=new NA.Grid({width:e.grid.width,height:e.grid.height,matrix:e.grid.matrix||void 0,densityOfObstacles:e.grid.densityOfObstacles||0}),this.closedList=[],this.openList=[],this.diagonalAllowed=e.diagonalAllowed!==void 0?e.diagonalAllowed:!0,this.heuristic=e.heuristic?e.heuristic:"Manhattan",this.includeStartNode=e.includeStartNode!==void 0?e.includeStartNode:!0,this.includeEndNode=e.includeEndNode!==void 0?e.includeEndNode:!0,this.allowPathAsCloseAsPossible=e.allowPathAsCloseAsPossible||!1,this.weight=e.weight||1}findPath(e,n){this.closedList=[],this.openList=[],this.grid.resetGrid();const r=this.grid.getNodeAt(e),i=this.grid.getNodeAt(n);if(!this.grid.isWalkableAt(n)||!this.grid.isWalkableAt(e))return[];r.setIsOnOpenList(!0),this.openList.push(r);for(let s=0;s<this.grid.height;s++)for(let u=0;u<this.grid.width;u++){let l=this.grid.getNodeAt({x:u,y:s});this.grid.isWalkableAt({x:u,y:s})?l.setHValue((0,zA.calculateHeuristic)(this.heuristic,l.position,i.position,this.weight)):(l.setFGHValuesToZero(),l.setIsOnClosedList(!0),this.closedList.push(l))}for(;this.openList.length!==0;){const s=(0,Wg.minBy)(this.openList,l=>l.getFValue());if(s.setIsOnOpenList(!1),(0,Wg.remove)(this.openList,s),s.setIsOnClosedList(!0),this.closedList.push(s),s===i)return(0,Yg.backtrace)(i,this.includeStartNode,this.includeEndNode);const u=this.grid.getSurroundingNodes(s.position,this.diagonalAllowed);for(let l in u){const c=u[l];if(c.getIsOnClosedList())continue;const f=s.getGValue()+(c.position.x!==s.position.x||c.position.y==s.position.y?this.weight:this.weight*1.41421);(!c.getIsOnOpenList()||f<c.getGValue())&&(c.setGValue(f),c.setParent(s),c.getIsOnOpenList()?c.setParent(s):(c.setIsOnOpenList(!0),this.openList.push(c)))}}return this.allowPathAsCloseAsPossible?(0,Yg.backtrace)(this.closedList[this.closedList.length-1],this.includeStartNode,!1):[]}setHeuristic(e){this.heuristic=e}setWeight(e){this.weight=e}getGridClone(){return this.grid.clone()}getGrid(){return this.grid}}$a.AStarFinder=jA,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Grid=t.AStarFinder=void 0;var e=$a;Object.defineProperty(t,"AStarFinder",{enumerable:!0,get:function(){return e.AStarFinder}});var n=ss;Object.defineProperty(t,"Grid",{enumerable:!0,get:function(){return n.Grid}})}(Ng);const as=Qt("Manhattan"),tu=Qt(1);function Xc(t,e){return[e[0]-t[0],e[1]-t[1]]}function Xg(t,e){return t[0]*e[0]+t[1]*e[1]}function qg(t,e){return t[0]*e[1]-t[1]*e[0]}const Hg=Qt({leftTack:[0,0,0,1,1],rightTack:[1,1,0,0,0],cross:[0,0,0,0,0]}),WA=Qt([[-2,0],[-1,0],[0,0],[1,0],[2,0]]);function YA(t,e){let n="",r=null,i=null;Tx(e,4).forEach(s=>{r=null;const u=Xc(s[1],s[0]),l=Xc(s[2],s[1]),c=Xc(s[3],s[2]),f=Xg(l,c),d=qg(l,c),p=Math.atan2(d,f)/Math.PI*180,v=Xg(u,c),g=qg(u,c),m=Math.atan2(g,v)/Math.PI*180;if(p==-90||p==90)r=s[1];else if(p==-45||p==45)r=[s[0][0]+2*u[0],s[0][1]+2*u[1]];else{n+="-";return}const _=[-u[1],u[0]];i=null;for(const b in Hg.value){const x=Hg.value[b];let w=!0;for(const[E,D]of WA.value.entries())if(_[0]*D[0]||_[1]*D[1]){const M=t[_[1]*D[1]+r[1]][_[0]*D[0]+r[0]];console.log(`Sensor #${E}, Reading ${M}. Expect ${x[E]}. Condition is ${M==x[E]}`),console.log(`Location at (${_[1]*D[1]+r[1]}y, ${_[0]*D[0]+r[0]}x)`);debugger;w&&(w=x[E]==M)}w&&(i=b)}i&&(m==0?n+="f":m==-90?n+="l":m==90&&(n+="r"))}),n=n.replace(/-+/g,"-"),console.log(n)}const XA={class:"flex justify-center items-center bg-base w-full h-[95%]"},qA={key:0,class:"flex flex-col items-center"},HA=At("i",{class:"fa-solid fa-file-upload opacity-30 text-[10vw]"},null,-1),VA=At("h1",{class:"opacity-30 text-center"},"Drag in the map here.",-1),UA=[HA,VA],$A=At("i",{class:"fa-solid fa-location-crosshairs fa-2xl text-accent text-center"},null,-1),QA=At("i",{class:"fa-solid fa-location-pin fa-2xl text-accent-secondary text-center"},null,-1),ZA=br({__name:"RobotMap",setup(t){const e=Qt(document.createElement("canvas")),n=Qt(document.createElement("canvas")),r=Qt(null),i=Qt(PA(r)),s=Qt(!1),u=Qt([0,0]),l=Qt([0,0]),c=Qt(0),f=Qt(0),d=x=>{var A,T;s.value=!0;const w=(A=x.target.files)==null?void 0:A[0],E=new Image,D=new FileReader,M=(T=e==null?void 0:e.value)==null?void 0:T.getContext("2d",{willReadFrequently:!0});D.readAsDataURL(w),D.onload=O=>{var I;((I=O.target)==null?void 0:I.readyState)==FileReader.DONE&&(E.src=O.target.result,E.onload=()=>{M.canvas.width=E.width,M.canvas.height=E.height,c.value=E.width,f.value=E.height,M.drawImage(E,0,0)})}},p=async x=>{const w=await Lg(x,Math.round(u.value[0]),Math.round(u.value[1])),E=await Lg(x,Math.round(l.value[0]),Math.round(l.value[1]));return console.log(as.value),new Ng.AStarFinder({grid:{matrix:x},heuristic:as.value,weight:tu.value}).findPath({x:w[0],y:w[1]},{x:E[0],y:E[1]})},v=x=>{const w=n.value.getContext("2d");w.canvas.width=c.value,w.canvas.height=f.value,w.fillStyle="#0ea5e9",x.forEach(E=>{w.fillRect(E[0]-5,E[1]-5,10,10)})},g=async()=>{var k;const x=(k=e==null?void 0:e.value)==null?void 0:k.getContext("2d",{willReadFrequently:!0}),w=new ImageData(new Uint8ClampedArray([0,0,0,0]),1,1),{data:E,width:D,height:M}=(x==null?void 0:x.getImageData(0,0,x.canvas.width,x.canvas.height))??w,A=await wA(E,D,M);A.forEach((N,z)=>N.forEach((G,Y)=>{x==null||x.putImageData(new ImageData(new Uint8ClampedArray([G*255,G*255,G*255,255]),1,1),Y,z)}));const T=e.value.toDataURL("image/png"),O=document.createElement("a");O.download="canvas_image.png",O.href=T,O.click(),console.log("THINNED");const I=await p(A);v(I),b(),YA(A,I)},m=x=>{var N,z;const{left:w,right:E,top:D,bottom:M,width:A,height:T}=((N=r.value)==null?void 0:N.getBoundingClientRect())??new DOMRect,O=(z=e.value)==null?void 0:z.getContext("2d",{willReadFrequently:!0}),I=Ua(x[0],w,E)-w,k=Ua(x[1],D,M)-D;u.value=[I/A*O.canvas.width,k/T*O.canvas.height]},_=x=>{var N,z;const{left:w,right:E,top:D,bottom:M,width:A,height:T}=((N=r.value)==null?void 0:N.getBoundingClientRect())??new DOMRect,O=(z=e.value)==null?void 0:z.getContext("2d",{willReadFrequently:!0}),I=Ua(x[0],w,E)-w,k=Ua(x[1],D,M)-D;l.value=[I/A*O.canvas.width,k/T*O.canvas.height]},b=()=>{var w;const x=(w=r.value)==null?void 0:w.getContext("2d");x&&(x.canvas.width=c.value,x.canvas.height=f.value,x==null||x.drawImage(e.value,0,0),x==null||x.drawImage(n.value,0,0))};return QP(b),ZP(b),(x,w)=>(se(),Pe(Os,null,[At("div",XA,[At("input",{class:"w-4/5 h-4/5 opacity-0 absolute",accept:"image/png, image/jpeg",type:"file",onChange:d,onClick:w[0]||(w[0]=JP(()=>{},["prevent"]))},null,32),ch(At("canvas",{ref_key:"canvas",ref:r,class:"rounded border-outline border-2 max-w-[50vw] max-h-[50vh]"},null,512),[[R_,s.value]]),s.value?fh("",!0):(se(),Pe("div",qA,UA))]),s.value?(se(),Vr(Bg,{key:0,bounds:i.value,onUpdate:m},{default:Ts(()=>[$A]),_:1},8,["bounds"])):fh("",!0),s.value?(se(),Vr(Bg,{key:1,bounds:i.value,y_offset_percentage:-100,onUpdate:_},{default:Ts(()=>[QA]),_:1},8,["bounds"])):fh("",!0),At("button",{onClick:g,class:"bg-base border-outline z-10 rounded"},"Generate Path")],64))}}),JA={class:"flex flex-col"},KA=At("i",{class:"fa-solid fa-chevron-down fa-2xs"},null,-1),tC={class:"bg-background rounded outline-outline outline-2 absolute translate-y-[1lh] -translate-x-10"},eC=["onClick"],nC=br({__name:"Dropdown",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(t){const e=Qt(!1),n=KP(t,"modelValue");return(r,i)=>(se(),Pe("div",JA,[At("div",{class:"rounded bg-background min-h-[1lh] flex justify-between items-center p-2 transition-all",onClick:i[0]||(i[0]=s=>e.value=!e.value)},[At("p",null,qu(n.value),1),uh(),KA]),ch(At("div",tC,[(se(!0),Pe(Os,null,sh(Object.keys(r.$slots),s=>(se(),Pe("div",{onClick:()=>{n.value=s,e.value=!1},class:"p-2 select-none hover:bg-opacity-60"},[Xu(r.$slots,s)],8,eC))),256))],512),[[R_,e.value]])]))}}),rC={class:"bg-base w-full h-full rounded p-4"},iC=At("h1",{class:"text-5xl font-bold mb-5"},"Pathfinding",-1),oC={class:"flex flex-col gap-2"},sC={class:"flex justify-between text-4xl"},aC=At("p",null,"A* Heuristics Algorithm",-1),uC={class:"font-bold"},lC={class:"text-secondary text-xs"},cC={class:"flex justify-between text-4xl"},fC=At("p",null,"A* Heuristics Weight",-1),hC={__name:"Options",setup(t){const e=Qt(["Manhattan","Euclidean","Chebyshev","Octile"]),n=Qt(["Best for maps with straight lines with a lot of corners.","Best for maps with curves and turns.","Best for maps with straight lines and diagonals.","Best for maps with multiple goals, objectives."]),r=Qt(["crop-simple","ruler-combined","crop","compass-drafting"]);return(i,s)=>(se(),Pe("div",rC,[iC,At("div",oC,[At("div",sC,[aC,Hr(nC,{modelValue:In(as),"onUpdate:modelValue":s[0]||(s[0]=u=>O_(as)?as.value=u:null)},tk({_:2},[sh(e.value,(u,l)=>({name:u,fn:Ts(()=>[At("h2",uC,[At("i",{class:ah(`fa-solid fa-${r.value[l]} fa-sm`)},null,2),uh(" \xA0"+qu(u),1)]),At("p",lC,qu(n.value[l]),1)])}))]),1032,["modelValue"])]),At("div",cC,[fC,ch(At("input",{class:"rounded text-right w-[3em]",type:"number",step:"0.1","onUpdate:modelValue":s[1]||(s[1]=u=>O_(tu)?tu.value=u:null)},null,512),[[ek,In(tu)]])])])]))}},dC={},pC={class:"bg-base w-full h-full rounded flex flex-col justify-center items-center"},vC=At("i",{class:"fa-solid fa-triangle-exclamation text-[10vw] opacity-30"},null,-1),gC=At("p",{class:"opacity-30 text-center text-xl"},"Oops! This tab is not supported yet!",-1),mC=[vC,gC];function _C(t,e){return se(),Pe("div",pC,mC)}let Vg,Ug,$g,Qg,Zg,Jg;Vg=Ps(dC,[["render",_C]]),Ug=br({__name:"Workspace",props:{workspace:{}},setup(t){return(e,n)=>(se(),Vr(A_,null,[e.workspace===In(ir).None?(se(),Vr(Vx,{key:0})):e.workspace===In(ir).Map?(se(),Vr(ZA,{key:1})):e.workspace===In(ir).Options?(se(),Vr(hC,{key:2})):(se(),Vr(Vg,{key:3}))],1024))}}),$g={class:"flex flex-col justify-between w-4/5 h-[90vh] gap-2"},Qg=br({__name:"Editor",setup(t){const e=Qt(0);return(n,r)=>(se(),Pe("div",$g,[Hr(Nx,{onSelect:r[0]||(r[0]=i=>e.value=i)}),Hr(Ug,{workspace:e.value},null,8,["workspace"])]))}}),Zg=At("h1",{class:"text-primary text-4xl font-bold text-center p-4"},"Linelint",-1),Jg={class:"flex flex-row flex-nowrap justify-evenly"},T_=br({__name:"Home",setup(t){return(e,n)=>(se(),Pe(Os,null,[Zg,At("div",Jg,[Hr(L_),Hr(Qg)])],64))}})});export{rk as __tla,T_ as default};
